var fC=Object.defineProperty;var K_=m=>{throw TypeError(m)};var pC=(m,e,i)=>e in m?fC(m,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):m[e]=i;var wt=(m,e,i)=>pC(m,typeof e!="symbol"?e+"":e,i),_v=(m,e,i)=>e.has(m)||K_("Cannot "+i);var c=(m,e,i)=>(_v(m,e,"read from private field"),i?i.call(m):e.get(m)),w=(m,e,i)=>e.has(m)?K_("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(m):e.set(m,i),S=(m,e,i,s)=>(_v(m,e,"write to private field"),s?s.call(m,i):e.set(m,i),i),T=(m,e,i)=>(_v(m,e,"access private method"),i);var Ni=(m,e,i,s)=>({set _(r){S(m,e,r,i)},get _(){return c(m,e,s)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function i(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=i(r);fetch(r.href,o)}})();function gC(m){return m&&m.__esModule&&Object.prototype.hasOwnProperty.call(m,"default")?m.default:m}var Ev={exports:{}},Mu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q_;function mC(){if(Q_)return Mu;Q_=1;var m=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,r,o){var u=null;if(o!==void 0&&(u=""+o),r.key!==void 0&&(u=""+r.key),"key"in r){o={};for(var d in r)d!=="key"&&(o[d]=r[d])}else o=r;return r=o.ref,{$$typeof:m,type:s,key:u,ref:r!==void 0?r:null,props:o}}return Mu.Fragment=e,Mu.jsx=i,Mu.jsxs=i,Mu}var $_;function vC(){return $_||($_=1,Ev.exports=mC()),Ev.exports}var Ft=vC(),Sv={exports:{}},xt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W_;function bC(){if(W_)return xt;W_=1;var m=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.iterator;function y(L){return L===null||typeof L!="object"?null:(L=b&&L[b]||L["@@iterator"],typeof L=="function"?L:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,x={};function D(L,Q,at){this.props=L,this.context=Q,this.refs=x,this.updater=at||_}D.prototype.isReactComponent={},D.prototype.setState=function(L,Q){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,Q,"setState")},D.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function R(){}R.prototype=D.prototype;function N(L,Q,at){this.props=L,this.context=Q,this.refs=x,this.updater=at||_}var z=N.prototype=new R;z.constructor=N,E(z,D.prototype),z.isPureReactComponent=!0;var B=Array.isArray,U={H:null,A:null,T:null,S:null},j=Object.prototype.hasOwnProperty;function W(L,Q,at,it,tt,bt){return at=bt.ref,{$$typeof:m,type:L,key:Q,ref:at!==void 0?at:null,props:bt}}function Z(L,Q){return W(L.type,Q,void 0,void 0,void 0,L.props)}function q(L){return typeof L=="object"&&L!==null&&L.$$typeof===m}function J(L){var Q={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(at){return Q[at]})}var et=/\/+/g;function Tt(L,Q){return typeof L=="object"&&L!==null&&L.key!=null?J(""+L.key):Q.toString(36)}function gt(){}function ht(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(gt,gt):(L.status="pending",L.then(function(Q){L.status==="pending"&&(L.status="fulfilled",L.value=Q)},function(Q){L.status==="pending"&&(L.status="rejected",L.reason=Q)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function mt(L,Q,at,it,tt){var bt=typeof L;(bt==="undefined"||bt==="boolean")&&(L=null);var ft=!1;if(L===null)ft=!0;else switch(bt){case"bigint":case"string":case"number":ft=!0;break;case"object":switch(L.$$typeof){case m:case e:ft=!0;break;case v:return ft=L._init,mt(ft(L._payload),Q,at,it,tt)}}if(ft)return tt=tt(L),ft=it===""?"."+Tt(L,0):it,B(tt)?(at="",ft!=null&&(at=ft.replace(et,"$&/")+"/"),mt(tt,Q,at,"",function(Vt){return Vt})):tt!=null&&(q(tt)&&(tt=Z(tt,at+(tt.key==null||L&&L.key===tt.key?"":(""+tt.key).replace(et,"$&/")+"/")+ft)),Q.push(tt)),1;ft=0;var Ct=it===""?".":it+":";if(B(L))for(var _t=0;_t<L.length;_t++)it=L[_t],bt=Ct+Tt(it,_t),ft+=mt(it,Q,at,bt,tt);else if(_t=y(L),typeof _t=="function")for(L=_t.call(L),_t=0;!(it=L.next()).done;)it=it.value,bt=Ct+Tt(it,_t++),ft+=mt(it,Q,at,bt,tt);else if(bt==="object"){if(typeof L.then=="function")return mt(ht(L),Q,at,it,tt);throw Q=String(L),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return ft}function Y(L,Q,at){if(L==null)return L;var it=[],tt=0;return mt(L,it,"","",function(bt){return Q.call(at,bt,tt++)}),it}function X(L){if(L._status===-1){var Q=L._result;Q=Q(),Q.then(function(at){(L._status===0||L._status===-1)&&(L._status=1,L._result=at)},function(at){(L._status===0||L._status===-1)&&(L._status=2,L._result=at)}),L._status===-1&&(L._status=0,L._result=Q)}if(L._status===1)return L._result.default;throw L._result}var $=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function Rt(){}return xt.Children={map:Y,forEach:function(L,Q,at){Y(L,function(){Q.apply(this,arguments)},at)},count:function(L){var Q=0;return Y(L,function(){Q++}),Q},toArray:function(L){return Y(L,function(Q){return Q})||[]},only:function(L){if(!q(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},xt.Component=D,xt.Fragment=i,xt.Profiler=r,xt.PureComponent=N,xt.StrictMode=s,xt.Suspense=f,xt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,xt.act=function(){throw Error("act(...) is not supported in production builds of React.")},xt.cache=function(L){return function(){return L.apply(null,arguments)}},xt.cloneElement=function(L,Q,at){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var it=E({},L.props),tt=L.key,bt=void 0;if(Q!=null)for(ft in Q.ref!==void 0&&(bt=void 0),Q.key!==void 0&&(tt=""+Q.key),Q)!j.call(Q,ft)||ft==="key"||ft==="__self"||ft==="__source"||ft==="ref"&&Q.ref===void 0||(it[ft]=Q[ft]);var ft=arguments.length-2;if(ft===1)it.children=at;else if(1<ft){for(var Ct=Array(ft),_t=0;_t<ft;_t++)Ct[_t]=arguments[_t+2];it.children=Ct}return W(L.type,tt,void 0,void 0,bt,it)},xt.createContext=function(L){return L={$$typeof:u,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:o,_context:L},L},xt.createElement=function(L,Q,at){var it,tt={},bt=null;if(Q!=null)for(it in Q.key!==void 0&&(bt=""+Q.key),Q)j.call(Q,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(tt[it]=Q[it]);var ft=arguments.length-2;if(ft===1)tt.children=at;else if(1<ft){for(var Ct=Array(ft),_t=0;_t<ft;_t++)Ct[_t]=arguments[_t+2];tt.children=Ct}if(L&&L.defaultProps)for(it in ft=L.defaultProps,ft)tt[it]===void 0&&(tt[it]=ft[it]);return W(L,bt,void 0,void 0,null,tt)},xt.createRef=function(){return{current:null}},xt.forwardRef=function(L){return{$$typeof:d,render:L}},xt.isValidElement=q,xt.lazy=function(L){return{$$typeof:v,_payload:{_status:-1,_result:L},_init:X}},xt.memo=function(L,Q){return{$$typeof:p,type:L,compare:Q===void 0?null:Q}},xt.startTransition=function(L){var Q=U.T,at={};U.T=at;try{var it=L(),tt=U.S;tt!==null&&tt(at,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(Rt,$)}catch(bt){$(bt)}finally{U.T=Q}},xt.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},xt.use=function(L){return U.H.use(L)},xt.useActionState=function(L,Q,at){return U.H.useActionState(L,Q,at)},xt.useCallback=function(L,Q){return U.H.useCallback(L,Q)},xt.useContext=function(L){return U.H.useContext(L)},xt.useDebugValue=function(){},xt.useDeferredValue=function(L,Q){return U.H.useDeferredValue(L,Q)},xt.useEffect=function(L,Q){return U.H.useEffect(L,Q)},xt.useId=function(){return U.H.useId()},xt.useImperativeHandle=function(L,Q,at){return U.H.useImperativeHandle(L,Q,at)},xt.useInsertionEffect=function(L,Q){return U.H.useInsertionEffect(L,Q)},xt.useLayoutEffect=function(L,Q){return U.H.useLayoutEffect(L,Q)},xt.useMemo=function(L,Q){return U.H.useMemo(L,Q)},xt.useOptimistic=function(L,Q){return U.H.useOptimistic(L,Q)},xt.useReducer=function(L,Q,at){return U.H.useReducer(L,Q,at)},xt.useRef=function(L){return U.H.useRef(L)},xt.useState=function(L){return U.H.useState(L)},xt.useSyncExternalStore=function(L,Q,at){return U.H.useSyncExternalStore(L,Q,at)},xt.useTransition=function(){return U.H.useTransition()},xt.version="19.0.0",xt}var Z_;function J0(){return Z_||(Z_=1,Sv.exports=bC()),Sv.exports}var ot=J0(),Tv={exports:{}},Du={},wv={exports:{}},Cv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J_;function yC(){return J_||(J_=1,function(m){function e(Y,X){var $=Y.length;Y.push(X);t:for(;0<$;){var Rt=$-1>>>1,L=Y[Rt];if(0<r(L,X))Y[Rt]=X,Y[$]=L,$=Rt;else break t}}function i(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var X=Y[0],$=Y.pop();if($!==X){Y[0]=$;t:for(var Rt=0,L=Y.length,Q=L>>>1;Rt<Q;){var at=2*(Rt+1)-1,it=Y[at],tt=at+1,bt=Y[tt];if(0>r(it,$))tt<L&&0>r(bt,it)?(Y[Rt]=bt,Y[tt]=$,Rt=tt):(Y[Rt]=it,Y[at]=$,Rt=at);else if(tt<L&&0>r(bt,$))Y[Rt]=bt,Y[tt]=$,Rt=tt;else break t}}return X}function r(Y,X){var $=Y.sortIndex-X.sortIndex;return $!==0?$:Y.id-X.id}if(m.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;m.unstable_now=function(){return o.now()}}else{var u=Date,d=u.now();m.unstable_now=function(){return u.now()-d}}var f=[],p=[],v=1,b=null,y=3,_=!1,E=!1,x=!1,D=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function z(Y){for(var X=i(p);X!==null;){if(X.callback===null)s(p);else if(X.startTime<=Y)s(p),X.sortIndex=X.expirationTime,e(f,X);else break;X=i(p)}}function B(Y){if(x=!1,z(Y),!E)if(i(f)!==null)E=!0,ht();else{var X=i(p);X!==null&&mt(B,X.startTime-Y)}}var U=!1,j=-1,W=5,Z=-1;function q(){return!(m.unstable_now()-Z<W)}function J(){if(U){var Y=m.unstable_now();Z=Y;var X=!0;try{t:{E=!1,x&&(x=!1,R(j),j=-1),_=!0;var $=y;try{e:{for(z(Y),b=i(f);b!==null&&!(b.expirationTime>Y&&q());){var Rt=b.callback;if(typeof Rt=="function"){b.callback=null,y=b.priorityLevel;var L=Rt(b.expirationTime<=Y);if(Y=m.unstable_now(),typeof L=="function"){b.callback=L,z(Y),X=!0;break e}b===i(f)&&s(f),z(Y)}else s(f);b=i(f)}if(b!==null)X=!0;else{var Q=i(p);Q!==null&&mt(B,Q.startTime-Y),X=!1}}break t}finally{b=null,y=$,_=!1}X=void 0}}finally{X?et():U=!1}}}var et;if(typeof N=="function")et=function(){N(J)};else if(typeof MessageChannel<"u"){var Tt=new MessageChannel,gt=Tt.port2;Tt.port1.onmessage=J,et=function(){gt.postMessage(null)}}else et=function(){D(J,0)};function ht(){U||(U=!0,et())}function mt(Y,X){j=D(function(){Y(m.unstable_now())},X)}m.unstable_IdlePriority=5,m.unstable_ImmediatePriority=1,m.unstable_LowPriority=4,m.unstable_NormalPriority=3,m.unstable_Profiling=null,m.unstable_UserBlockingPriority=2,m.unstable_cancelCallback=function(Y){Y.callback=null},m.unstable_continueExecution=function(){E||_||(E=!0,ht())},m.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<Y?Math.floor(1e3/Y):5},m.unstable_getCurrentPriorityLevel=function(){return y},m.unstable_getFirstCallbackNode=function(){return i(f)},m.unstable_next=function(Y){switch(y){case 1:case 2:case 3:var X=3;break;default:X=y}var $=y;y=X;try{return Y()}finally{y=$}},m.unstable_pauseExecution=function(){},m.unstable_requestPaint=function(){},m.unstable_runWithPriority=function(Y,X){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var $=y;y=Y;try{return X()}finally{y=$}},m.unstable_scheduleCallback=function(Y,X,$){var Rt=m.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?Rt+$:Rt):$=Rt,Y){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=$+L,Y={id:v++,callback:X,priorityLevel:Y,startTime:$,expirationTime:L,sortIndex:-1},$>Rt?(Y.sortIndex=$,e(p,Y),i(f)===null&&Y===i(p)&&(x?(R(j),j=-1):x=!0,mt(B,$-Rt))):(Y.sortIndex=L,e(f,Y),E||_||(E=!0,ht())),Y},m.unstable_shouldYield=q,m.unstable_wrapCallback=function(Y){var X=y;return function(){var $=y;y=X;try{return Y.apply(this,arguments)}finally{y=$}}}}(Cv)),Cv}var tE;function AC(){return tE||(tE=1,wv.exports=yC()),wv.exports}var xv={exports:{}},ii={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eE;function _C(){if(eE)return ii;eE=1;var m=J0();function e(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(f,p,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:b==null?null:""+b,children:f,containerInfo:p,implementation:v}}var u=m.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ii.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ii.createPortal=function(f,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return o(f,p,null,v)},ii.flushSync=function(f){var p=u.T,v=s.p;try{if(u.T=null,s.p=2,f)return f()}finally{u.T=p,s.p=v,s.d.f()}},ii.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(f,p))},ii.prefetchDNS=function(f){typeof f=="string"&&s.d.D(f)},ii.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var v=p.as,b=d(v,p.crossOrigin),y=typeof p.integrity=="string"?p.integrity:void 0,_=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?s.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:y,fetchPriority:_}):v==="script"&&s.d.X(f,{crossOrigin:b,integrity:y,fetchPriority:_,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ii.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=d(p.as,p.crossOrigin);s.d.M(f,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(f)},ii.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,b=d(v,p.crossOrigin);s.d.L(f,v,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ii.preloadModule=function(f,p){if(typeof f=="string")if(p){var v=d(p.as,p.crossOrigin);s.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(f)},ii.requestFormReset=function(f){s.d.r(f)},ii.unstable_batchedUpdates=function(f,p){return f(p)},ii.useFormState=function(f,p,v){return u.H.useFormState(f,p,v)},ii.useFormStatus=function(){return u.H.useHostTransitionStatus()},ii.version="19.0.0",ii}var iE;function EC(){if(iE)return xv.exports;iE=1;function m(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(m)}catch(e){console.error(e)}}return m(),xv.exports=_C(),xv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nE;function SC(){if(nE)return Du;nE=1;var m=AC(),e=J0(),i=EC();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var o=Symbol.for("react.element"),u=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),y=Symbol.for("react.consumer"),_=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),z=Symbol.for("react.offscreen"),B=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=U&&t[U]||t["@@iterator"],typeof t=="function"?t:null)}var W=Symbol.for("react.client.reference");function Z(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===W?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case f:return"Fragment";case d:return"Portal";case v:return"Profiler";case p:return"StrictMode";case x:return"Suspense";case D:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case _:return(t.displayName||"Context")+".Provider";case y:return(t._context.displayName||"Context")+".Consumer";case E:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return n=t.displayName||null,n!==null?n:Z(t.type)||"Memo";case N:n=t._payload,t=t._init;try{return Z(t(n))}catch{}}return null}var q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=Object.assign,et,Tt;function gt(t){if(et===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);et=n&&n[1]||"",Tt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+et+t+Tt}var ht=!1;function mt(t,n){if(!t||ht)return"";ht=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(I){var F=I}Reflect.construct(t,[],K)}else{try{K.call()}catch(I){F=I}t.call(K.prototype)}}else{try{throw Error()}catch(I){F=I}(K=t())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(I){if(I&&F&&typeof I.stack=="string")return[I.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=l.DetermineComponentFrameRoot(),A=g[0],C=g[1];if(A&&C){var M=A.split(`
`),k=C.split(`
`);for(h=l=0;l<M.length&&!M[l].includes("DetermineComponentFrameRoot");)l++;for(;h<k.length&&!k[h].includes("DetermineComponentFrameRoot");)h++;if(l===M.length||h===k.length)for(l=M.length-1,h=k.length-1;1<=l&&0<=h&&M[l]!==k[h];)h--;for(;1<=l&&0<=h;l--,h--)if(M[l]!==k[h]){if(l!==1||h!==1)do if(l--,h--,0>h||M[l]!==k[h]){var G=`
`+M[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=h);break}}}finally{ht=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?gt(a):""}function Y(t){switch(t.tag){case 26:case 27:case 5:return gt(t.type);case 16:return gt("Lazy");case 13:return gt("Suspense");case 19:return gt("SuspenseList");case 0:case 15:return t=mt(t.type,!1),t;case 11:return t=mt(t.type.render,!1),t;case 1:return t=mt(t.type,!0),t;default:return""}}function X(t){try{var n="";do n+=Y(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function $(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,n.flags&4098&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function Rt(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function L(t){if($(t)!==t)throw Error(s(188))}function Q(t){var n=t.alternate;if(!n){if(n=$(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var h=a.return;if(h===null)break;var g=h.alternate;if(g===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===g.child){for(g=h.child;g;){if(g===a)return L(h),t;if(g===l)return L(h),n;g=g.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=g;else{for(var A=!1,C=h.child;C;){if(C===a){A=!0,a=h,l=g;break}if(C===l){A=!0,l=h,a=g;break}C=C.sibling}if(!A){for(C=g.child;C;){if(C===a){A=!0,a=g,l=h;break}if(C===l){A=!0,l=g,a=h;break}C=C.sibling}if(!A)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function at(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=at(t),n!==null)return n;t=t.sibling}return null}var it=Array.isArray,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,bt={pending:!1,data:null,method:null,action:null},ft=[],Ct=-1;function _t(t){return{current:t}}function Vt(t){0>Ct||(t.current=ft[Ct],ft[Ct]=null,Ct--)}function yt(t,n){Ct++,ft[Ct]=t.current,t.current=n}var Je=_t(null),pn=_t(null),Pt=_t(null),le=_t(null);function ve(t,n){switch(yt(Pt,n),yt(pn,t),yt(Je,null),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?S_(n):0;break;default:if(t=t===8?n.parentNode:n,n=t.tagName,t=t.namespaceURI)t=S_(t),n=T_(t,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}Vt(Je),yt(Je,n)}function oe(){Vt(Je),Vt(pn),Vt(Pt)}function Nn(t){t.memoizedState!==null&&yt(le,t);var n=Je.current,a=T_(n,t.type);n!==a&&(yt(pn,t),yt(Je,a))}function Pn(t){pn.current===t&&(Vt(Je),Vt(pn)),le.current===t&&(Vt(le),Tu._currentValue=bt)}var Lc=Object.prototype.hasOwnProperty,Oc=m.unstable_scheduleCallback,ca=m.unstable_cancelCallback,fg=m.unstable_shouldYield,pg=m.unstable_requestPaint,Xi=m.unstable_now,gg=m.unstable_getCurrentPriorityLevel,Hd=m.unstable_ImmediatePriority,ls=m.unstable_UserBlockingPriority,os=m.unstable_NormalPriority,Bl=m.unstable_LowPriority,jl=m.unstable_IdlePriority,Q1=m.log,$1=m.unstable_setDisableYieldValue,kc=null,xi=null;function W1(t){if(xi&&typeof xi.onCommitFiberRoot=="function")try{xi.onCommitFiberRoot(kc,t,void 0,(t.current.flags&128)===128)}catch{}}function ua(t){if(typeof Q1=="function"&&$1(t),xi&&typeof xi.setStrictMode=="function")try{xi.setStrictMode(kc,t)}catch{}}var Ri=Math.clz32?Math.clz32:tT,Z1=Math.log,J1=Math.LN2;function tT(t){return t>>>=0,t===0?32:31-(Z1(t)/J1|0)|0}var zd=128,Fd=4194304;function or(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ud(t,n){var a=t.pendingLanes;if(a===0)return 0;var l=0,h=t.suspendedLanes,g=t.pingedLanes,A=t.warmLanes;t=t.finishedLanes!==0;var C=a&134217727;return C!==0?(a=C&~h,a!==0?l=or(a):(g&=C,g!==0?l=or(g):t||(A=C&~A,A!==0&&(l=or(A))))):(C=a&~h,C!==0?l=or(C):g!==0?l=or(g):t||(A=a&~A,A!==0&&(l=or(A)))),l===0?0:n!==0&&n!==l&&!(n&h)&&(h=l&-l,A=n&-n,h>=A||h===32&&(A&4194176)!==0)?n:l}function Nc(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function eT(t,n){switch(t){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gb(){var t=zd;return zd<<=1,!(zd&4194176)&&(zd=128),t}function mb(){var t=Fd;return Fd<<=1,!(Fd&62914560)&&(Fd=4194304),t}function mg(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Pc(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function iT(t,n,a,l,h,g){var A=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var C=t.entanglements,M=t.expirationTimes,k=t.hiddenUpdates;for(a=A&~a;0<a;){var G=31-Ri(a),K=1<<G;C[G]=0,M[G]=-1;var F=k[G];if(F!==null)for(k[G]=null,G=0;G<F.length;G++){var I=F[G];I!==null&&(I.lane&=-536870913)}a&=~K}l!==0&&vb(t,l,0),g!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=g&~(A&~n))}function vb(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Ri(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194218}function bb(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-Ri(a),h=1<<l;h&n|t[l]&n&&(t[l]|=n),a&=~h}}function yb(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function Ab(){var t=tt.p;return t!==0?t:(t=window.event,t===void 0?32:I_(t.type))}function nT(t,n){var a=tt.p;try{return tt.p=t,n()}finally{tt.p=a}}var ha=Math.random().toString(36).slice(2),ti="__reactFiber$"+ha,vi="__reactProps$"+ha,Il="__reactContainer$"+ha,vg="__reactEvents$"+ha,sT="__reactListeners$"+ha,aT="__reactHandles$"+ha,_b="__reactResources$"+ha,Hc="__reactMarker$"+ha;function bg(t){delete t[ti],delete t[vi],delete t[vg],delete t[sT],delete t[aT]}function cr(t){var n=t[ti];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Il]||a[ti]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=x_(t);t!==null;){if(a=t[ti])return a;t=x_(t)}return n}t=a,a=t.parentNode}return null}function Gl(t){if(t=t[ti]||t[Il]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function zc(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function ql(t){var n=t[_b];return n||(n=t[_b]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Pe(t){t[Hc]=!0}var Eb=new Set,Sb={};function ur(t,n){Vl(t,n),Vl(t+"Capture",n)}function Vl(t,n){for(Sb[t]=n,t=0;t<n.length;t++)Eb.add(n[t])}var cs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rT=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tb={},wb={};function lT(t){return Lc.call(wb,t)?!0:Lc.call(Tb,t)?!1:rT.test(t)?wb[t]=!0:(Tb[t]=!0,!1)}function Bd(t,n,a){if(lT(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function jd(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function us(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function Yi(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Cb(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function oT(t){var n=Cb(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,g=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(A){l=""+A,g.call(this,A)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(A){l=""+A},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Id(t){t._valueTracker||(t._valueTracker=oT(t))}function xb(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Cb(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function Gd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var cT=/[\n"\\]/g;function Ki(t){return t.replace(cT,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function yg(t,n,a,l,h,g,A,C){t.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.type=A:t.removeAttribute("type"),n!=null?A==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Yi(n)):t.value!==""+Yi(n)&&(t.value=""+Yi(n)):A!=="submit"&&A!=="reset"||t.removeAttribute("value"),n!=null?Ag(t,A,Yi(n)):a!=null?Ag(t,A,Yi(a)):l!=null&&t.removeAttribute("value"),h==null&&g!=null&&(t.defaultChecked=!!g),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?t.name=""+Yi(C):t.removeAttribute("name")}function Rb(t,n,a,l,h,g,A,C){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.type=g),n!=null||a!=null){if(!(g!=="submit"&&g!=="reset"||n!=null))return;a=a!=null?""+Yi(a):"",n=n!=null?""+Yi(n):a,C||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=C?t.checked:!!l,t.defaultChecked=!!l,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(t.name=A)}function Ag(t,n,a){n==="number"&&Gd(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Xl(t,n,a,l){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Yi(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Mb(t,n,a){if(n!=null&&(n=""+Yi(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Yi(a):""}function Db(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(it(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Yi(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Yl(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var uT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lb(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||uT.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Ob(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&Lb(t,h,l)}else for(var g in n)n.hasOwnProperty(g)&&Lb(t,g,n[g])}function _g(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dT=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qd(t){return dT.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Eg=null;function Sg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Kl=null,Ql=null;function kb(t){var n=Gl(t);if(n&&(t=n.stateNode)){var a=t[vi]||null;t:switch(t=n.stateNode,n.type){case"input":if(yg(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ki(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var h=l[vi]||null;if(!h)throw Error(s(90));yg(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&xb(l)}break t;case"textarea":Mb(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Xl(t,!!a.multiple,n,!1)}}}var Tg=!1;function Nb(t,n,a){if(Tg)return t(n,a);Tg=!0;try{var l=t(n);return l}finally{if(Tg=!1,(Kl!==null||Ql!==null)&&(Rf(),Kl&&(n=Kl,t=Ql,Ql=Kl=null,kb(n),t)))for(n=0;n<t.length;n++)kb(t[n])}}function Fc(t,n){var a=t.stateNode;if(a===null)return null;var l=a[vi]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var wg=!1;if(cs)try{var Uc={};Object.defineProperty(Uc,"passive",{get:function(){wg=!0}}),window.addEventListener("test",Uc,Uc),window.removeEventListener("test",Uc,Uc)}catch{wg=!1}var da=null,Cg=null,Vd=null;function Pb(){if(Vd)return Vd;var t,n=Cg,a=n.length,l,h="value"in da?da.value:da.textContent,g=h.length;for(t=0;t<a&&n[t]===h[t];t++);var A=a-t;for(l=1;l<=A&&n[a-l]===h[g-l];l++);return Vd=h.slice(t,1<l?1-l:void 0)}function Xd(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Yd(){return!0}function Hb(){return!1}function bi(t){function n(a,l,h,g,A){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=g,this.target=A,this.currentTarget=null;for(var C in t)t.hasOwnProperty(C)&&(a=t[C],this[C]=a?a(g):g[C]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Yd:Hb,this.isPropagationStopped=Hb,this}return J(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Yd)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Yd)},persist:function(){},isPersistent:Yd}),n}var hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kd=bi(hr),Bc=J({},hr,{view:0,detail:0}),fT=bi(Bc),xg,Rg,jc,Qd=J({},Bc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==jc&&(jc&&t.type==="mousemove"?(xg=t.screenX-jc.screenX,Rg=t.screenY-jc.screenY):Rg=xg=0,jc=t),xg)},movementY:function(t){return"movementY"in t?t.movementY:Rg}}),zb=bi(Qd),pT=J({},Qd,{dataTransfer:0}),gT=bi(pT),mT=J({},Bc,{relatedTarget:0}),Mg=bi(mT),vT=J({},hr,{animationName:0,elapsedTime:0,pseudoElement:0}),bT=bi(vT),yT=J({},hr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),AT=bi(yT),_T=J({},hr,{data:0}),Fb=bi(_T),ET={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ST={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wT(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=TT[t])?!!n[t]:!1}function Dg(){return wT}var CT=J({},Bc,{key:function(t){if(t.key){var n=ET[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Xd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ST[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dg,charCode:function(t){return t.type==="keypress"?Xd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xT=bi(CT),RT=J({},Qd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ub=bi(RT),MT=J({},Bc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dg}),DT=bi(MT),LT=J({},hr,{propertyName:0,elapsedTime:0,pseudoElement:0}),OT=bi(LT),kT=J({},Qd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),NT=bi(kT),PT=J({},hr,{newState:0,oldState:0}),HT=bi(PT),zT=[9,13,27,32],Lg=cs&&"CompositionEvent"in window,Ic=null;cs&&"documentMode"in document&&(Ic=document.documentMode);var FT=cs&&"TextEvent"in window&&!Ic,Bb=cs&&(!Lg||Ic&&8<Ic&&11>=Ic),jb=" ",Ib=!1;function Gb(t,n){switch(t){case"keyup":return zT.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $l=!1;function UT(t,n){switch(t){case"compositionend":return qb(n);case"keypress":return n.which!==32?null:(Ib=!0,jb);case"textInput":return t=n.data,t===jb&&Ib?null:t;default:return null}}function BT(t,n){if($l)return t==="compositionend"||!Lg&&Gb(t,n)?(t=Pb(),Vd=Cg=da=null,$l=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Bb&&n.locale!=="ko"?null:n.data;default:return null}}var jT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vb(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!jT[t.type]:n==="textarea"}function Xb(t,n,a,l){Kl?Ql?Ql.push(l):Ql=[l]:Kl=l,n=kf(n,"onChange"),0<n.length&&(a=new Kd("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var Gc=null,qc=null;function IT(t){b_(t,0)}function $d(t){var n=zc(t);if(xb(n))return t}function Yb(t,n){if(t==="change")return n}var Kb=!1;if(cs){var Og;if(cs){var kg="oninput"in document;if(!kg){var Qb=document.createElement("div");Qb.setAttribute("oninput","return;"),kg=typeof Qb.oninput=="function"}Og=kg}else Og=!1;Kb=Og&&(!document.documentMode||9<document.documentMode)}function $b(){Gc&&(Gc.detachEvent("onpropertychange",Wb),qc=Gc=null)}function Wb(t){if(t.propertyName==="value"&&$d(qc)){var n=[];Xb(n,qc,t,Sg(t)),Nb(IT,n)}}function GT(t,n,a){t==="focusin"?($b(),Gc=n,qc=a,Gc.attachEvent("onpropertychange",Wb)):t==="focusout"&&$b()}function qT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $d(qc)}function VT(t,n){if(t==="click")return $d(n)}function XT(t,n){if(t==="input"||t==="change")return $d(n)}function YT(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Mi=typeof Object.is=="function"?Object.is:YT;function Vc(t,n){if(Mi(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Lc.call(n,h)||!Mi(t[h],n[h]))return!1}return!0}function Zb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Jb(t,n){var a=Zb(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Zb(a)}}function ty(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?ty(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function ey(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Gd(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Gd(t.document)}return n}function Ng(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function KT(t,n){var a=ey(n);n=t.focusedElem;var l=t.selectionRange;if(a!==n&&n&&n.ownerDocument&&ty(n.ownerDocument.documentElement,n)){if(l!==null&&Ng(n)){if(t=l.start,a=l.end,a===void 0&&(a=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(a,n.value.length);else if(a=(t=n.ownerDocument||document)&&t.defaultView||window,a.getSelection){a=a.getSelection();var h=n.textContent.length,g=Math.min(l.start,h);l=l.end===void 0?g:Math.min(l.end,h),!a.extend&&g>l&&(h=l,l=g,g=h),h=Jb(n,g);var A=Jb(n,l);h&&A&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==A.node||a.focusOffset!==A.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),a.removeAllRanges(),g>l?(a.addRange(t),a.extend(A.node,A.offset)):(t.setEnd(A.node,A.offset),a.addRange(t)))}}for(t=[],a=n;a=a.parentNode;)a.nodeType===1&&t.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)a=t[n],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var QT=cs&&"documentMode"in document&&11>=document.documentMode,Wl=null,Pg=null,Xc=null,Hg=!1;function iy(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Hg||Wl==null||Wl!==Gd(l)||(l=Wl,"selectionStart"in l&&Ng(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Xc&&Vc(Xc,l)||(Xc=l,l=kf(Pg,"onSelect"),0<l.length&&(n=new Kd("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Wl)))}function dr(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Zl={animationend:dr("Animation","AnimationEnd"),animationiteration:dr("Animation","AnimationIteration"),animationstart:dr("Animation","AnimationStart"),transitionrun:dr("Transition","TransitionRun"),transitionstart:dr("Transition","TransitionStart"),transitioncancel:dr("Transition","TransitionCancel"),transitionend:dr("Transition","TransitionEnd")},zg={},ny={};cs&&(ny=document.createElement("div").style,"AnimationEvent"in window||(delete Zl.animationend.animation,delete Zl.animationiteration.animation,delete Zl.animationstart.animation),"TransitionEvent"in window||delete Zl.transitionend.transition);function fr(t){if(zg[t])return zg[t];if(!Zl[t])return t;var n=Zl[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in ny)return zg[t]=n[a];return t}var sy=fr("animationend"),ay=fr("animationiteration"),ry=fr("animationstart"),$T=fr("transitionrun"),WT=fr("transitionstart"),ZT=fr("transitioncancel"),ly=fr("transitionend"),oy=new Map,cy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function gn(t,n){oy.set(t,n),ur(n,[t])}var Qi=[],Jl=0,Fg=0;function Wd(){for(var t=Jl,n=Fg=Jl=0;n<t;){var a=Qi[n];Qi[n++]=null;var l=Qi[n];Qi[n++]=null;var h=Qi[n];Qi[n++]=null;var g=Qi[n];if(Qi[n++]=null,l!==null&&h!==null){var A=l.pending;A===null?h.next=h:(h.next=A.next,A.next=h),l.pending=h}g!==0&&uy(a,h,g)}}function Zd(t,n,a,l){Qi[Jl++]=t,Qi[Jl++]=n,Qi[Jl++]=a,Qi[Jl++]=l,Fg|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Ug(t,n,a,l){return Zd(t,n,a,l),Jd(t)}function fa(t,n){return Zd(t,null,null,n),Jd(t)}function uy(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,g=t.return;g!==null;)g.childLanes|=a,l=g.alternate,l!==null&&(l.childLanes|=a),g.tag===22&&(t=g.stateNode,t===null||t._visibility&1||(h=!0)),t=g,g=g.return;h&&n!==null&&t.tag===3&&(g=t.stateNode,h=31-Ri(a),g=g.hiddenUpdates,t=g[h],t===null?g[h]=[n]:t.push(n),n.lane=a|536870912)}function Jd(t){if(50<vu)throw vu=0,Vm=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var to={},hy=new WeakMap;function $i(t,n){if(typeof t=="object"&&t!==null){var a=hy.get(t);return a!==void 0?a:(n={value:t,source:n,stack:X(n)},hy.set(t,n),n)}return{value:t,source:n,stack:X(n)}}var eo=[],io=0,tf=null,ef=0,Wi=[],Zi=0,pr=null,hs=1,ds="";function gr(t,n){eo[io++]=ef,eo[io++]=tf,tf=t,ef=n}function dy(t,n,a){Wi[Zi++]=hs,Wi[Zi++]=ds,Wi[Zi++]=pr,pr=t;var l=hs;t=ds;var h=32-Ri(l)-1;l&=~(1<<h),a+=1;var g=32-Ri(n)+h;if(30<g){var A=h-h%5;g=(l&(1<<A)-1).toString(32),l>>=A,h-=A,hs=1<<32-Ri(n)+h|a<<h|l,ds=g+t}else hs=1<<g|a<<h|l,ds=t}function Bg(t){t.return!==null&&(gr(t,1),dy(t,1,0))}function jg(t){for(;t===tf;)tf=eo[--io],eo[io]=null,ef=eo[--io],eo[io]=null;for(;t===pr;)pr=Wi[--Zi],Wi[Zi]=null,ds=Wi[--Zi],Wi[Zi]=null,hs=Wi[--Zi],Wi[Zi]=null}var ci=null,Ie=null,It=!1,mn=null,Hn=!1,Ig=Error(s(519));function mr(t){var n=Error(s(418,""));throw Qc($i(n,t)),Ig}function fy(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[ti]=t,n[vi]=l,a){case"dialog":Ht("cancel",n),Ht("close",n);break;case"iframe":case"object":case"embed":Ht("load",n);break;case"video":case"audio":for(a=0;a<yu.length;a++)Ht(yu[a],n);break;case"source":Ht("error",n);break;case"img":case"image":case"link":Ht("error",n),Ht("load",n);break;case"details":Ht("toggle",n);break;case"input":Ht("invalid",n),Rb(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Id(n);break;case"select":Ht("invalid",n);break;case"textarea":Ht("invalid",n),Db(n,l.value,l.defaultValue,l.children),Id(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||E_(n.textContent,a)?(l.popover!=null&&(Ht("beforetoggle",n),Ht("toggle",n)),l.onScroll!=null&&Ht("scroll",n),l.onScrollEnd!=null&&Ht("scrollend",n),l.onClick!=null&&(n.onclick=Nf),n=!0):n=!1,n||mr(t)}function py(t){for(ci=t.return;ci;)switch(ci.tag){case 3:case 27:Hn=!0;return;case 5:case 13:Hn=!1;return;default:ci=ci.return}}function Yc(t){if(t!==ci)return!1;if(!It)return py(t),It=!0,!1;var n=!1,a;if((a=t.tag!==3&&t.tag!==27)&&((a=t.tag===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||ov(t.type,t.memoizedProps)),a=!a),a&&(n=!0),n&&Ie&&mr(t),py(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){Ie=bn(t.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}Ie=null}}else Ie=ci?bn(t.stateNode.nextSibling):null;return!0}function Kc(){Ie=ci=null,It=!1}function Qc(t){mn===null?mn=[t]:mn.push(t)}var $c=Error(s(460)),gy=Error(s(474)),Gg={then:function(){}};function my(t){return t=t.status,t==="fulfilled"||t==="rejected"}function nf(){}function vy(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(nf,nf),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===$c?Error(s(483)):t;default:if(typeof n.status=="string")n.then(nf,nf);else{if(t=se,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===$c?Error(s(483)):t}throw Wc=n,$c}}var Wc=null;function by(){if(Wc===null)throw Error(s(459));var t=Wc;return Wc=null,t}var no=null,Zc=0;function sf(t){var n=Zc;return Zc+=1,no===null&&(no=[]),vy(no,t,n)}function Jc(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function af(t,n){throw n.$$typeof===o?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function yy(t){var n=t._init;return n(t._payload)}function Ay(t){function n(P,O){if(t){var H=P.deletions;H===null?(P.deletions=[O],P.flags|=16):H.push(O)}}function a(P,O){if(!t)return null;for(;O!==null;)n(P,O),O=O.sibling;return null}function l(P){for(var O=new Map;P!==null;)P.key!==null?O.set(P.key,P):O.set(P.index,P),P=P.sibling;return O}function h(P,O){return P=wa(P,O),P.index=0,P.sibling=null,P}function g(P,O,H){return P.index=H,t?(H=P.alternate,H!==null?(H=H.index,H<O?(P.flags|=33554434,O):H):(P.flags|=33554434,O)):(P.flags|=1048576,O)}function A(P){return t&&P.alternate===null&&(P.flags|=33554434),P}function C(P,O,H,V){return O===null||O.tag!==6?(O=zm(H,P.mode,V),O.return=P,O):(O=h(O,H),O.return=P,O)}function M(P,O,H,V){var rt=H.type;return rt===f?G(P,O,H.props.children,V,H.key):O!==null&&(O.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===N&&yy(rt)===O.type)?(O=h(O,H.props),Jc(O,H),O.return=P,O):(O=Sf(H.type,H.key,H.props,null,P.mode,V),Jc(O,H),O.return=P,O)}function k(P,O,H,V){return O===null||O.tag!==4||O.stateNode.containerInfo!==H.containerInfo||O.stateNode.implementation!==H.implementation?(O=Fm(H,P.mode,V),O.return=P,O):(O=h(O,H.children||[]),O.return=P,O)}function G(P,O,H,V,rt){return O===null||O.tag!==7?(O=Cr(H,P.mode,V,rt),O.return=P,O):(O=h(O,H),O.return=P,O)}function K(P,O,H){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=zm(""+O,P.mode,H),O.return=P,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case u:return H=Sf(O.type,O.key,O.props,null,P.mode,H),Jc(H,O),H.return=P,H;case d:return O=Fm(O,P.mode,H),O.return=P,O;case N:var V=O._init;return O=V(O._payload),K(P,O,H)}if(it(O)||j(O))return O=Cr(O,P.mode,H,null),O.return=P,O;if(typeof O.then=="function")return K(P,sf(O),H);if(O.$$typeof===_)return K(P,Af(P,O),H);af(P,O)}return null}function F(P,O,H,V){var rt=O!==null?O.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return rt!==null?null:C(P,O,""+H,V);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case u:return H.key===rt?M(P,O,H,V):null;case d:return H.key===rt?k(P,O,H,V):null;case N:return rt=H._init,H=rt(H._payload),F(P,O,H,V)}if(it(H)||j(H))return rt!==null?null:G(P,O,H,V,null);if(typeof H.then=="function")return F(P,O,sf(H),V);if(H.$$typeof===_)return F(P,O,Af(P,H),V);af(P,H)}return null}function I(P,O,H,V,rt){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return P=P.get(H)||null,C(O,P,""+V,rt);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case u:return P=P.get(V.key===null?H:V.key)||null,M(O,P,V,rt);case d:return P=P.get(V.key===null?H:V.key)||null,k(O,P,V,rt);case N:var Dt=V._init;return V=Dt(V._payload),I(P,O,H,V,rt)}if(it(V)||j(V))return P=P.get(H)||null,G(O,P,V,rt,null);if(typeof V.then=="function")return I(P,O,H,sf(V),rt);if(V.$$typeof===_)return I(P,O,H,Af(O,V),rt);af(O,V)}return null}function ct(P,O,H,V){for(var rt=null,Dt=null,dt=O,vt=O=0,Fe=null;dt!==null&&vt<H.length;vt++){dt.index>vt?(Fe=dt,dt=null):Fe=dt.sibling;var Gt=F(P,dt,H[vt],V);if(Gt===null){dt===null&&(dt=Fe);break}t&&dt&&Gt.alternate===null&&n(P,dt),O=g(Gt,O,vt),Dt===null?rt=Gt:Dt.sibling=Gt,Dt=Gt,dt=Fe}if(vt===H.length)return a(P,dt),It&&gr(P,vt),rt;if(dt===null){for(;vt<H.length;vt++)dt=K(P,H[vt],V),dt!==null&&(O=g(dt,O,vt),Dt===null?rt=dt:Dt.sibling=dt,Dt=dt);return It&&gr(P,vt),rt}for(dt=l(dt);vt<H.length;vt++)Fe=I(dt,P,vt,H[vt],V),Fe!==null&&(t&&Fe.alternate!==null&&dt.delete(Fe.key===null?vt:Fe.key),O=g(Fe,O,vt),Dt===null?rt=Fe:Dt.sibling=Fe,Dt=Fe);return t&&dt.forEach(function(Oa){return n(P,Oa)}),It&&gr(P,vt),rt}function St(P,O,H,V){if(H==null)throw Error(s(151));for(var rt=null,Dt=null,dt=O,vt=O=0,Fe=null,Gt=H.next();dt!==null&&!Gt.done;vt++,Gt=H.next()){dt.index>vt?(Fe=dt,dt=null):Fe=dt.sibling;var Oa=F(P,dt,Gt.value,V);if(Oa===null){dt===null&&(dt=Fe);break}t&&dt&&Oa.alternate===null&&n(P,dt),O=g(Oa,O,vt),Dt===null?rt=Oa:Dt.sibling=Oa,Dt=Oa,dt=Fe}if(Gt.done)return a(P,dt),It&&gr(P,vt),rt;if(dt===null){for(;!Gt.done;vt++,Gt=H.next())Gt=K(P,Gt.value,V),Gt!==null&&(O=g(Gt,O,vt),Dt===null?rt=Gt:Dt.sibling=Gt,Dt=Gt);return It&&gr(P,vt),rt}for(dt=l(dt);!Gt.done;vt++,Gt=H.next())Gt=I(dt,P,vt,Gt.value,V),Gt!==null&&(t&&Gt.alternate!==null&&dt.delete(Gt.key===null?vt:Gt.key),O=g(Gt,O,vt),Dt===null?rt=Gt:Dt.sibling=Gt,Dt=Gt);return t&&dt.forEach(function(dC){return n(P,dC)}),It&&gr(P,vt),rt}function ge(P,O,H,V){if(typeof H=="object"&&H!==null&&H.type===f&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case u:t:{for(var rt=H.key;O!==null;){if(O.key===rt){if(rt=H.type,rt===f){if(O.tag===7){a(P,O.sibling),V=h(O,H.props.children),V.return=P,P=V;break t}}else if(O.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===N&&yy(rt)===O.type){a(P,O.sibling),V=h(O,H.props),Jc(V,H),V.return=P,P=V;break t}a(P,O);break}else n(P,O);O=O.sibling}H.type===f?(V=Cr(H.props.children,P.mode,V,H.key),V.return=P,P=V):(V=Sf(H.type,H.key,H.props,null,P.mode,V),Jc(V,H),V.return=P,P=V)}return A(P);case d:t:{for(rt=H.key;O!==null;){if(O.key===rt)if(O.tag===4&&O.stateNode.containerInfo===H.containerInfo&&O.stateNode.implementation===H.implementation){a(P,O.sibling),V=h(O,H.children||[]),V.return=P,P=V;break t}else{a(P,O);break}else n(P,O);O=O.sibling}V=Fm(H,P.mode,V),V.return=P,P=V}return A(P);case N:return rt=H._init,H=rt(H._payload),ge(P,O,H,V)}if(it(H))return ct(P,O,H,V);if(j(H)){if(rt=j(H),typeof rt!="function")throw Error(s(150));return H=rt.call(H),St(P,O,H,V)}if(typeof H.then=="function")return ge(P,O,sf(H),V);if(H.$$typeof===_)return ge(P,O,Af(P,H),V);af(P,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,O!==null&&O.tag===6?(a(P,O.sibling),V=h(O,H),V.return=P,P=V):(a(P,O),V=zm(H,P.mode,V),V.return=P,P=V),A(P)):a(P,O)}return function(P,O,H,V){try{Zc=0;var rt=ge(P,O,H,V);return no=null,rt}catch(dt){if(dt===$c)throw dt;var Dt=nn(29,dt,null,P.mode);return Dt.lanes=V,Dt.return=P,Dt}finally{}}}var vr=Ay(!0),_y=Ay(!1),so=_t(null),rf=_t(0);function Ey(t,n){t=Ss,yt(rf,t),yt(so,n),Ss=t|n.baseLanes}function qg(){yt(rf,Ss),yt(so,so.current)}function Vg(){Ss=rf.current,Vt(so),Vt(rf)}var Ji=_t(null),zn=null;function pa(t){var n=t.alternate;yt(Ce,Ce.current&1),yt(Ji,t),zn===null&&(n===null||so.current!==null||n.memoizedState!==null)&&(zn=t)}function Sy(t){if(t.tag===22){if(yt(Ce,Ce.current),yt(Ji,t),zn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(zn=t)}}else ga()}function ga(){yt(Ce,Ce.current),yt(Ji,Ji.current)}function fs(t){Vt(Ji),zn===t&&(zn=null),Vt(Ce)}var Ce=_t(0);function lf(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var JT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},tw=m.unstable_scheduleCallback,ew=m.unstable_NormalPriority,xe={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xg(){return{controller:new JT,data:new Map,refCount:0}}function tu(t){t.refCount--,t.refCount===0&&tw(ew,function(){t.controller.abort()})}var eu=null,Yg=0,ao=0,ro=null;function iw(t,n){if(eu===null){var a=eu=[];Yg=0,ao=Jm(),ro={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Yg++,n.then(Ty,Ty),n}function Ty(){if(--Yg===0&&eu!==null){ro!==null&&(ro.status="fulfilled");var t=eu;eu=null,ao=0,ro=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function nw(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var wy=q.S;q.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&iw(t,n),wy!==null&&wy(t,n)};var br=_t(null);function Kg(){var t=br.current;return t!==null?t:se.pooledCache}function of(t,n){n===null?yt(br,br.current):yt(br,n.pool)}function Cy(){var t=Kg();return t===null?null:{parent:xe._currentValue,pool:t}}var ma=0,Mt=null,Qt=null,_e=null,cf=!1,lo=!1,yr=!1,uf=0,iu=0,oo=null,sw=0;function be(){throw Error(s(321))}function Qg(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!Mi(t[a],n[a]))return!1;return!0}function $g(t,n,a,l,h,g){return ma=g,Mt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=t===null||t.memoizedState===null?Ar:va,yr=!1,g=a(l,h),yr=!1,lo&&(g=Ry(n,a,l,h)),xy(t),g}function xy(t){q.H=Fn;var n=Qt!==null&&Qt.next!==null;if(ma=0,_e=Qt=Mt=null,cf=!1,iu=0,oo=null,n)throw Error(s(300));t===null||He||(t=t.dependencies,t!==null&&yf(t)&&(He=!0))}function Ry(t,n,a,l){Mt=t;var h=0;do{if(lo&&(oo=null),iu=0,lo=!1,25<=h)throw Error(s(301));if(h+=1,_e=Qt=null,t.updateQueue!=null){var g=t.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}q.H=_r,g=n(a,l)}while(lo);return g}function aw(){var t=q.H,n=t.useState()[0];return n=typeof n.then=="function"?nu(n):n,t=t.useState()[0],(Qt!==null?Qt.memoizedState:null)!==t&&(Mt.flags|=1024),n}function Wg(){var t=uf!==0;return uf=0,t}function Zg(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Jg(t){if(cf){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}cf=!1}ma=0,_e=Qt=Mt=null,lo=!1,iu=uf=0,oo=null}function yi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?Mt.memoizedState=_e=t:_e=_e.next=t,_e}function Ee(){if(Qt===null){var t=Mt.alternate;t=t!==null?t.memoizedState:null}else t=Qt.next;var n=_e===null?Mt.memoizedState:_e.next;if(n!==null)_e=n,Qt=t;else{if(t===null)throw Mt.alternate===null?Error(s(467)):Error(s(310));Qt=t,t={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},_e===null?Mt.memoizedState=_e=t:_e=_e.next=t}return _e}var hf;hf=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function nu(t){var n=iu;return iu+=1,oo===null&&(oo=[]),t=vy(oo,t,n),n=Mt,(_e===null?n.memoizedState:_e.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?Ar:va),t}function df(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return nu(t);if(t.$$typeof===_)return ei(t)}throw Error(s(438,String(t)))}function tm(t){var n=null,a=Mt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Mt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=hf(),Mt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=B;return n.index++,a}function ps(t,n){return typeof n=="function"?n(t):n}function ff(t){var n=Ee();return em(n,Qt,t)}function em(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,g=l.pending;if(g!==null){if(h!==null){var A=h.next;h.next=g.next,g.next=A}n.baseQueue=h=g,l.pending=null}if(g=t.baseState,h===null)t.memoizedState=g;else{n=h.next;var C=A=null,M=null,k=n,G=!1;do{var K=k.lane&-536870913;if(K!==k.lane?(Ut&K)===K:(ma&K)===K){var F=k.revertLane;if(F===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),K===ao&&(G=!0);else if((ma&F)===F){k=k.next,F===ao&&(G=!0);continue}else K={lane:0,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},M===null?(C=M=K,A=g):M=M.next=K,Mt.lanes|=F,Ca|=F;K=k.action,yr&&a(g,K),g=k.hasEagerState?k.eagerState:a(g,K)}else F={lane:K,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},M===null?(C=M=F,A=g):M=M.next=F,Mt.lanes|=K,Ca|=K;k=k.next}while(k!==null&&k!==n);if(M===null?A=g:M.next=C,!Mi(g,t.memoizedState)&&(He=!0,G&&(a=ro,a!==null)))throw a;t.memoizedState=g,t.baseState=A,t.baseQueue=M,l.lastRenderedState=g}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function im(t){var n=Ee(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,g=n.memoizedState;if(h!==null){a.pending=null;var A=h=h.next;do g=t(g,A.action),A=A.next;while(A!==h);Mi(g,n.memoizedState)||(He=!0),n.memoizedState=g,n.baseQueue===null&&(n.baseState=g),a.lastRenderedState=g}return[g,l]}function My(t,n,a){var l=Mt,h=Ee(),g=It;if(g){if(a===void 0)throw Error(s(407));a=a()}else a=n();var A=!Mi((Qt||h).memoizedState,a);if(A&&(h.memoizedState=a,He=!0),h=h.queue,am(Oy.bind(null,l,h,t),[t]),h.getSnapshot!==n||A||_e!==null&&_e.memoizedState.tag&1){if(l.flags|=2048,co(9,Ly.bind(null,l,h,a,n),{destroy:void 0},null),se===null)throw Error(s(349));g||ma&60||Dy(l,n,a)}return a}function Dy(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Mt.updateQueue,n===null?(n=hf(),Mt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Ly(t,n,a,l){n.value=a,n.getSnapshot=l,ky(n)&&Ny(t)}function Oy(t,n,a){return a(function(){ky(n)&&Ny(t)})}function ky(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!Mi(t,a)}catch{return!0}}function Ny(t){var n=fa(t,2);n!==null&&ui(n,t,2)}function nm(t){var n=yi();if(typeof t=="function"){var a=t;if(t=a(),yr){ua(!0);try{a()}finally{ua(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:t},n}function Py(t,n,a,l){return t.baseState=a,em(t,Qt,typeof l=="function"?l:ps)}function rw(t,n,a,l,h){if(mf(t))throw Error(s(485));if(t=n.action,t!==null){var g={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){g.listeners.push(A)}};q.T!==null?a(!0):g.isTransition=!1,l(g),a=n.pending,a===null?(g.next=n.pending=g,Hy(n,g)):(g.next=a.next,n.pending=a.next=g)}}function Hy(t,n){var a=n.action,l=n.payload,h=t.state;if(n.isTransition){var g=q.T,A={};q.T=A;try{var C=a(h,l),M=q.S;M!==null&&M(A,C),zy(t,n,C)}catch(k){sm(t,n,k)}finally{q.T=g}}else try{g=a(h,l),zy(t,n,g)}catch(k){sm(t,n,k)}}function zy(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Fy(t,n,l)},function(l){return sm(t,n,l)}):Fy(t,n,a)}function Fy(t,n,a){n.status="fulfilled",n.value=a,Uy(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Hy(t,a)))}function sm(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Uy(n),n=n.next;while(n!==l)}t.action=null}function Uy(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function By(t,n){return n}function jy(t,n){if(It){var a=se.formState;if(a!==null){t:{var l=Mt;if(It){if(Ie){e:{for(var h=Ie,g=Hn;h.nodeType!==8;){if(!g){h=null;break e}if(h=bn(h.nextSibling),h===null){h=null;break e}}g=h.data,h=g==="F!"||g==="F"?h:null}if(h){Ie=bn(h.nextSibling),l=h.data==="F!";break t}}mr(l)}l=!1}l&&(n=a[0])}}return a=yi(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:By,lastRenderedState:n},a.queue=l,a=aA.bind(null,Mt,l),l.dispatch=a,l=nm(!1),g=um.bind(null,Mt,!1,l.queue),l=yi(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,a=rw.bind(null,Mt,h,g,a),h.dispatch=a,l.memoizedState=t,[n,a,!1]}function Iy(t){var n=Ee();return Gy(n,Qt,t)}function Gy(t,n,a){n=em(t,n,By)[0],t=ff(ps)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?nu(n):n;var l=Ee(),h=l.queue,g=h.dispatch;return a!==l.memoizedState&&(Mt.flags|=2048,co(9,lw.bind(null,h,a),{destroy:void 0},null)),[n,g,t]}function lw(t,n){t.action=n}function qy(t){var n=Ee(),a=Qt;if(a!==null)return Gy(n,a,t);Ee(),n=n.memoizedState,a=Ee();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function co(t,n,a,l){return t={tag:t,create:n,inst:a,deps:l,next:null},n=Mt.updateQueue,n===null&&(n=hf(),Mt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Vy(){return Ee().memoizedState}function pf(t,n,a,l){var h=yi();Mt.flags|=t,h.memoizedState=co(1|n,a,{destroy:void 0},l===void 0?null:l)}function gf(t,n,a,l){var h=Ee();l=l===void 0?null:l;var g=h.memoizedState.inst;Qt!==null&&l!==null&&Qg(l,Qt.memoizedState.deps)?h.memoizedState=co(n,a,g,l):(Mt.flags|=t,h.memoizedState=co(1|n,a,g,l))}function Xy(t,n){pf(8390656,8,t,n)}function am(t,n){gf(2048,8,t,n)}function Yy(t,n){return gf(4,2,t,n)}function Ky(t,n){return gf(4,4,t,n)}function Qy(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function $y(t,n,a){a=a!=null?a.concat([t]):null,gf(4,4,Qy.bind(null,n,t),a)}function rm(){}function Wy(t,n){var a=Ee();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Qg(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Zy(t,n){var a=Ee();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Qg(n,l[1]))return l[0];if(l=t(),yr){ua(!0);try{t()}finally{ua(!1)}}return a.memoizedState=[l,n],l}function lm(t,n,a){return a===void 0||ma&1073741824?t.memoizedState=n:(t.memoizedState=a,t=t_(),Mt.lanes|=t,Ca|=t,a)}function Jy(t,n,a,l){return Mi(a,n)?a:so.current!==null?(t=lm(t,a,l),Mi(t,n)||(He=!0),t):ma&42?(t=t_(),Mt.lanes|=t,Ca|=t,n):(He=!0,t.memoizedState=a)}function tA(t,n,a,l,h){var g=tt.p;tt.p=g!==0&&8>g?g:8;var A=q.T,C={};q.T=C,um(t,!1,n,a);try{var M=h(),k=q.S;if(k!==null&&k(C,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var G=nw(M,l);su(t,n,G,ki(t))}else su(t,n,l,ki(t))}catch(K){su(t,n,{then:function(){},status:"rejected",reason:K},ki())}finally{tt.p=g,q.T=A}}function ow(){}function om(t,n,a,l){if(t.tag!==5)throw Error(s(476));var h=eA(t).queue;tA(t,h,n,bt,a===null?ow:function(){return iA(t),a(l)})}function eA(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:bt,baseState:bt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:bt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function iA(t){var n=eA(t).next.queue;su(t,n,{},ki())}function cm(){return ei(Tu)}function nA(){return Ee().memoizedState}function sA(){return Ee().memoizedState}function cw(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=ki();t=Aa(a);var l=_a(n,t,a);l!==null&&(ui(l,n,a),lu(l,n,a)),n={cache:Xg()},t.payload=n;return}n=n.return}}function uw(t,n,a){var l=ki();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},mf(t)?rA(n,a):(a=Ug(t,n,a,l),a!==null&&(ui(a,t,l),lA(a,n,l)))}function aA(t,n,a){var l=ki();su(t,n,a,l)}function su(t,n,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(mf(t))rA(n,h);else{var g=t.alternate;if(t.lanes===0&&(g===null||g.lanes===0)&&(g=n.lastRenderedReducer,g!==null))try{var A=n.lastRenderedState,C=g(A,a);if(h.hasEagerState=!0,h.eagerState=C,Mi(C,A))return Zd(t,n,h,0),se===null&&Wd(),!1}catch{}finally{}if(a=Ug(t,n,h,l),a!==null)return ui(a,t,l),lA(a,n,l),!0}return!1}function um(t,n,a,l){if(l={lane:2,revertLane:Jm(),action:l,hasEagerState:!1,eagerState:null,next:null},mf(t)){if(n)throw Error(s(479))}else n=Ug(t,a,l,2),n!==null&&ui(n,t,2)}function mf(t){var n=t.alternate;return t===Mt||n!==null&&n===Mt}function rA(t,n){lo=cf=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function lA(t,n,a){if(a&4194176){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,bb(t,a)}}var Fn={readContext:ei,use:df,useCallback:be,useContext:be,useEffect:be,useImperativeHandle:be,useLayoutEffect:be,useInsertionEffect:be,useMemo:be,useReducer:be,useRef:be,useState:be,useDebugValue:be,useDeferredValue:be,useTransition:be,useSyncExternalStore:be,useId:be};Fn.useCacheRefresh=be,Fn.useMemoCache=be,Fn.useHostTransitionStatus=be,Fn.useFormState=be,Fn.useActionState=be,Fn.useOptimistic=be;var Ar={readContext:ei,use:df,useCallback:function(t,n){return yi().memoizedState=[t,n===void 0?null:n],t},useContext:ei,useEffect:Xy,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,pf(4194308,4,Qy.bind(null,n,t),a)},useLayoutEffect:function(t,n){return pf(4194308,4,t,n)},useInsertionEffect:function(t,n){pf(4,2,t,n)},useMemo:function(t,n){var a=yi();n=n===void 0?null:n;var l=t();if(yr){ua(!0);try{t()}finally{ua(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=yi();if(a!==void 0){var h=a(n);if(yr){ua(!0);try{a(n)}finally{ua(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=uw.bind(null,Mt,t),[l.memoizedState,t]},useRef:function(t){var n=yi();return t={current:t},n.memoizedState=t},useState:function(t){t=nm(t);var n=t.queue,a=aA.bind(null,Mt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:rm,useDeferredValue:function(t,n){var a=yi();return lm(a,t,n)},useTransition:function(){var t=nm(!1);return t=tA.bind(null,Mt,t.queue,!0,!1),yi().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Mt,h=yi();if(It){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),se===null)throw Error(s(349));Ut&60||Dy(l,n,a)}h.memoizedState=a;var g={value:a,getSnapshot:n};return h.queue=g,Xy(Oy.bind(null,l,g,t),[t]),l.flags|=2048,co(9,Ly.bind(null,l,g,a,n),{destroy:void 0},null),a},useId:function(){var t=yi(),n=se.identifierPrefix;if(It){var a=ds,l=hs;a=(l&~(1<<32-Ri(l)-1)).toString(32)+a,n=":"+n+"R"+a,a=uf++,0<a&&(n+="H"+a.toString(32)),n+=":"}else a=sw++,n=":"+n+"r"+a.toString(32)+":";return t.memoizedState=n},useCacheRefresh:function(){return yi().memoizedState=cw.bind(null,Mt)}};Ar.useMemoCache=tm,Ar.useHostTransitionStatus=cm,Ar.useFormState=jy,Ar.useActionState=jy,Ar.useOptimistic=function(t){var n=yi();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=um.bind(null,Mt,!0,a),a.dispatch=n,[t,n]};var va={readContext:ei,use:df,useCallback:Wy,useContext:ei,useEffect:am,useImperativeHandle:$y,useInsertionEffect:Yy,useLayoutEffect:Ky,useMemo:Zy,useReducer:ff,useRef:Vy,useState:function(){return ff(ps)},useDebugValue:rm,useDeferredValue:function(t,n){var a=Ee();return Jy(a,Qt.memoizedState,t,n)},useTransition:function(){var t=ff(ps)[0],n=Ee().memoizedState;return[typeof t=="boolean"?t:nu(t),n]},useSyncExternalStore:My,useId:nA};va.useCacheRefresh=sA,va.useMemoCache=tm,va.useHostTransitionStatus=cm,va.useFormState=Iy,va.useActionState=Iy,va.useOptimistic=function(t,n){var a=Ee();return Py(a,Qt,t,n)};var _r={readContext:ei,use:df,useCallback:Wy,useContext:ei,useEffect:am,useImperativeHandle:$y,useInsertionEffect:Yy,useLayoutEffect:Ky,useMemo:Zy,useReducer:im,useRef:Vy,useState:function(){return im(ps)},useDebugValue:rm,useDeferredValue:function(t,n){var a=Ee();return Qt===null?lm(a,t,n):Jy(a,Qt.memoizedState,t,n)},useTransition:function(){var t=im(ps)[0],n=Ee().memoizedState;return[typeof t=="boolean"?t:nu(t),n]},useSyncExternalStore:My,useId:nA};_r.useCacheRefresh=sA,_r.useMemoCache=tm,_r.useHostTransitionStatus=cm,_r.useFormState=qy,_r.useActionState=qy,_r.useOptimistic=function(t,n){var a=Ee();return Qt!==null?Py(a,Qt,t,n):(a.baseState=t,[t,a.queue.dispatch])};function hm(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:J({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var dm={isMounted:function(t){return(t=t._reactInternals)?$(t)===t:!1},enqueueSetState:function(t,n,a){t=t._reactInternals;var l=ki(),h=Aa(l);h.payload=n,a!=null&&(h.callback=a),n=_a(t,h,l),n!==null&&(ui(n,t,l),lu(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=ki(),h=Aa(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=_a(t,h,l),n!==null&&(ui(n,t,l),lu(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=ki(),l=Aa(a);l.tag=2,n!=null&&(l.callback=n),n=_a(t,l,a),n!==null&&(ui(n,t,a),lu(n,t,a))}};function oA(t,n,a,l,h,g,A){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,g,A):n.prototype&&n.prototype.isPureReactComponent?!Vc(a,l)||!Vc(h,g):!0}function cA(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&dm.enqueueReplaceState(n,n.state,null)}function Er(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=J({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var vf=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function uA(t){vf(t)}function hA(t){console.error(t)}function dA(t){vf(t)}function bf(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function fA(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function fm(t,n,a){return a=Aa(a),a.tag=3,a.payload={element:null},a.callback=function(){bf(t,n)},a}function pA(t){return t=Aa(t),t.tag=3,t}function gA(t,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var g=l.value;t.payload=function(){return h(g)},t.callback=function(){fA(n,a,l)}}var A=a.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(t.callback=function(){fA(n,a,l),typeof h!="function"&&(xa===null?xa=new Set([this]):xa.add(this));var C=l.stack;this.componentDidCatch(l.value,{componentStack:C!==null?C:""})})}function hw(t,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&ru(n,a,h,!0),a=Ji.current,a!==null){switch(a.tag){case 13:return zn===null?Km():a.alternate===null&&pe===0&&(pe=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Gg?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),$m(t,l,h)),!1;case 22:return a.flags|=65536,l===Gg?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),$m(t,l,h)),!1}throw Error(s(435,a.tag))}return $m(t,l,h),Km(),!1}if(It)return n=Ji.current,n!==null?(!(n.flags&65536)&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Ig&&(t=Error(s(422),{cause:l}),Qc($i(t,a)))):(l!==Ig&&(n=Error(s(423),{cause:l}),Qc($i(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=$i(l,a),h=fm(t.stateNode,l,h),Rm(t,h),pe!==4&&(pe=2)),!1;var g=Error(s(520),{cause:l});if(g=$i(g,a),gu===null?gu=[g]:gu.push(g),pe!==4&&(pe=2),n===null)return!0;l=$i(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=fm(a.stateNode,l,t),Rm(a,t),!1;case 1:if(n=a.type,g=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(xa===null||!xa.has(g))))return a.flags|=65536,h&=-h,a.lanes|=h,h=pA(h),gA(h,t,a,l),Rm(a,h),!1}a=a.return}while(a!==null);return!1}var mA=Error(s(461)),He=!1;function Ge(t,n,a,l){n.child=t===null?_y(n,null,a,l):vr(n,t.child,a,l)}function vA(t,n,a,l,h){a=a.render;var g=n.ref;if("ref"in l){var A={};for(var C in l)C!=="ref"&&(A[C]=l[C])}else A=l;return Tr(n),l=$g(t,n,a,A,g,h),C=Wg(),t!==null&&!He?(Zg(t,n,h),gs(t,n,h)):(It&&C&&Bg(n),n.flags|=1,Ge(t,n,l,h),n.child)}function bA(t,n,a,l,h){if(t===null){var g=a.type;return typeof g=="function"&&!Hm(g)&&g.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=g,yA(t,n,g,l,h)):(t=Sf(a.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(g=t.child,!Em(t,h)){var A=g.memoizedProps;if(a=a.compare,a=a!==null?a:Vc,a(A,l)&&t.ref===n.ref)return gs(t,n,h)}return n.flags|=1,t=wa(g,l),t.ref=n.ref,t.return=n,n.child=t}function yA(t,n,a,l,h){if(t!==null){var g=t.memoizedProps;if(Vc(g,l)&&t.ref===n.ref)if(He=!1,n.pendingProps=l=g,Em(t,h))t.flags&131072&&(He=!0);else return n.lanes=t.lanes,gs(t,n,h)}return pm(t,n,a,l,h)}function AA(t,n,a){var l=n.pendingProps,h=l.children,g=(n.stateNode._pendingVisibility&2)!==0,A=t!==null?t.memoizedState:null;if(au(t,n),l.mode==="hidden"||g){if(n.flags&128){if(l=A!==null?A.baseLanes|a:a,t!==null){for(h=n.child=t.child,g=0;h!==null;)g=g|h.lanes|h.childLanes,h=h.sibling;n.childLanes=g&~l}else n.childLanes=0,n.child=null;return _A(t,n,l,a)}if(a&536870912)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&of(n,A!==null?A.cachePool:null),A!==null?Ey(n,A):qg(),Sy(n);else return n.lanes=n.childLanes=536870912,_A(t,n,A!==null?A.baseLanes|a:a,a)}else A!==null?(of(n,A.cachePool),Ey(n,A),ga(),n.memoizedState=null):(t!==null&&of(n,null),qg(),ga());return Ge(t,n,h,a),n.child}function _A(t,n,a,l){var h=Kg();return h=h===null?null:{parent:xe._currentValue,pool:h},n.memoizedState={baseLanes:a,cachePool:h},t!==null&&of(n,null),qg(),Sy(n),t!==null&&ru(t,n,l,!0),null}function au(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=2097664)}}function pm(t,n,a,l,h){return Tr(n),a=$g(t,n,a,l,void 0,h),l=Wg(),t!==null&&!He?(Zg(t,n,h),gs(t,n,h)):(It&&l&&Bg(n),n.flags|=1,Ge(t,n,a,h),n.child)}function EA(t,n,a,l,h,g){return Tr(n),n.updateQueue=null,a=Ry(n,l,a,h),xy(t),l=Wg(),t!==null&&!He?(Zg(t,n,g),gs(t,n,g)):(It&&l&&Bg(n),n.flags|=1,Ge(t,n,a,g),n.child)}function SA(t,n,a,l,h){if(Tr(n),n.stateNode===null){var g=to,A=a.contextType;typeof A=="object"&&A!==null&&(g=ei(A)),g=new a(l,g),n.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=dm,n.stateNode=g,g._reactInternals=n,g=n.stateNode,g.props=l,g.state=n.memoizedState,g.refs={},Cm(n),A=a.contextType,g.context=typeof A=="object"&&A!==null?ei(A):to,g.state=n.memoizedState,A=a.getDerivedStateFromProps,typeof A=="function"&&(hm(n,a,A,l),g.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(A=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),A!==g.state&&dm.enqueueReplaceState(g,g.state,null),cu(n,l,g,h),ou(),g.state=n.memoizedState),typeof g.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){g=n.stateNode;var C=n.memoizedProps,M=Er(a,C);g.props=M;var k=g.context,G=a.contextType;A=to,typeof G=="object"&&G!==null&&(A=ei(G));var K=a.getDerivedStateFromProps;G=typeof K=="function"||typeof g.getSnapshotBeforeUpdate=="function",C=n.pendingProps!==C,G||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(C||k!==A)&&cA(n,g,l,A),ya=!1;var F=n.memoizedState;g.state=F,cu(n,l,g,h),ou(),k=n.memoizedState,C||F!==k||ya?(typeof K=="function"&&(hm(n,a,K,l),k=n.memoizedState),(M=ya||oA(n,a,M,l,F,k,A))?(G||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(n.flags|=4194308)):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=k),g.props=l,g.state=k,g.context=A,l=M):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{g=n.stateNode,xm(t,n),A=n.memoizedProps,G=Er(a,A),g.props=G,K=n.pendingProps,F=g.context,k=a.contextType,M=to,typeof k=="object"&&k!==null&&(M=ei(k)),C=a.getDerivedStateFromProps,(k=typeof C=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A!==K||F!==M)&&cA(n,g,l,M),ya=!1,F=n.memoizedState,g.state=F,cu(n,l,g,h),ou();var I=n.memoizedState;A!==K||F!==I||ya||t!==null&&t.dependencies!==null&&yf(t.dependencies)?(typeof C=="function"&&(hm(n,a,C,l),I=n.memoizedState),(G=ya||oA(n,a,G,l,F,I,M)||t!==null&&t.dependencies!==null&&yf(t.dependencies))?(k||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(l,I,M),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(l,I,M)),typeof g.componentDidUpdate=="function"&&(n.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof g.componentDidUpdate!="function"||A===t.memoizedProps&&F===t.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||A===t.memoizedProps&&F===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=I),g.props=l,g.state=I,g.context=M,l=G):(typeof g.componentDidUpdate!="function"||A===t.memoizedProps&&F===t.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||A===t.memoizedProps&&F===t.memoizedState||(n.flags|=1024),l=!1)}return g=l,au(t,n),l=(n.flags&128)!==0,g||l?(g=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:g.render(),n.flags|=1,t!==null&&l?(n.child=vr(n,t.child,null,h),n.child=vr(n,null,a,h)):Ge(t,n,a,h),n.memoizedState=g.state,t=n.child):t=gs(t,n,h),t}function TA(t,n,a,l){return Kc(),n.flags|=256,Ge(t,n,a,l),n.child}var gm={dehydrated:null,treeContext:null,retryLane:0};function mm(t){return{baseLanes:t,cachePool:Cy()}}function vm(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=sn),t}function wA(t,n,a){var l=n.pendingProps,h=!1,g=(n.flags&128)!==0,A;if((A=g)||(A=t!==null&&t.memoizedState===null?!1:(Ce.current&2)!==0),A&&(h=!0,n.flags&=-129),A=(n.flags&32)!==0,n.flags&=-33,t===null){if(It){if(h?pa(n):ga(),It){var C=Ie,M;if(M=C){t:{for(M=C,C=Hn;M.nodeType!==8;){if(!C){C=null;break t}if(M=bn(M.nextSibling),M===null){C=null;break t}}C=M}C!==null?(n.memoizedState={dehydrated:C,treeContext:pr!==null?{id:hs,overflow:ds}:null,retryLane:536870912},M=nn(18,null,null,0),M.stateNode=C,M.return=n,n.child=M,ci=n,Ie=null,M=!0):M=!1}M||mr(n)}if(C=n.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return C.data==="$!"?n.lanes=16:n.lanes=536870912,null;fs(n)}return C=l.children,l=l.fallback,h?(ga(),h=n.mode,C=ym({mode:"hidden",children:C},h),l=Cr(l,h,a,null),C.return=n,l.return=n,C.sibling=l,n.child=C,h=n.child,h.memoizedState=mm(a),h.childLanes=vm(t,A,a),n.memoizedState=gm,l):(pa(n),bm(n,C))}if(M=t.memoizedState,M!==null&&(C=M.dehydrated,C!==null)){if(g)n.flags&256?(pa(n),n.flags&=-257,n=Am(t,n,a)):n.memoizedState!==null?(ga(),n.child=t.child,n.flags|=128,n=null):(ga(),h=l.fallback,C=n.mode,l=ym({mode:"visible",children:l.children},C),h=Cr(h,C,a,null),h.flags|=2,l.return=n,h.return=n,l.sibling=h,n.child=l,vr(n,t.child,null,a),l=n.child,l.memoizedState=mm(a),l.childLanes=vm(t,A,a),n.memoizedState=gm,n=h);else if(pa(n),C.data==="$!"){if(A=C.nextSibling&&C.nextSibling.dataset,A)var k=A.dgst;A=k,l=Error(s(419)),l.stack="",l.digest=A,Qc({value:l,source:null,stack:null}),n=Am(t,n,a)}else if(He||ru(t,n,a,!1),A=(a&t.childLanes)!==0,He||A){if(A=se,A!==null){if(l=a&-a,l&42)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=l&(A.suspendedLanes|a)?0:l,l!==0&&l!==M.retryLane)throw M.retryLane=l,fa(t,l),ui(A,t,l),mA}C.data==="$?"||Km(),n=Am(t,n,a)}else C.data==="$?"?(n.flags|=128,n.child=t.child,n=Cw.bind(null,t),C._reactRetry=n,n=null):(t=M.treeContext,Ie=bn(C.nextSibling),ci=n,It=!0,mn=null,Hn=!1,t!==null&&(Wi[Zi++]=hs,Wi[Zi++]=ds,Wi[Zi++]=pr,hs=t.id,ds=t.overflow,pr=n),n=bm(n,l.children),n.flags|=4096);return n}return h?(ga(),h=l.fallback,C=n.mode,M=t.child,k=M.sibling,l=wa(M,{mode:"hidden",children:l.children}),l.subtreeFlags=M.subtreeFlags&31457280,k!==null?h=wa(k,h):(h=Cr(h,C,a,null),h.flags|=2),h.return=n,l.return=n,l.sibling=h,n.child=l,l=h,h=n.child,C=t.child.memoizedState,C===null?C=mm(a):(M=C.cachePool,M!==null?(k=xe._currentValue,M=M.parent!==k?{parent:k,pool:k}:M):M=Cy(),C={baseLanes:C.baseLanes|a,cachePool:M}),h.memoizedState=C,h.childLanes=vm(t,A,a),n.memoizedState=gm,l):(pa(n),a=t.child,t=a.sibling,a=wa(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(A=n.deletions,A===null?(n.deletions=[t],n.flags|=16):A.push(t)),n.child=a,n.memoizedState=null,a)}function bm(t,n){return n=ym({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function ym(t,n){return WA(t,n,0,null)}function Am(t,n,a){return vr(n,t.child,null,a),t=bm(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function CA(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Tm(t.return,n,a)}function _m(t,n,a,l,h){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=a,g.tailMode=h)}function xA(t,n,a){var l=n.pendingProps,h=l.revealOrder,g=l.tail;if(Ge(t,n,l.children,a),l=Ce.current,l&2)l=l&1|2,n.flags|=128;else{if(t!==null&&t.flags&128)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&CA(t,a,n);else if(t.tag===19)CA(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(yt(Ce,l),h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&lf(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),_m(n,!1,h,a,g);break;case"backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&lf(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}_m(n,!0,a,null,g);break;case"together":_m(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function gs(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Ca|=n.lanes,!(a&n.childLanes))if(t!==null){if(ru(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=wa(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=wa(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Em(t,n){return t.lanes&n?!0:(t=t.dependencies,!!(t!==null&&yf(t)))}function dw(t,n,a){switch(n.tag){case 3:ve(n,n.stateNode.containerInfo),ba(n,xe,t.memoizedState.cache),Kc();break;case 27:case 5:Nn(n);break;case 4:ve(n,n.stateNode.containerInfo);break;case 10:ba(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(pa(n),n.flags|=128,null):a&n.child.childLanes?wA(t,n,a):(pa(n),t=gs(t,n,a),t!==null?t.sibling:null);pa(n);break;case 19:var h=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(ru(t,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return xA(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),yt(Ce,Ce.current),l)break;return null;case 22:case 23:return n.lanes=0,AA(t,n,a);case 24:ba(n,xe,t.memoizedState.cache)}return gs(t,n,a)}function RA(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)He=!0;else{if(!Em(t,a)&&!(n.flags&128))return He=!1,dw(t,n,a);He=!!(t.flags&131072)}else He=!1,It&&n.flags&1048576&&dy(n,ef,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,h=l._init;if(l=h(l._payload),n.type=l,typeof l=="function")Hm(l)?(t=Er(l,t),n.tag=1,n=SA(null,n,l,t,a)):(n.tag=0,n=pm(null,n,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===E){n.tag=11,n=vA(null,n,l,t,a);break t}else if(h===R){n.tag=14,n=bA(null,n,l,t,a);break t}}throw n=Z(l)||l,Error(s(306,n,""))}}return n;case 0:return pm(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=Er(l,n.pendingProps),SA(t,n,l,h,a);case 3:t:{if(ve(n,n.stateNode.containerInfo),t===null)throw Error(s(387));var g=n.pendingProps;h=n.memoizedState,l=h.element,xm(t,n),cu(n,g,null,a);var A=n.memoizedState;if(g=A.cache,ba(n,xe,g),g!==h.cache&&wm(n,[xe],a,!0),ou(),g=A.element,h.isDehydrated)if(h={element:g,isDehydrated:!1,cache:A.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=TA(t,n,g,a);break t}else if(g!==l){l=$i(Error(s(424)),n),Qc(l),n=TA(t,n,g,a);break t}else for(Ie=bn(n.stateNode.containerInfo.firstChild),ci=n,It=!0,mn=null,Hn=!0,a=_y(n,null,g,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Kc(),g===l){n=gs(t,n,a);break t}Ge(t,n,g,a)}n=n.child}return n;case 26:return au(t,n),t===null?(a=L_(n.type,null,n.pendingProps,null))?n.memoizedState=a:It||(a=n.type,t=n.pendingProps,l=Pf(Pt.current).createElement(a),l[ti]=n,l[vi]=t,qe(l,a,t),Pe(l),n.stateNode=l):n.memoizedState=L_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Nn(n),t===null&&It&&(l=n.stateNode=R_(n.type,n.pendingProps,Pt.current),ci=n,Hn=!0,Ie=bn(l.firstChild)),l=n.pendingProps.children,t!==null||It?Ge(t,n,l,a):n.child=vr(n,null,l,a),au(t,n),n.child;case 5:return t===null&&It&&((h=l=Ie)&&(l=Iw(l,n.type,n.pendingProps,Hn),l!==null?(n.stateNode=l,ci=n,Ie=bn(l.firstChild),Hn=!1,h=!0):h=!1),h||mr(n)),Nn(n),h=n.type,g=n.pendingProps,A=t!==null?t.memoizedProps:null,l=g.children,ov(h,g)?l=null:A!==null&&ov(h,A)&&(n.flags|=32),n.memoizedState!==null&&(h=$g(t,n,aw,null,null,a),Tu._currentValue=h),au(t,n),Ge(t,n,l,a),n.child;case 6:return t===null&&It&&((t=a=Ie)&&(a=Gw(a,n.pendingProps,Hn),a!==null?(n.stateNode=a,ci=n,Ie=null,t=!0):t=!1),t||mr(n)),null;case 13:return wA(t,n,a);case 4:return ve(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=vr(n,null,l,a):Ge(t,n,l,a),n.child;case 11:return vA(t,n,n.type,n.pendingProps,a);case 7:return Ge(t,n,n.pendingProps,a),n.child;case 8:return Ge(t,n,n.pendingProps.children,a),n.child;case 12:return Ge(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,ba(n,n.type,l.value),Ge(t,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Tr(n),h=ei(h),l=l(h),n.flags|=1,Ge(t,n,l,a),n.child;case 14:return bA(t,n,n.type,n.pendingProps,a);case 15:return yA(t,n,n.type,n.pendingProps,a);case 19:return xA(t,n,a);case 22:return AA(t,n,a);case 24:return Tr(n),l=ei(xe),t===null?(h=Kg(),h===null&&(h=se,g=Xg(),h.pooledCache=g,g.refCount++,g!==null&&(h.pooledCacheLanes|=a),h=g),n.memoizedState={parent:l,cache:h},Cm(n),ba(n,xe,h)):(t.lanes&a&&(xm(t,n),cu(n,null,null,a),ou()),h=t.memoizedState,g=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),ba(n,xe,l)):(l=g.cache,ba(n,xe,l),l!==h.cache&&wm(n,[xe],a,!0))),Ge(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}var Sm=_t(null),Sr=null,ms=null;function ba(t,n,a){yt(Sm,n._currentValue),n._currentValue=a}function vs(t){t._currentValue=Sm.current,Vt(Sm)}function Tm(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function wm(t,n,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var g=h.dependencies;if(g!==null){var A=h.child;g=g.firstContext;t:for(;g!==null;){var C=g;g=h;for(var M=0;M<n.length;M++)if(C.context===n[M]){g.lanes|=a,C=g.alternate,C!==null&&(C.lanes|=a),Tm(g.return,a,t),l||(A=null);break t}g=C.next}}else if(h.tag===18){if(A=h.return,A===null)throw Error(s(341));A.lanes|=a,g=A.alternate,g!==null&&(g.lanes|=a),Tm(A,a,t),A=null}else A=h.child;if(A!==null)A.return=h;else for(A=h;A!==null;){if(A===t){A=null;break}if(h=A.sibling,h!==null){h.return=A.return,A=h;break}A=A.return}h=A}}function ru(t,n,a,l){t=null;for(var h=n,g=!1;h!==null;){if(!g){if(h.flags&524288)g=!0;else if(h.flags&262144)break}if(h.tag===10){var A=h.alternate;if(A===null)throw Error(s(387));if(A=A.memoizedProps,A!==null){var C=h.type;Mi(h.pendingProps.value,A.value)||(t!==null?t.push(C):t=[C])}}else if(h===le.current){if(A=h.alternate,A===null)throw Error(s(387));A.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Tu):t=[Tu])}h=h.return}t!==null&&wm(n,t,a,l),n.flags|=262144}function yf(t){for(t=t.firstContext;t!==null;){if(!Mi(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Tr(t){Sr=t,ms=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ei(t){return MA(Sr,t)}function Af(t,n){return Sr===null&&Tr(t),MA(t,n)}function MA(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},ms===null){if(t===null)throw Error(s(308));ms=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else ms=ms.next=n;return a}var ya=!1;function Cm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xm(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Aa(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function _a(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,ue&2){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Jd(t),uy(t,null,a),n}return Zd(t,l,n,a),Jd(t)}function lu(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194176)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,bb(t,a)}}function Rm(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var A={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};g===null?h=g=A:g=g.next=A,a=a.next}while(a!==null);g===null?h=g=n:g=g.next=n}else h=g=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:g,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Mm=!1;function ou(){if(Mm){var t=ro;if(t!==null)throw t}}function cu(t,n,a,l){Mm=!1;var h=t.updateQueue;ya=!1;var g=h.firstBaseUpdate,A=h.lastBaseUpdate,C=h.shared.pending;if(C!==null){h.shared.pending=null;var M=C,k=M.next;M.next=null,A===null?g=k:A.next=k,A=M;var G=t.alternate;G!==null&&(G=G.updateQueue,C=G.lastBaseUpdate,C!==A&&(C===null?G.firstBaseUpdate=k:C.next=k,G.lastBaseUpdate=M))}if(g!==null){var K=h.baseState;A=0,G=k=M=null,C=g;do{var F=C.lane&-536870913,I=F!==C.lane;if(I?(Ut&F)===F:(l&F)===F){F!==0&&F===ao&&(Mm=!0),G!==null&&(G=G.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});t:{var ct=t,St=C;F=n;var ge=a;switch(St.tag){case 1:if(ct=St.payload,typeof ct=="function"){K=ct.call(ge,K,F);break t}K=ct;break t;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=St.payload,F=typeof ct=="function"?ct.call(ge,K,F):ct,F==null)break t;K=J({},K,F);break t;case 2:ya=!0}}F=C.callback,F!==null&&(t.flags|=64,I&&(t.flags|=8192),I=h.callbacks,I===null?h.callbacks=[F]:I.push(F))}else I={lane:F,tag:C.tag,payload:C.payload,callback:C.callback,next:null},G===null?(k=G=I,M=K):G=G.next=I,A|=F;if(C=C.next,C===null){if(C=h.shared.pending,C===null)break;I=C,C=I.next,I.next=null,h.lastBaseUpdate=I,h.shared.pending=null}}while(!0);G===null&&(M=K),h.baseState=M,h.firstBaseUpdate=k,h.lastBaseUpdate=G,g===null&&(h.shared.lanes=0),Ca|=A,t.lanes=A,t.memoizedState=K}}function DA(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function LA(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)DA(a[t],n)}function uu(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var g=a.create,A=a.inst;l=g(),A.destroy=l}a=a.next}while(a!==h)}}catch(C){te(n,n.return,C)}}function Ea(t,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var g=h.next;l=g;do{if((l.tag&t)===t){var A=l.inst,C=A.destroy;if(C!==void 0){A.destroy=void 0,h=n;var M=a;try{C()}catch(k){te(h,M,k)}}}l=l.next}while(l!==g)}}catch(k){te(n,n.return,k)}}function OA(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{LA(n,a)}catch(l){te(t,t.return,l)}}}function kA(t,n,a){a.props=Er(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){te(t,n,l)}}function wr(t,n){try{var a=t.ref;if(a!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof a=="function"?t.refCleanup=a(h):a.current=h}}catch(g){te(t,n,g)}}function Di(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){te(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){te(t,n,h)}else a.current=null}function NA(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){te(t,t.return,h)}}function PA(t,n,a){try{var l=t.stateNode;zw(l,t.type,a,n),l[vi]=n}catch(h){te(t,t.return,h)}}function HA(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function Dm(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||HA(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Lm(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.nodeType===8?a.parentNode.insertBefore(t,n):a.insertBefore(t,n):(a.nodeType===8?(n=a.parentNode,n.insertBefore(t,a)):(n=a,n.appendChild(t)),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Nf));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Lm(t,n,a),t=t.sibling;t!==null;)Lm(t,n,a),t=t.sibling}function _f(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(_f(t,n,a),t=t.sibling;t!==null;)_f(t,n,a),t=t.sibling}var bs=!1,fe=!1,Om=!1,zA=typeof WeakSet=="function"?WeakSet:Set,ze=null,FA=!1;function fw(t,n){if(t=t.containerInfo,rv=jf,t=ey(t),Ng(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,g=l.focusNode;l=l.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break t}var A=0,C=-1,M=-1,k=0,G=0,K=t,F=null;e:for(;;){for(var I;K!==a||h!==0&&K.nodeType!==3||(C=A+h),K!==g||l!==0&&K.nodeType!==3||(M=A+l),K.nodeType===3&&(A+=K.nodeValue.length),(I=K.firstChild)!==null;)F=K,K=I;for(;;){if(K===t)break e;if(F===a&&++k===h&&(C=A),F===g&&++G===l&&(M=A),(I=K.nextSibling)!==null)break;K=F,F=K.parentNode}K=I}a=C===-1||M===-1?null:{start:C,end:M}}else a=null}a=a||{start:0,end:0}}else a=null;for(lv={focusedElem:t,selectionRange:a},jf=!1,ze=n;ze!==null;)if(n=ze,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,ze=t;else for(;ze!==null;){switch(n=ze,g=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&g!==null){t=void 0,a=n,h=g.memoizedProps,g=g.memoizedState,l=a.stateNode;try{var ct=Er(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(ct,g),l.__reactInternalSnapshotBeforeUpdate=t}catch(St){te(a,a.return,St)}}break;case 3:if(t&1024){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)hv(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":hv(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,ze=t;break}ze=n.return}return ct=FA,FA=!1,ct}function UA(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:As(t,a),l&4&&uu(5,a);break;case 1:if(As(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(C){te(a,a.return,C)}else{var h=Er(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(C){te(a,a.return,C)}}l&64&&OA(a),l&512&&wr(a,a.return);break;case 3:if(As(t,a),l&64&&(l=a.updateQueue,l!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{LA(l,t)}catch(C){te(a,a.return,C)}}break;case 26:As(t,a),l&512&&wr(a,a.return);break;case 27:case 5:As(t,a),n===null&&l&4&&NA(a),l&512&&wr(a,a.return);break;case 12:As(t,a);break;case 13:As(t,a),l&4&&IA(t,a);break;case 22:if(h=a.memoizedState!==null||bs,!h){n=n!==null&&n.memoizedState!==null||fe;var g=bs,A=fe;bs=h,(fe=n)&&!A?Sa(t,a,(a.subtreeFlags&8772)!==0):As(t,a),bs=g,fe=A}l&512&&(a.memoizedProps.mode==="manual"?wr(a,a.return):Di(a,a.return));break;default:As(t,a)}}function BA(t){var n=t.alternate;n!==null&&(t.alternate=null,BA(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&bg(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Se=null,Li=!1;function ys(t,n,a){for(a=a.child;a!==null;)jA(t,n,a),a=a.sibling}function jA(t,n,a){if(xi&&typeof xi.onCommitFiberUnmount=="function")try{xi.onCommitFiberUnmount(kc,a)}catch{}switch(a.tag){case 26:fe||Di(a,n),ys(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:fe||Di(a,n);var l=Se,h=Li;for(Se=a.stateNode,ys(t,n,a),a=a.stateNode,n=a.attributes;n.length;)a.removeAttributeNode(n[0]);bg(a),Se=l,Li=h;break;case 5:fe||Di(a,n);case 6:h=Se;var g=Li;if(Se=null,ys(t,n,a),Se=h,Li=g,Se!==null)if(Li)try{t=Se,l=a.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(A){te(a,n,A)}else try{Se.removeChild(a.stateNode)}catch(A){te(a,n,A)}break;case 18:Se!==null&&(Li?(n=Se,a=a.stateNode,n.nodeType===8?uv(n.parentNode,a):n.nodeType===1&&uv(n,a),Ru(n)):uv(Se,a.stateNode));break;case 4:l=Se,h=Li,Se=a.stateNode.containerInfo,Li=!0,ys(t,n,a),Se=l,Li=h;break;case 0:case 11:case 14:case 15:fe||Ea(2,a,n),fe||Ea(4,a,n),ys(t,n,a);break;case 1:fe||(Di(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&kA(a,n,l)),ys(t,n,a);break;case 21:ys(t,n,a);break;case 22:fe||Di(a,n),fe=(l=fe)||a.memoizedState!==null,ys(t,n,a),fe=l;break;default:ys(t,n,a)}}function IA(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ru(t)}catch(a){te(n,n.return,a)}}function pw(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new zA),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new zA),n;default:throw Error(s(435,t.tag))}}function km(t,n){var a=pw(t);n.forEach(function(l){var h=xw.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function tn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],g=t,A=n,C=A;t:for(;C!==null;){switch(C.tag){case 27:case 5:Se=C.stateNode,Li=!1;break t;case 3:Se=C.stateNode.containerInfo,Li=!0;break t;case 4:Se=C.stateNode.containerInfo,Li=!0;break t}C=C.return}if(Se===null)throw Error(s(160));jA(g,A,h),Se=null,Li=!1,g=h.alternate,g!==null&&(g.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)GA(n,t),n=n.sibling}var vn=null;function GA(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:tn(n,t),en(t),l&4&&(Ea(3,t,t.return),uu(3,t),Ea(5,t,t.return));break;case 1:tn(n,t),en(t),l&512&&(fe||a===null||Di(a,a.return)),l&64&&bs&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=vn;if(tn(n,t),en(t),l&512&&(fe||a===null||Di(a,a.return)),l&4){var g=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":g=h.getElementsByTagName("title")[0],(!g||g[Hc]||g[ti]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=h.createElement(l),h.head.insertBefore(g,h.querySelector("head > title"))),qe(g,l,a),g[ti]=t,Pe(g),l=g;break t;case"link":var A=N_("link","href",h).get(l+(a.href||""));if(A){for(var C=0;C<A.length;C++)if(g=A[C],g.getAttribute("href")===(a.href==null?null:a.href)&&g.getAttribute("rel")===(a.rel==null?null:a.rel)&&g.getAttribute("title")===(a.title==null?null:a.title)&&g.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){A.splice(C,1);break e}}g=h.createElement(l),qe(g,l,a),h.head.appendChild(g);break;case"meta":if(A=N_("meta","content",h).get(l+(a.content||""))){for(C=0;C<A.length;C++)if(g=A[C],g.getAttribute("content")===(a.content==null?null:""+a.content)&&g.getAttribute("name")===(a.name==null?null:a.name)&&g.getAttribute("property")===(a.property==null?null:a.property)&&g.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&g.getAttribute("charset")===(a.charSet==null?null:a.charSet)){A.splice(C,1);break e}}g=h.createElement(l),qe(g,l,a),h.head.appendChild(g);break;default:throw Error(s(468,l))}g[ti]=t,Pe(g),l=g}t.stateNode=l}else P_(h,t.type,t.stateNode);else t.stateNode=k_(h,l,t.memoizedProps);else g!==l?(g===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):g.count--,l===null?P_(h,t.type,t.stateNode):k_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&PA(t,t.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){h=t.stateNode,g=t.memoizedProps;try{for(var M=h.firstChild;M;){var k=M.nextSibling,G=M.nodeName;M[Hc]||G==="HEAD"||G==="BODY"||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&M.rel.toLowerCase()==="stylesheet"||h.removeChild(M),M=k}for(var K=t.type,F=h.attributes;F.length;)h.removeAttributeNode(F[0]);qe(h,K,g),h[ti]=t,h[vi]=g}catch(ct){te(t,t.return,ct)}}case 5:if(tn(n,t),en(t),l&512&&(fe||a===null||Di(a,a.return)),t.flags&32){h=t.stateNode;try{Yl(h,"")}catch(ct){te(t,t.return,ct)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,PA(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Om=!0);break;case 6:if(tn(n,t),en(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ct){te(t,t.return,ct)}}break;case 3:if(Ff=null,h=vn,vn=Hf(n.containerInfo),tn(n,t),vn=h,en(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ru(n.containerInfo)}catch(ct){te(t,t.return,ct)}Om&&(Om=!1,qA(t));break;case 4:l=vn,vn=Hf(t.stateNode.containerInfo),tn(n,t),en(t),vn=l;break;case 12:tn(n,t),en(t);break;case 13:tn(n,t),en(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Im=Xi()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,km(t,l)));break;case 22:if(l&512&&(fe||a===null||Di(a,a.return)),M=t.memoizedState!==null,k=a!==null&&a.memoizedState!==null,G=bs,K=fe,bs=G||M,fe=K||k,tn(n,t),fe=K,bs=G,en(t),n=t.stateNode,n._current=t,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,l&8192&&(n._visibility=M?n._visibility&-2:n._visibility|1,M&&(n=bs||fe,a===null||k||n||uo(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))t:for(a=null,n=t;;){if(n.tag===5||n.tag===26||n.tag===27){if(a===null){k=a=n;try{if(h=k.stateNode,M)g=h.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{A=k.stateNode,C=k.memoizedProps.style;var I=C!=null&&C.hasOwnProperty("display")?C.display:null;A.style.display=I==null||typeof I=="boolean"?"":(""+I).trim()}}catch(ct){te(k,k.return,ct)}}}else if(n.tag===6){if(a===null){k=n;try{k.stateNode.nodeValue=M?"":k.memoizedProps}catch(ct){te(k,k.return,ct)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,km(t,a))));break;case 19:tn(n,t),en(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,km(t,l)));break;case 21:break;default:tn(n,t),en(t)}}function en(t){var n=t.flags;if(n&2){try{if(t.tag!==27){t:{for(var a=t.return;a!==null;){if(HA(a)){var l=a;break t}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var h=l.stateNode,g=Dm(t);_f(t,g,h);break;case 5:var A=l.stateNode;l.flags&32&&(Yl(A,""),l.flags&=-33);var C=Dm(t);_f(t,C,A);break;case 3:case 4:var M=l.stateNode.containerInfo,k=Dm(t);Lm(t,k,M);break;default:throw Error(s(161))}}}catch(G){te(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function qA(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;qA(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function As(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)UA(t,n.alternate,n),n=n.sibling}function uo(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ea(4,n,n.return),uo(n);break;case 1:Di(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&kA(n,n.return,a),uo(n);break;case 26:case 27:case 5:Di(n,n.return),uo(n);break;case 22:Di(n,n.return),n.memoizedState===null&&uo(n);break;default:uo(n)}t=t.sibling}}function Sa(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,g=n,A=g.flags;switch(g.tag){case 0:case 11:case 15:Sa(h,g,a),uu(4,g);break;case 1:if(Sa(h,g,a),l=g,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(k){te(l,l.return,k)}if(l=g,h=l.updateQueue,h!==null){var C=l.stateNode;try{var M=h.shared.hiddenCallbacks;if(M!==null)for(h.shared.hiddenCallbacks=null,h=0;h<M.length;h++)DA(M[h],C)}catch(k){te(l,l.return,k)}}a&&A&64&&OA(g),wr(g,g.return);break;case 26:case 27:case 5:Sa(h,g,a),a&&l===null&&A&4&&NA(g),wr(g,g.return);break;case 12:Sa(h,g,a);break;case 13:Sa(h,g,a),a&&A&4&&IA(h,g);break;case 22:g.memoizedState===null&&Sa(h,g,a),wr(g,g.return);break;default:Sa(h,g,a)}n=n.sibling}}function Nm(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&tu(a))}function Pm(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&tu(t))}function Ta(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)VA(t,n,a,l),n=n.sibling}function VA(t,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Ta(t,n,a,l),h&2048&&uu(9,n);break;case 3:Ta(t,n,a,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&tu(t)));break;case 12:if(h&2048){Ta(t,n,a,l),t=n.stateNode;try{var g=n.memoizedProps,A=g.id,C=g.onPostCommit;typeof C=="function"&&C(A,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(M){te(n,n.return,M)}}else Ta(t,n,a,l);break;case 23:break;case 22:g=n.stateNode,n.memoizedState!==null?g._visibility&4?Ta(t,n,a,l):hu(t,n):g._visibility&4?Ta(t,n,a,l):(g._visibility|=4,ho(t,n,a,l,(n.subtreeFlags&10256)!==0)),h&2048&&Nm(n.alternate,n);break;case 24:Ta(t,n,a,l),h&2048&&Pm(n.alternate,n);break;default:Ta(t,n,a,l)}}function ho(t,n,a,l,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var g=t,A=n,C=a,M=l,k=A.flags;switch(A.tag){case 0:case 11:case 15:ho(g,A,C,M,h),uu(8,A);break;case 23:break;case 22:var G=A.stateNode;A.memoizedState!==null?G._visibility&4?ho(g,A,C,M,h):hu(g,A):(G._visibility|=4,ho(g,A,C,M,h)),h&&k&2048&&Nm(A.alternate,A);break;case 24:ho(g,A,C,M,h),h&&k&2048&&Pm(A.alternate,A);break;default:ho(g,A,C,M,h)}n=n.sibling}}function hu(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,h=l.flags;switch(l.tag){case 22:hu(a,l),h&2048&&Nm(l.alternate,l);break;case 24:hu(a,l),h&2048&&Pm(l.alternate,l);break;default:hu(a,l)}n=n.sibling}}var du=8192;function fo(t){if(t.subtreeFlags&du)for(t=t.child;t!==null;)XA(t),t=t.sibling}function XA(t){switch(t.tag){case 26:fo(t),t.flags&du&&t.memoizedState!==null&&iC(vn,t.memoizedState,t.memoizedProps);break;case 5:fo(t);break;case 3:case 4:var n=vn;vn=Hf(t.stateNode.containerInfo),fo(t),vn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=du,du=16777216,fo(t),du=n):fo(t));break;default:fo(t)}}function YA(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function fu(t){var n=t.deletions;if(t.flags&16){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];ze=l,QA(l,t)}YA(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)KA(t),t=t.sibling}function KA(t){switch(t.tag){case 0:case 11:case 15:fu(t),t.flags&2048&&Ea(9,t,t.return);break;case 3:fu(t);break;case 12:fu(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&4&&(t.return===null||t.return.tag!==13)?(n._visibility&=-5,Ef(t)):fu(t);break;default:fu(t)}}function Ef(t){var n=t.deletions;if(t.flags&16){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];ze=l,QA(l,t)}YA(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ea(8,n,n.return),Ef(n);break;case 22:a=n.stateNode,a._visibility&4&&(a._visibility&=-5,Ef(n));break;default:Ef(n)}t=t.sibling}}function QA(t,n){for(;ze!==null;){var a=ze;switch(a.tag){case 0:case 11:case 15:Ea(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:tu(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,ze=l;else t:for(a=t;ze!==null;){l=ze;var h=l.sibling,g=l.return;if(BA(l),l===a){ze=null;break t}if(h!==null){h.return=g,ze=h;break t}ze=g}}}function gw(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nn(t,n,a,l){return new gw(t,n,a,l)}function Hm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function wa(t,n){var a=t.alternate;return a===null?(a=nn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&31457280,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function $A(t,n){t.flags&=31457282;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Sf(t,n,a,l,h,g){var A=0;if(l=t,typeof t=="function")Hm(t)&&(A=1);else if(typeof t=="string")A=tC(t,a,Je.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case f:return Cr(a.children,h,g,n);case p:A=8,h|=24;break;case v:return t=nn(12,a,n,h|2),t.elementType=v,t.lanes=g,t;case x:return t=nn(13,a,n,h),t.elementType=x,t.lanes=g,t;case D:return t=nn(19,a,n,h),t.elementType=D,t.lanes=g,t;case z:return WA(a,h,g,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case b:case _:A=10;break t;case y:A=9;break t;case E:A=11;break t;case R:A=14;break t;case N:A=16,l=null;break t}A=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=nn(A,a,n,h),n.elementType=t,n.type=l,n.lanes=g,n}function Cr(t,n,a,l){return t=nn(7,t,l,n),t.lanes=a,t}function WA(t,n,a,l){t=nn(22,t,l,n),t.elementType=z,t.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var g=h._current;if(g===null)throw Error(s(456));if(!(h._pendingVisibility&2)){var A=fa(g,2);A!==null&&(h._pendingVisibility|=2,ui(A,g,2))}},attach:function(){var g=h._current;if(g===null)throw Error(s(456));if(h._pendingVisibility&2){var A=fa(g,2);A!==null&&(h._pendingVisibility&=-3,ui(A,g,2))}}};return t.stateNode=h,t}function zm(t,n,a){return t=nn(6,t,null,n),t.lanes=a,t}function Fm(t,n,a){return n=nn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function _s(t){t.flags|=4}function ZA(t,n){if(n.type!=="stylesheet"||n.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!H_(n)){if(n=Ji.current,n!==null&&((Ut&4194176)===Ut?zn!==null:(Ut&62914560)!==Ut&&!(Ut&536870912)||n!==zn))throw Wc=Gg,gy;t.flags|=8192}}function Tf(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?mb():536870912,t.lanes|=n,go|=n)}function pu(t,n){if(!It)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ce(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function mw(t,n,a){var l=n.pendingProps;switch(jg(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ce(n),null;case 1:return ce(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),vs(xe),oe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Yc(n)?_s(n):t===null||t.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,mn!==null&&(Xm(mn),mn=null))),ce(n),null;case 26:return a=n.memoizedState,t===null?(_s(n),a!==null?(ce(n),ZA(n,a)):(ce(n),n.flags&=-16777217)):a?a!==t.memoizedState?(_s(n),ce(n),ZA(n,a)):(ce(n),n.flags&=-16777217):(t.memoizedProps!==l&&_s(n),ce(n),n.flags&=-16777217),null;case 27:Pn(n),a=Pt.current;var h=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&_s(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ce(n),null}t=Je.current,Yc(n)?fy(n):(t=R_(h,l,a),n.stateNode=t,_s(n))}return ce(n),null;case 5:if(Pn(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&_s(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ce(n),null}if(t=Je.current,Yc(n))fy(n);else{switch(h=Pf(Pt.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[ti]=n,t[vi]=l;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=t;t:switch(qe(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&_s(n)}}return ce(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&_s(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=Pt.current,Yc(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,h=ci,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[ti]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||E_(t.nodeValue,a)),t||mr(n)}else t=Pf(t).createTextNode(l),t[ti]=n,n.stateNode=t}return ce(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Yc(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[ti]=n}else Kc(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;ce(n),h=!1}else mn!==null&&(Xm(mn),mn=null),h=!0;if(!h)return n.flags&256?(fs(n),n):(fs(n),null)}if(fs(n),n.flags&128)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var g=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),g!==h&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),Tf(n,n.updateQueue),ce(n),null;case 4:return oe(),t===null&&nv(n.stateNode.containerInfo),ce(n),null;case 10:return vs(n.type),ce(n),null;case 19:if(Vt(Ce),h=n.memoizedState,h===null)return ce(n),null;if(l=(n.flags&128)!==0,g=h.rendering,g===null)if(l)pu(h,!1);else{if(pe!==0||t!==null&&t.flags&128)for(t=n.child;t!==null;){if(g=lf(t),g!==null){for(n.flags|=128,pu(h,!1),t=g.updateQueue,n.updateQueue=t,Tf(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)$A(a,t),a=a.sibling;return yt(Ce,Ce.current&1|2),n.child}t=t.sibling}h.tail!==null&&Xi()>wf&&(n.flags|=128,l=!0,pu(h,!1),n.lanes=4194304)}else{if(!l)if(t=lf(g),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Tf(n,t),pu(h,!0),h.tail===null&&h.tailMode==="hidden"&&!g.alternate&&!It)return ce(n),null}else 2*Xi()-h.renderingStartTime>wf&&a!==536870912&&(n.flags|=128,l=!0,pu(h,!1),n.lanes=4194304);h.isBackwards?(g.sibling=n.child,n.child=g):(t=h.last,t!==null?t.sibling=g:n.child=g,h.last=g)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=Xi(),n.sibling=null,t=Ce.current,yt(Ce,l?t&1|2:t&1),n):(ce(n),null);case 22:case 23:return fs(n),Vg(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?a&536870912&&!(n.flags&128)&&(ce(n),n.subtreeFlags&6&&(n.flags|=8192)):ce(n),a=n.updateQueue,a!==null&&Tf(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&Vt(br),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),vs(xe),ce(n),null;case 25:return null}throw Error(s(156,n.tag))}function vw(t,n){switch(jg(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return vs(xe),oe(),t=n.flags,t&65536&&!(t&128)?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Pn(n),null;case 13:if(fs(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Kc()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Vt(Ce),null;case 4:return oe(),null;case 10:return vs(n.type),null;case 22:case 23:return fs(n),Vg(),t!==null&&Vt(br),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return vs(xe),null;case 25:return null;default:return null}}function JA(t,n){switch(jg(n),n.tag){case 3:vs(xe),oe();break;case 26:case 27:case 5:Pn(n);break;case 4:oe();break;case 13:fs(n);break;case 19:Vt(Ce);break;case 10:vs(n.type);break;case 22:case 23:fs(n),Vg(),t!==null&&Vt(br);break;case 24:vs(xe)}}var bw={getCacheForType:function(t){var n=ei(xe),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},yw=typeof WeakMap=="function"?WeakMap:Map,ue=0,se=null,Ot=null,Ut=0,ae=0,Oi=null,Es=!1,po=!1,Um=!1,Ss=0,pe=0,Ca=0,xr=0,Bm=0,sn=0,go=0,gu=null,Un=null,jm=!1,Im=0,wf=1/0,Cf=null,xa=null,xf=!1,Rr=null,mu=0,Gm=0,qm=null,vu=0,Vm=null;function ki(){if(ue&2&&Ut!==0)return Ut&-Ut;if(q.T!==null){var t=ao;return t!==0?t:Jm()}return Ab()}function t_(){sn===0&&(sn=!(Ut&536870912)||It?gb():536870912);var t=Ji.current;return t!==null&&(t.flags|=32),sn}function ui(t,n,a){(t===se&&ae===2||t.cancelPendingCommit!==null)&&(mo(t,0),Ts(t,Ut,sn,!1)),Pc(t,a),(!(ue&2)||t!==se)&&(t===se&&(!(ue&2)&&(xr|=a),pe===4&&Ts(t,Ut,sn,!1)),Bn(t))}function e_(t,n,a){if(ue&6)throw Error(s(327));var l=!a&&(n&60)===0&&(n&t.expiredLanes)===0||Nc(t,n),h=l?Ew(t,n):Qm(t,n,!0),g=l;do{if(h===0){po&&!l&&Ts(t,n,0,!1);break}else if(h===6)Ts(t,n,0,!Es);else{if(a=t.current.alternate,g&&!Aw(a)){h=Qm(t,n,!1),g=!1;continue}if(h===2){if(g=n,t.errorRecoveryDisabledLanes&g)var A=0;else A=t.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){n=A;t:{var C=t;h=gu;var M=C.current.memoizedState.isDehydrated;if(M&&(mo(C,A).flags|=256),A=Qm(C,A,!1),A!==2){if(Um&&!M){C.errorRecoveryDisabledLanes|=g,xr|=g,h=4;break t}g=Un,Un=h,g!==null&&Xm(g)}h=A}if(g=!1,h!==2)continue}}if(h===1){mo(t,0),Ts(t,n,0,!0);break}t:{switch(l=t,h){case 0:case 1:throw Error(s(345));case 4:if((n&4194176)===n){Ts(l,n,sn,!Es);break t}break;case 2:Un=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=n,(n&62914560)===n&&(g=Im+300-Xi(),10<g)){if(Ts(l,n,sn,!Es),Ud(l,0)!==0)break t;l.timeoutHandle=w_(i_.bind(null,l,a,Un,Cf,jm,n,sn,xr,go,Es,2,-0,0),g);break t}i_(l,a,Un,Cf,jm,n,sn,xr,go,Es,0,-0,0)}}break}while(!0);Bn(t)}function Xm(t){Un===null?Un=t:Un.push.apply(Un,t)}function i_(t,n,a,l,h,g,A,C,M,k,G,K,F){var I=n.subtreeFlags;if((I&8192||(I&16785408)===16785408)&&(Su={stylesheets:null,count:0,unsuspend:eC},XA(n),n=nC(),n!==null)){t.cancelPendingCommit=n(c_.bind(null,t,a,l,h,A,C,M,1,K,F)),Ts(t,g,A,!k);return}c_(t,a,l,h,A,C,M,G,K,F)}function Aw(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],g=h.getSnapshot;h=h.value;try{if(!Mi(g(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ts(t,n,a,l){n&=~Bm,n&=~xr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var g=31-Ri(h),A=1<<g;l[g]=-1,h&=~A}a!==0&&vb(t,a,n)}function Rf(){return ue&6?!0:(bu(0),!1)}function Ym(){if(Ot!==null){if(ae===0)var t=Ot.return;else t=Ot,ms=Sr=null,Jg(t),no=null,Zc=0,t=Ot;for(;t!==null;)JA(t.alternate,t),t=t.return;Ot=null}}function mo(t,n){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Uw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Ym(),se=t,Ot=a=wa(t.current,null),Ut=n,ae=0,Oi=null,Es=!1,po=Nc(t,n),Um=!1,go=sn=Bm=xr=Ca=pe=0,Un=gu=null,jm=!1,n&8&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-Ri(l),g=1<<h;n|=t[h],l&=~g}return Ss=n,Wd(),a}function n_(t,n){Mt=null,q.H=Fn,n===$c?(n=by(),ae=3):n===gy?(n=by(),ae=4):ae=n===mA?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Oi=n,Ot===null&&(pe=1,bf(t,$i(n,t.current)))}function s_(){var t=q.H;return q.H=Fn,t===null?Fn:t}function a_(){var t=q.A;return q.A=bw,t}function Km(){pe=4,Es||(Ut&4194176)!==Ut&&Ji.current!==null||(po=!0),!(Ca&134217727)&&!(xr&134217727)||se===null||Ts(se,Ut,sn,!1)}function Qm(t,n,a){var l=ue;ue|=2;var h=s_(),g=a_();(se!==t||Ut!==n)&&(Cf=null,mo(t,n)),n=!1;var A=pe;t:do try{if(ae!==0&&Ot!==null){var C=Ot,M=Oi;switch(ae){case 8:Ym(),A=6;break t;case 3:case 2:case 6:Ji.current===null&&(n=!0);var k=ae;if(ae=0,Oi=null,vo(t,C,M,k),a&&po){A=0;break t}break;default:k=ae,ae=0,Oi=null,vo(t,C,M,k)}}_w(),A=pe;break}catch(G){n_(t,G)}while(!0);return n&&t.shellSuspendCounter++,ms=Sr=null,ue=l,q.H=h,q.A=g,Ot===null&&(se=null,Ut=0,Wd()),A}function _w(){for(;Ot!==null;)r_(Ot)}function Ew(t,n){var a=ue;ue|=2;var l=s_(),h=a_();se!==t||Ut!==n?(Cf=null,wf=Xi()+500,mo(t,n)):po=Nc(t,n);t:do try{if(ae!==0&&Ot!==null){n=Ot;var g=Oi;e:switch(ae){case 1:ae=0,Oi=null,vo(t,n,g,1);break;case 2:if(my(g)){ae=0,Oi=null,l_(n);break}n=function(){ae===2&&se===t&&(ae=7),Bn(t)},g.then(n,n);break t;case 3:ae=7;break t;case 4:ae=5;break t;case 7:my(g)?(ae=0,Oi=null,l_(n)):(ae=0,Oi=null,vo(t,n,g,7));break;case 5:var A=null;switch(Ot.tag){case 26:A=Ot.memoizedState;case 5:case 27:var C=Ot;if(!A||H_(A)){ae=0,Oi=null;var M=C.sibling;if(M!==null)Ot=M;else{var k=C.return;k!==null?(Ot=k,Mf(k)):Ot=null}break e}}ae=0,Oi=null,vo(t,n,g,5);break;case 6:ae=0,Oi=null,vo(t,n,g,6);break;case 8:Ym(),pe=6;break t;default:throw Error(s(462))}}Sw();break}catch(G){n_(t,G)}while(!0);return ms=Sr=null,q.H=l,q.A=h,ue=a,Ot!==null?0:(se=null,Ut=0,Wd(),pe)}function Sw(){for(;Ot!==null&&!fg();)r_(Ot)}function r_(t){var n=RA(t.alternate,t,Ss);t.memoizedProps=t.pendingProps,n===null?Mf(t):Ot=n}function l_(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=EA(a,n,n.pendingProps,n.type,void 0,Ut);break;case 11:n=EA(a,n,n.pendingProps,n.type.render,n.ref,Ut);break;case 5:Jg(n);default:JA(a,n),n=Ot=$A(n,Ss),n=RA(a,n,Ss)}t.memoizedProps=t.pendingProps,n===null?Mf(t):Ot=n}function vo(t,n,a,l){ms=Sr=null,Jg(n),no=null,Zc=0;var h=n.return;try{if(hw(t,h,n,a,Ut)){pe=1,bf(t,$i(a,t.current)),Ot=null;return}}catch(g){if(h!==null)throw Ot=h,g;pe=1,bf(t,$i(a,t.current)),Ot=null;return}n.flags&32768?(It||l===1?t=!0:po||Ut&536870912?t=!1:(Es=t=!0,(l===2||l===3||l===6)&&(l=Ji.current,l!==null&&l.tag===13&&(l.flags|=16384))),o_(n,t)):Mf(n)}function Mf(t){var n=t;do{if(n.flags&32768){o_(n,Es);return}t=n.return;var a=mw(n.alternate,n,Ss);if(a!==null){Ot=a;return}if(n=n.sibling,n!==null){Ot=n;return}Ot=n=t}while(n!==null);pe===0&&(pe=5)}function o_(t,n){do{var a=vw(t.alternate,t);if(a!==null){a.flags&=32767,Ot=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Ot=t;return}Ot=t=a}while(t!==null);pe=6,Ot=null}function c_(t,n,a,l,h,g,A,C,M,k){var G=q.T,K=tt.p;try{tt.p=2,q.T=null,Tw(t,n,a,l,K,h,g,A,C,M,k)}finally{q.T=G,tt.p=K}}function Tw(t,n,a,l,h,g,A,C){do bo();while(Rr!==null);if(ue&6)throw Error(s(327));var M=t.finishedWork;if(l=t.finishedLanes,M===null)return null;if(t.finishedWork=null,t.finishedLanes=0,M===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var k=M.lanes|M.childLanes;if(k|=Fg,iT(t,l,k,g,A,C),t===se&&(Ot=se=null,Ut=0),!(M.subtreeFlags&10256)&&!(M.flags&10256)||xf||(xf=!0,Gm=k,qm=a,Rw(os,function(){return bo(),null})),a=(M.flags&15990)!==0,M.subtreeFlags&15990||a?(a=q.T,q.T=null,g=tt.p,tt.p=2,A=ue,ue|=4,fw(t,M),GA(M,t),KT(lv,t.containerInfo),jf=!!rv,lv=rv=null,t.current=M,UA(t,M.alternate,M),pg(),ue=A,tt.p=g,q.T=a):t.current=M,xf?(xf=!1,Rr=t,mu=l):u_(t,k),k=t.pendingLanes,k===0&&(xa=null),W1(M.stateNode),Bn(t),n!==null)for(h=t.onRecoverableError,M=0;M<n.length;M++)k=n[M],h(k.value,{componentStack:k.stack});return mu&3&&bo(),k=t.pendingLanes,l&4194218&&k&42?t===Vm?vu++:(vu=0,Vm=t):vu=0,bu(0),null}function u_(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,tu(n)))}function bo(){if(Rr!==null){var t=Rr,n=Gm;Gm=0;var a=yb(mu),l=q.T,h=tt.p;try{if(tt.p=32>a?32:a,q.T=null,Rr===null)var g=!1;else{a=qm,qm=null;var A=Rr,C=mu;if(Rr=null,mu=0,ue&6)throw Error(s(331));var M=ue;if(ue|=4,KA(A.current),VA(A,A.current,C,a),ue=M,bu(0,!1),xi&&typeof xi.onPostCommitFiberRoot=="function")try{xi.onPostCommitFiberRoot(kc,A)}catch{}g=!0}return g}finally{tt.p=h,q.T=l,u_(t,n)}}return!1}function h_(t,n,a){n=$i(a,n),n=fm(t.stateNode,n,2),t=_a(t,n,2),t!==null&&(Pc(t,2),Bn(t))}function te(t,n,a){if(t.tag===3)h_(t,t,a);else for(;n!==null;){if(n.tag===3){h_(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(xa===null||!xa.has(l))){t=$i(a,t),a=pA(2),l=_a(n,a,2),l!==null&&(gA(a,l,n,t),Pc(l,2),Bn(l));break}}n=n.return}}function $m(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new yw;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(Um=!0,h.add(a),t=ww.bind(null,t,n,a),n.then(t,t))}function ww(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,se===t&&(Ut&a)===a&&(pe===4||pe===3&&(Ut&62914560)===Ut&&300>Xi()-Im?!(ue&2)&&mo(t,0):Bm|=a,go===Ut&&(go=0)),Bn(t)}function d_(t,n){n===0&&(n=mb()),t=fa(t,n),t!==null&&(Pc(t,n),Bn(t))}function Cw(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),d_(t,a)}function xw(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),d_(t,a)}function Rw(t,n){return Oc(t,n)}var Df=null,yo=null,Wm=!1,Lf=!1,Zm=!1,Mr=0;function Bn(t){t!==yo&&t.next===null&&(yo===null?Df=yo=t:yo=yo.next=t),Lf=!0,Wm||(Wm=!0,Dw(Mw))}function bu(t,n){if(!Zm&&Lf){Zm=!0;do for(var a=!1,l=Df;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var g=0;else{var A=l.suspendedLanes,C=l.pingedLanes;g=(1<<31-Ri(42|t)+1)-1,g&=h&~(A&~C),g=g&201326677?g&201326677|1:g?g|2:0}g!==0&&(a=!0,g_(l,g))}else g=Ut,g=Ud(l,l===se?g:0),!(g&3)||Nc(l,g)||(a=!0,g_(l,g));l=l.next}while(a);Zm=!1}}function Mw(){Lf=Wm=!1;var t=0;Mr!==0&&(Fw()&&(t=Mr),Mr=0);for(var n=Xi(),a=null,l=Df;l!==null;){var h=l.next,g=f_(l,n);g===0?(l.next=null,a===null?Df=h:a.next=h,h===null&&(yo=a)):(a=l,(t!==0||g&3)&&(Lf=!0)),l=h}bu(t)}function f_(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,g=t.pendingLanes&-62914561;0<g;){var A=31-Ri(g),C=1<<A,M=h[A];M===-1?(!(C&a)||C&l)&&(h[A]=eT(C,n)):M<=n&&(t.expiredLanes|=C),g&=~C}if(n=se,a=Ut,a=Ud(t,t===n?a:0),l=t.callbackNode,a===0||t===n&&ae===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ca(l),t.callbackNode=null,t.callbackPriority=0;if(!(a&3)||Nc(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&ca(l),yb(a)){case 2:case 8:a=ls;break;case 32:a=os;break;case 268435456:a=jl;break;default:a=os}return l=p_.bind(null,t),a=Oc(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&ca(l),t.callbackPriority=2,t.callbackNode=null,2}function p_(t,n){var a=t.callbackNode;if(bo()&&t.callbackNode!==a)return null;var l=Ut;return l=Ud(t,t===se?l:0),l===0?null:(e_(t,l,n),f_(t,Xi()),t.callbackNode!=null&&t.callbackNode===a?p_.bind(null,t):null)}function g_(t,n){if(bo())return null;e_(t,n,!0)}function Dw(t){Bw(function(){ue&6?Oc(Hd,t):t()})}function Jm(){return Mr===0&&(Mr=gb()),Mr}function m_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:qd(""+t)}function v_(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function Lw(t,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var g=m_((h[vi]||null).action),A=l.submitter;A&&(n=(n=A[vi]||null)?m_(n.formAction):A.getAttribute("formAction"),n!==null&&(g=n,A=null));var C=new Kd("action","action",null,l,h);t.push({event:C,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Mr!==0){var M=A?v_(h,A):new FormData(h);om(a,{pending:!0,data:M,method:h.method,action:g},null,M)}}else typeof g=="function"&&(C.preventDefault(),M=A?v_(h,A):new FormData(h),om(a,{pending:!0,data:M,method:h.method,action:g},g,M))},currentTarget:h}]})}}for(var tv=0;tv<cy.length;tv++){var ev=cy[tv],Ow=ev.toLowerCase(),kw=ev[0].toUpperCase()+ev.slice(1);gn(Ow,"on"+kw)}gn(sy,"onAnimationEnd"),gn(ay,"onAnimationIteration"),gn(ry,"onAnimationStart"),gn("dblclick","onDoubleClick"),gn("focusin","onFocus"),gn("focusout","onBlur"),gn($T,"onTransitionRun"),gn(WT,"onTransitionStart"),gn(ZT,"onTransitionCancel"),gn(ly,"onTransitionEnd"),Vl("onMouseEnter",["mouseout","mouseover"]),Vl("onMouseLeave",["mouseout","mouseover"]),Vl("onPointerEnter",["pointerout","pointerover"]),Vl("onPointerLeave",["pointerout","pointerover"]),ur("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ur("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ur("onBeforeInput",["compositionend","keypress","textInput","paste"]),ur("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ur("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ur("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yu));function b_(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;t:{var g=void 0;if(n)for(var A=l.length-1;0<=A;A--){var C=l[A],M=C.instance,k=C.currentTarget;if(C=C.listener,M!==g&&h.isPropagationStopped())break t;g=C,h.currentTarget=k;try{g(h)}catch(G){vf(G)}h.currentTarget=null,g=M}else for(A=0;A<l.length;A++){if(C=l[A],M=C.instance,k=C.currentTarget,C=C.listener,M!==g&&h.isPropagationStopped())break t;g=C,h.currentTarget=k;try{g(h)}catch(G){vf(G)}h.currentTarget=null,g=M}}}}function Ht(t,n){var a=n[vg];a===void 0&&(a=n[vg]=new Set);var l=t+"__bubble";a.has(l)||(y_(n,t,2,!1),a.add(l))}function iv(t,n,a){var l=0;n&&(l|=4),y_(a,t,l,n)}var Of="_reactListening"+Math.random().toString(36).slice(2);function nv(t){if(!t[Of]){t[Of]=!0,Eb.forEach(function(a){a!=="selectionchange"&&(Nw.has(a)||iv(a,!1,t),iv(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Of]||(n[Of]=!0,iv("selectionchange",!1,n))}}function y_(t,n,a,l){switch(I_(n)){case 2:var h=rC;break;case 8:h=lC;break;default:h=mv}a=h.bind(null,n,a,t),h=void 0,!wg||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function sv(t,n,a,l,h){var g=l;if(!(n&1)&&!(n&2)&&l!==null)t:for(;;){if(l===null)return;var A=l.tag;if(A===3||A===4){var C=l.stateNode.containerInfo;if(C===h||C.nodeType===8&&C.parentNode===h)break;if(A===4)for(A=l.return;A!==null;){var M=A.tag;if((M===3||M===4)&&(M=A.stateNode.containerInfo,M===h||M.nodeType===8&&M.parentNode===h))return;A=A.return}for(;C!==null;){if(A=cr(C),A===null)return;if(M=A.tag,M===5||M===6||M===26||M===27){l=g=A;continue t}C=C.parentNode}}l=l.return}Nb(function(){var k=g,G=Sg(a),K=[];t:{var F=oy.get(t);if(F!==void 0){var I=Kd,ct=t;switch(t){case"keypress":if(Xd(a)===0)break t;case"keydown":case"keyup":I=xT;break;case"focusin":ct="focus",I=Mg;break;case"focusout":ct="blur",I=Mg;break;case"beforeblur":case"afterblur":I=Mg;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=zb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=gT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=DT;break;case sy:case ay:case ry:I=bT;break;case ly:I=OT;break;case"scroll":case"scrollend":I=fT;break;case"wheel":I=NT;break;case"copy":case"cut":case"paste":I=AT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=Ub;break;case"toggle":case"beforetoggle":I=HT}var St=(n&4)!==0,ge=!St&&(t==="scroll"||t==="scrollend"),P=St?F!==null?F+"Capture":null:F;St=[];for(var O=k,H;O!==null;){var V=O;if(H=V.stateNode,V=V.tag,V!==5&&V!==26&&V!==27||H===null||P===null||(V=Fc(O,P),V!=null&&St.push(Au(O,V,H))),ge)break;O=O.return}0<St.length&&(F=new I(F,ct,null,a,G),K.push({event:F,listeners:St}))}}if(!(n&7)){t:{if(F=t==="mouseover"||t==="pointerover",I=t==="mouseout"||t==="pointerout",F&&a!==Eg&&(ct=a.relatedTarget||a.fromElement)&&(cr(ct)||ct[Il]))break t;if((I||F)&&(F=G.window===G?G:(F=G.ownerDocument)?F.defaultView||F.parentWindow:window,I?(ct=a.relatedTarget||a.toElement,I=k,ct=ct?cr(ct):null,ct!==null&&(ge=$(ct),St=ct.tag,ct!==ge||St!==5&&St!==27&&St!==6)&&(ct=null)):(I=null,ct=k),I!==ct)){if(St=zb,V="onMouseLeave",P="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(St=Ub,V="onPointerLeave",P="onPointerEnter",O="pointer"),ge=I==null?F:zc(I),H=ct==null?F:zc(ct),F=new St(V,O+"leave",I,a,G),F.target=ge,F.relatedTarget=H,V=null,cr(G)===k&&(St=new St(P,O+"enter",ct,a,G),St.target=H,St.relatedTarget=ge,V=St),ge=V,I&&ct)e:{for(St=I,P=ct,O=0,H=St;H;H=Ao(H))O++;for(H=0,V=P;V;V=Ao(V))H++;for(;0<O-H;)St=Ao(St),O--;for(;0<H-O;)P=Ao(P),H--;for(;O--;){if(St===P||P!==null&&St===P.alternate)break e;St=Ao(St),P=Ao(P)}St=null}else St=null;I!==null&&A_(K,F,I,St,!1),ct!==null&&ge!==null&&A_(K,ge,ct,St,!0)}}t:{if(F=k?zc(k):window,I=F.nodeName&&F.nodeName.toLowerCase(),I==="select"||I==="input"&&F.type==="file")var rt=Yb;else if(Vb(F))if(Kb)rt=XT;else{rt=qT;var Dt=GT}else I=F.nodeName,!I||I.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?k&&_g(k.elementType)&&(rt=Yb):rt=VT;if(rt&&(rt=rt(t,k))){Xb(K,rt,a,G);break t}Dt&&Dt(t,F,k),t==="focusout"&&k&&F.type==="number"&&k.memoizedProps.value!=null&&Ag(F,"number",F.value)}switch(Dt=k?zc(k):window,t){case"focusin":(Vb(Dt)||Dt.contentEditable==="true")&&(Wl=Dt,Pg=k,Xc=null);break;case"focusout":Xc=Pg=Wl=null;break;case"mousedown":Hg=!0;break;case"contextmenu":case"mouseup":case"dragend":Hg=!1,iy(K,a,G);break;case"selectionchange":if(QT)break;case"keydown":case"keyup":iy(K,a,G)}var dt;if(Lg)t:{switch(t){case"compositionstart":var vt="onCompositionStart";break t;case"compositionend":vt="onCompositionEnd";break t;case"compositionupdate":vt="onCompositionUpdate";break t}vt=void 0}else $l?Gb(t,a)&&(vt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(vt="onCompositionStart");vt&&(Bb&&a.locale!=="ko"&&($l||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&$l&&(dt=Pb()):(da=G,Cg="value"in da?da.value:da.textContent,$l=!0)),Dt=kf(k,vt),0<Dt.length&&(vt=new Fb(vt,t,null,a,G),K.push({event:vt,listeners:Dt}),dt?vt.data=dt:(dt=qb(a),dt!==null&&(vt.data=dt)))),(dt=FT?UT(t,a):BT(t,a))&&(vt=kf(k,"onBeforeInput"),0<vt.length&&(Dt=new Fb("onBeforeInput","beforeinput",null,a,G),K.push({event:Dt,listeners:vt}),Dt.data=dt)),Lw(K,t,k,a,G)}b_(K,n)})}function Au(t,n,a){return{instance:t,listener:n,currentTarget:a}}function kf(t,n){for(var a=n+"Capture",l=[];t!==null;){var h=t,g=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||g===null||(h=Fc(t,a),h!=null&&l.unshift(Au(t,h,g)),h=Fc(t,n),h!=null&&l.push(Au(t,h,g))),t=t.return}return l}function Ao(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function A_(t,n,a,l,h){for(var g=n._reactName,A=[];a!==null&&a!==l;){var C=a,M=C.alternate,k=C.stateNode;if(C=C.tag,M!==null&&M===l)break;C!==5&&C!==26&&C!==27||k===null||(M=k,h?(k=Fc(a,g),k!=null&&A.unshift(Au(a,k,M))):h||(k=Fc(a,g),k!=null&&A.push(Au(a,k,M)))),a=a.return}A.length!==0&&t.push({event:n,listeners:A})}var Pw=/\r\n?/g,Hw=/\u0000|\uFFFD/g;function __(t){return(typeof t=="string"?t:""+t).replace(Pw,`
`).replace(Hw,"")}function E_(t,n){return n=__(n),__(t)===n}function Nf(){}function $t(t,n,a,l,h,g){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Yl(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Yl(t,""+l);break;case"className":jd(t,"class",l);break;case"tabIndex":jd(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":jd(t,a,l);break;case"style":Ob(t,l,g);break;case"data":if(n!=="object"){jd(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=qd(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(a==="formAction"?(n!=="input"&&$t(t,n,"name",h.name,h,null),$t(t,n,"formEncType",h.formEncType,h,null),$t(t,n,"formMethod",h.formMethod,h,null),$t(t,n,"formTarget",h.formTarget,h,null)):($t(t,n,"encType",h.encType,h,null),$t(t,n,"method",h.method,h,null),$t(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=qd(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Nf);break;case"onScroll":l!=null&&Ht("scroll",t);break;case"onScrollEnd":l!=null&&Ht("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=qd(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ht("beforetoggle",t),Ht("toggle",t),Bd(t,"popover",l);break;case"xlinkActuate":us(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":us(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":us(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":us(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":us(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":us(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":us(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":us(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":us(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Bd(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=hT.get(a)||a,Bd(t,a,l))}}function av(t,n,a,l,h,g){switch(a){case"style":Ob(t,l,g);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Yl(t,l):(typeof l=="number"||typeof l=="bigint")&&Yl(t,""+l);break;case"onScroll":l!=null&&Ht("scroll",t);break;case"onScrollEnd":l!=null&&Ht("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Nf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sb.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),g=t[vi]||null,g=g!=null?g[a]:null,typeof g=="function"&&t.removeEventListener(n,g,h),typeof l=="function")){typeof g!="function"&&g!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,h);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Bd(t,a,l)}}}function qe(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ht("error",t),Ht("load",t);var l=!1,h=!1,g;for(g in a)if(a.hasOwnProperty(g)){var A=a[g];if(A!=null)switch(g){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:$t(t,n,g,A,a,null)}}h&&$t(t,n,"srcSet",a.srcSet,a,null),l&&$t(t,n,"src",a.src,a,null);return;case"input":Ht("invalid",t);var C=g=A=h=null,M=null,k=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":h=G;break;case"type":A=G;break;case"checked":M=G;break;case"defaultChecked":k=G;break;case"value":g=G;break;case"defaultValue":C=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:$t(t,n,l,G,a,null)}}Rb(t,g,C,M,k,A,h,!1),Id(t);return;case"select":Ht("invalid",t),l=A=g=null;for(h in a)if(a.hasOwnProperty(h)&&(C=a[h],C!=null))switch(h){case"value":g=C;break;case"defaultValue":A=C;break;case"multiple":l=C;default:$t(t,n,h,C,a,null)}n=g,a=A,t.multiple=!!l,n!=null?Xl(t,!!l,n,!1):a!=null&&Xl(t,!!l,a,!0);return;case"textarea":Ht("invalid",t),g=h=l=null;for(A in a)if(a.hasOwnProperty(A)&&(C=a[A],C!=null))switch(A){case"value":l=C;break;case"defaultValue":h=C;break;case"children":g=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(s(91));break;default:$t(t,n,A,C,a,null)}Db(t,l,h,g),Id(t);return;case"option":for(M in a)if(a.hasOwnProperty(M)&&(l=a[M],l!=null))switch(M){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:$t(t,n,M,l,a,null)}return;case"dialog":Ht("cancel",t),Ht("close",t);break;case"iframe":case"object":Ht("load",t);break;case"video":case"audio":for(l=0;l<yu.length;l++)Ht(yu[l],t);break;case"image":Ht("error",t),Ht("load",t);break;case"details":Ht("toggle",t);break;case"embed":case"source":case"link":Ht("error",t),Ht("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in a)if(a.hasOwnProperty(k)&&(l=a[k],l!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:$t(t,n,k,l,a,null)}return;default:if(_g(n)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&av(t,n,G,l,a,void 0));return}}for(C in a)a.hasOwnProperty(C)&&(l=a[C],l!=null&&$t(t,n,C,l,a,null))}function zw(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,g=null,A=null,C=null,M=null,k=null,G=null;for(I in a){var K=a[I];if(a.hasOwnProperty(I)&&K!=null)switch(I){case"checked":break;case"value":break;case"defaultValue":M=K;default:l.hasOwnProperty(I)||$t(t,n,I,null,l,K)}}for(var F in l){var I=l[F];if(K=a[F],l.hasOwnProperty(F)&&(I!=null||K!=null))switch(F){case"type":g=I;break;case"name":h=I;break;case"checked":k=I;break;case"defaultChecked":G=I;break;case"value":A=I;break;case"defaultValue":C=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(s(137,n));break;default:I!==K&&$t(t,n,F,I,l,K)}}yg(t,A,C,M,k,G,g,h);return;case"select":I=A=C=F=null;for(g in a)if(M=a[g],a.hasOwnProperty(g)&&M!=null)switch(g){case"value":break;case"multiple":I=M;default:l.hasOwnProperty(g)||$t(t,n,g,null,l,M)}for(h in l)if(g=l[h],M=a[h],l.hasOwnProperty(h)&&(g!=null||M!=null))switch(h){case"value":F=g;break;case"defaultValue":C=g;break;case"multiple":A=g;default:g!==M&&$t(t,n,h,g,l,M)}n=C,a=A,l=I,F!=null?Xl(t,!!a,F,!1):!!l!=!!a&&(n!=null?Xl(t,!!a,n,!0):Xl(t,!!a,a?[]:"",!1));return;case"textarea":I=F=null;for(C in a)if(h=a[C],a.hasOwnProperty(C)&&h!=null&&!l.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:$t(t,n,C,null,l,h)}for(A in l)if(h=l[A],g=a[A],l.hasOwnProperty(A)&&(h!=null||g!=null))switch(A){case"value":F=h;break;case"defaultValue":I=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==g&&$t(t,n,A,h,l,g)}Mb(t,F,I);return;case"option":for(var ct in a)if(F=a[ct],a.hasOwnProperty(ct)&&F!=null&&!l.hasOwnProperty(ct))switch(ct){case"selected":t.selected=!1;break;default:$t(t,n,ct,null,l,F)}for(M in l)if(F=l[M],I=a[M],l.hasOwnProperty(M)&&F!==I&&(F!=null||I!=null))switch(M){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:$t(t,n,M,F,l,I)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var St in a)F=a[St],a.hasOwnProperty(St)&&F!=null&&!l.hasOwnProperty(St)&&$t(t,n,St,null,l,F);for(k in l)if(F=l[k],I=a[k],l.hasOwnProperty(k)&&F!==I&&(F!=null||I!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,n));break;default:$t(t,n,k,F,l,I)}return;default:if(_g(n)){for(var ge in a)F=a[ge],a.hasOwnProperty(ge)&&F!==void 0&&!l.hasOwnProperty(ge)&&av(t,n,ge,void 0,l,F);for(G in l)F=l[G],I=a[G],!l.hasOwnProperty(G)||F===I||F===void 0&&I===void 0||av(t,n,G,F,l,I);return}}for(var P in a)F=a[P],a.hasOwnProperty(P)&&F!=null&&!l.hasOwnProperty(P)&&$t(t,n,P,null,l,F);for(K in l)F=l[K],I=a[K],!l.hasOwnProperty(K)||F===I||F==null&&I==null||$t(t,n,K,F,l,I)}var rv=null,lv=null;function Pf(t){return t.nodeType===9?t:t.ownerDocument}function S_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function T_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function ov(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var cv=null;function Fw(){var t=window.event;return t&&t.type==="popstate"?t===cv?!1:(cv=t,!0):(cv=null,!1)}var w_=typeof setTimeout=="function"?setTimeout:void 0,Uw=typeof clearTimeout=="function"?clearTimeout:void 0,C_=typeof Promise=="function"?Promise:void 0,Bw=typeof queueMicrotask=="function"?queueMicrotask:typeof C_<"u"?function(t){return C_.resolve(null).then(t).catch(jw)}:w_;function jw(t){setTimeout(function(){throw t})}function uv(t,n){var a=n,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(l===0){t.removeChild(h),Ru(n);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=h}while(a);Ru(n)}function hv(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":hv(a),bg(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Iw(t,n,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Hc])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(g=t.getAttribute("rel"),g==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(g!==h.rel||t.getAttribute("href")!==(h.href==null?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(g=t.getAttribute("src"),(g!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&g&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var g=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===g)return t}else return t;if(t=bn(t.nextSibling),t===null)break}return null}function Gw(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=bn(t.nextSibling),t===null))return null;return t}function bn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}function x_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function R_(t,n,a){switch(n=Pf(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}var an=new Map,M_=new Set;function Hf(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var ws=tt.d;tt.d={f:qw,r:Vw,D:Xw,C:Yw,L:Kw,m:Qw,X:Ww,S:$w,M:Zw};function qw(){var t=ws.f(),n=Rf();return t||n}function Vw(t){var n=Gl(t);n!==null&&n.tag===5&&n.type==="form"?iA(n):ws.r(t)}var _o=typeof document>"u"?null:document;function D_(t,n,a){var l=_o;if(l&&typeof n=="string"&&n){var h=Ki(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),M_.has(h)||(M_.add(h),t={rel:t,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),qe(n,"link",t),Pe(n),l.head.appendChild(n)))}}function Xw(t){ws.D(t),D_("dns-prefetch",t,null)}function Yw(t,n){ws.C(t,n),D_("preconnect",t,n)}function Kw(t,n,a){ws.L(t,n,a);var l=_o;if(l&&t&&n){var h='link[rel="preload"][as="'+Ki(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Ki(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Ki(a.imageSizes)+'"]')):h+='[href="'+Ki(t)+'"]';var g=h;switch(n){case"style":g=Eo(t);break;case"script":g=So(t)}an.has(g)||(t=J({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),an.set(g,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(_u(g))||n==="script"&&l.querySelector(Eu(g))||(n=l.createElement("link"),qe(n,"link",t),Pe(n),l.head.appendChild(n)))}}function Qw(t,n){ws.m(t,n);var a=_o;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Ki(l)+'"][href="'+Ki(t)+'"]',g=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=So(t)}if(!an.has(g)&&(t=J({rel:"modulepreload",href:t},n),an.set(g,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Eu(g)))return}l=a.createElement("link"),qe(l,"link",t),Pe(l),a.head.appendChild(l)}}}function $w(t,n,a){ws.S(t,n,a);var l=_o;if(l&&t){var h=ql(l).hoistableStyles,g=Eo(t);n=n||"default";var A=h.get(g);if(!A){var C={loading:0,preload:null};if(A=l.querySelector(_u(g)))C.loading=5;else{t=J({rel:"stylesheet",href:t,"data-precedence":n},a),(a=an.get(g))&&dv(t,a);var M=A=l.createElement("link");Pe(M),qe(M,"link",t),M._p=new Promise(function(k,G){M.onload=k,M.onerror=G}),M.addEventListener("load",function(){C.loading|=1}),M.addEventListener("error",function(){C.loading|=2}),C.loading|=4,zf(A,n,l)}A={type:"stylesheet",instance:A,count:1,state:C},h.set(g,A)}}}function Ww(t,n){ws.X(t,n);var a=_o;if(a&&t){var l=ql(a).hoistableScripts,h=So(t),g=l.get(h);g||(g=a.querySelector(Eu(h)),g||(t=J({src:t,async:!0},n),(n=an.get(h))&&fv(t,n),g=a.createElement("script"),Pe(g),qe(g,"link",t),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},l.set(h,g))}}function Zw(t,n){ws.M(t,n);var a=_o;if(a&&t){var l=ql(a).hoistableScripts,h=So(t),g=l.get(h);g||(g=a.querySelector(Eu(h)),g||(t=J({src:t,async:!0,type:"module"},n),(n=an.get(h))&&fv(t,n),g=a.createElement("script"),Pe(g),qe(g,"link",t),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},l.set(h,g))}}function L_(t,n,a,l){var h=(h=Pt.current)?Hf(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Eo(a.href),a=ql(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Eo(a.href);var g=ql(h).hoistableStyles,A=g.get(t);if(A||(h=h.ownerDocument||h,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(t,A),(g=h.querySelector(_u(t)))&&!g._p&&(A.instance=g,A.state.loading=5),an.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},an.set(t,a),g||Jw(h,t,a,A.state))),n&&l===null)throw Error(s(528,""));return A}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=So(a),a=ql(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Eo(t){return'href="'+Ki(t)+'"'}function _u(t){return'link[rel="stylesheet"]['+t+"]"}function O_(t){return J({},t,{"data-precedence":t.precedence,precedence:null})}function Jw(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),qe(n,"link",a),Pe(n),t.head.appendChild(n))}function So(t){return'[src="'+Ki(t)+'"]'}function Eu(t){return"script[async]"+t}function k_(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+Ki(a.href)+'"]');if(l)return n.instance=l,Pe(l),l;var h=J({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Pe(l),qe(l,"style",h),zf(l,a.precedence,t),n.instance=l;case"stylesheet":h=Eo(a.href);var g=t.querySelector(_u(h));if(g)return n.state.loading|=4,n.instance=g,Pe(g),g;l=O_(a),(h=an.get(h))&&dv(l,h),g=(t.ownerDocument||t).createElement("link"),Pe(g);var A=g;return A._p=new Promise(function(C,M){A.onload=C,A.onerror=M}),qe(g,"link",l),n.state.loading|=4,zf(g,a.precedence,t),n.instance=g;case"script":return g=So(a.src),(h=t.querySelector(Eu(g)))?(n.instance=h,Pe(h),h):(l=a,(h=an.get(g))&&(l=J({},a),fv(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Pe(h),qe(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&!(n.state.loading&4)&&(l=n.instance,n.state.loading|=4,zf(l,a.precedence,t));return n.instance}function zf(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,g=h,A=0;A<l.length;A++){var C=l[A];if(C.dataset.precedence===n)g=C;else if(g!==h)break}g?g.parentNode.insertBefore(t,g.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function dv(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function fv(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Ff=null;function N_(t,n,a){if(Ff===null){var l=new Map,h=Ff=new Map;h.set(a,l)}else h=Ff,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var g=a[h];if(!(g[Hc]||g[ti]||t==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var A=g.getAttribute(n)||"";A=t+A;var C=l.get(A);C?C.push(g):l.set(A,[g])}}return l}function P_(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function tC(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function H_(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var Su=null;function eC(){}function iC(t,n,a){if(Su===null)throw Error(s(475));var l=Su;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var h=Eo(a.href),g=t.querySelector(_u(h));if(g){t=g._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Uf.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=g,Pe(g);return}g=t.ownerDocument||t,a=O_(a),(h=an.get(h))&&dv(a,h),g=g.createElement("link"),Pe(g);var A=g;A._p=new Promise(function(C,M){A.onload=C,A.onerror=M}),qe(g,"link",a),n.instance=g}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(l.count++,n=Uf.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function nC(){if(Su===null)throw Error(s(475));var t=Su;return t.stylesheets&&t.count===0&&pv(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&pv(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Uf(){if(this.count--,this.count===0){if(this.stylesheets)pv(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Bf=null;function pv(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Bf=new Map,n.forEach(sC,t),Bf=null,Uf.call(t))}function sC(t,n){if(!(n.state.loading&4)){var a=Bf.get(t);if(a)var l=a.get(null);else{a=new Map,Bf.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<h.length;g++){var A=h[g];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(a.set(A.dataset.precedence,A),l=A)}l&&a.set(null,l)}h=n.instance,A=h.getAttribute("data-precedence"),g=a.get(A)||l,g===l&&a.set(null,h),a.set(A,h),this.count++,l=Uf.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),g?g.parentNode.insertBefore(h,g.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Tu={$$typeof:_,Provider:null,Consumer:null,_currentValue:bt,_currentValue2:bt,_threadCount:0};function aC(t,n,a,l,h,g,A,C){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mg(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mg(0),this.hiddenUpdates=mg(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=g,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function z_(t,n,a,l,h,g,A,C,M,k,G,K){return t=new aC(t,n,a,A,C,M,k,K),n=1,g===!0&&(n|=24),g=nn(3,null,null,n),t.current=g,g.stateNode=t,n=Xg(),n.refCount++,t.pooledCache=n,n.refCount++,g.memoizedState={element:l,isDehydrated:a,cache:n},Cm(g),t}function F_(t){return t?(t=to,t):to}function U_(t,n,a,l,h,g){h=F_(h),l.context===null?l.context=h:l.pendingContext=h,l=Aa(n),l.payload={element:a},g=g===void 0?null:g,g!==null&&(l.callback=g),a=_a(t,l,n),a!==null&&(ui(a,t,n),lu(a,t,n))}function B_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function gv(t,n){B_(t,n),(t=t.alternate)&&B_(t,n)}function j_(t){if(t.tag===13){var n=fa(t,67108864);n!==null&&ui(n,t,67108864),gv(t,67108864)}}var jf=!0;function rC(t,n,a,l){var h=q.T;q.T=null;var g=tt.p;try{tt.p=2,mv(t,n,a,l)}finally{tt.p=g,q.T=h}}function lC(t,n,a,l){var h=q.T;q.T=null;var g=tt.p;try{tt.p=8,mv(t,n,a,l)}finally{tt.p=g,q.T=h}}function mv(t,n,a,l){if(jf){var h=vv(l);if(h===null)sv(t,n,l,If,a),G_(t,l);else if(cC(h,t,n,a,l))l.stopPropagation();else if(G_(t,l),n&4&&-1<oC.indexOf(t)){for(;h!==null;){var g=Gl(h);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var A=or(g.pendingLanes);if(A!==0){var C=g;for(C.pendingLanes|=2,C.entangledLanes|=2;A;){var M=1<<31-Ri(A);C.entanglements[1]|=M,A&=~M}Bn(g),!(ue&6)&&(wf=Xi()+500,bu(0))}}break;case 13:C=fa(g,2),C!==null&&ui(C,g,2),Rf(),gv(g,2)}if(g=vv(l),g===null&&sv(t,n,l,If,a),g===h)break;h=g}h!==null&&l.stopPropagation()}else sv(t,n,l,null,a)}}function vv(t){return t=Sg(t),bv(t)}var If=null;function bv(t){if(If=null,t=cr(t),t!==null){var n=$(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=Rt(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return If=t,null}function I_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gg()){case Hd:return 2;case ls:return 8;case os:case Bl:return 32;case jl:return 268435456;default:return 32}default:return 32}}var yv=!1,Ra=null,Ma=null,Da=null,wu=new Map,Cu=new Map,La=[],oC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function G_(t,n){switch(t){case"focusin":case"focusout":Ra=null;break;case"dragenter":case"dragleave":Ma=null;break;case"mouseover":case"mouseout":Da=null;break;case"pointerover":case"pointerout":wu.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cu.delete(n.pointerId)}}function xu(t,n,a,l,h,g){return t===null||t.nativeEvent!==g?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:g,targetContainers:[h]},n!==null&&(n=Gl(n),n!==null&&j_(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function cC(t,n,a,l,h){switch(n){case"focusin":return Ra=xu(Ra,t,n,a,l,h),!0;case"dragenter":return Ma=xu(Ma,t,n,a,l,h),!0;case"mouseover":return Da=xu(Da,t,n,a,l,h),!0;case"pointerover":var g=h.pointerId;return wu.set(g,xu(wu.get(g)||null,t,n,a,l,h)),!0;case"gotpointercapture":return g=h.pointerId,Cu.set(g,xu(Cu.get(g)||null,t,n,a,l,h)),!0}return!1}function q_(t){var n=cr(t.target);if(n!==null){var a=$(n);if(a!==null){if(n=a.tag,n===13){if(n=Rt(a),n!==null){t.blockedOn=n,nT(t.priority,function(){if(a.tag===13){var l=ki(),h=fa(a,l);h!==null&&ui(h,a,l),gv(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gf(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=vv(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Eg=l,a.target.dispatchEvent(l),Eg=null}else return n=Gl(a),n!==null&&j_(n),t.blockedOn=a,!1;n.shift()}return!0}function V_(t,n,a){Gf(t)&&a.delete(n)}function uC(){yv=!1,Ra!==null&&Gf(Ra)&&(Ra=null),Ma!==null&&Gf(Ma)&&(Ma=null),Da!==null&&Gf(Da)&&(Da=null),wu.forEach(V_),Cu.forEach(V_)}function qf(t,n){t.blockedOn===n&&(t.blockedOn=null,yv||(yv=!0,m.unstable_scheduleCallback(m.unstable_NormalPriority,uC)))}var Vf=null;function X_(t){Vf!==t&&(Vf=t,m.unstable_scheduleCallback(m.unstable_NormalPriority,function(){Vf===t&&(Vf=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(bv(l||a)===null)continue;break}var g=Gl(a);g!==null&&(t.splice(n,3),n-=3,om(g,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ru(t){function n(M){return qf(M,t)}Ra!==null&&qf(Ra,t),Ma!==null&&qf(Ma,t),Da!==null&&qf(Da,t),wu.forEach(n),Cu.forEach(n);for(var a=0;a<La.length;a++){var l=La[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<La.length&&(a=La[0],a.blockedOn===null);)q_(a),a.blockedOn===null&&La.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],g=a[l+1],A=h[vi]||null;if(typeof g=="function")A||X_(a);else if(A){var C=null;if(g&&g.hasAttribute("formAction")){if(h=g,A=g[vi]||null)C=A.formAction;else if(bv(h)!==null)continue}else C=A.action;typeof C=="function"?a[l+1]=C:(a.splice(l,3),l-=3),X_(a)}}}function Av(t){this._internalRoot=t}Xf.prototype.render=Av.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=ki();U_(a,l,t,n,null,null)},Xf.prototype.unmount=Av.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;t.tag===0&&bo(),U_(t.current,2,null,t,null,null),Rf(),n[Il]=null}};function Xf(t){this._internalRoot=t}Xf.prototype.unstable_scheduleHydration=function(t){if(t){var n=Ab();t={blockedOn:null,target:t,priority:n};for(var a=0;a<La.length&&n!==0&&n<La[a].priority;a++);La.splice(a,0,t),a===0&&q_(t)}};var Y_=e.version;if(Y_!=="19.0.0")throw Error(s(527,Y_,"19.0.0"));tt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=Q(n),t=t!==null?at(t):null,t=t===null?null:t.stateNode,t};var hC={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:q,findFiberByHostInstance:cr,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yf.isDisabled&&Yf.supportsFiber)try{kc=Yf.inject(hC),xi=Yf}catch{}}return Du.createRoot=function(t,n){if(!r(t))throw Error(s(299));var a=!1,l="",h=uA,g=hA,A=dA,C=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(g=n.onCaughtError),n.onRecoverableError!==void 0&&(A=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(C=n.unstable_transitionCallbacks)),n=z_(t,1,!1,null,null,a,l,h,g,A,C,null),t[Il]=n.current,nv(t.nodeType===8?t.parentNode:t),new Av(n)},Du.hydrateRoot=function(t,n,a){if(!r(t))throw Error(s(299));var l=!1,h="",g=uA,A=hA,C=dA,M=null,k=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(A=a.onCaughtError),a.onRecoverableError!==void 0&&(C=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(M=a.unstable_transitionCallbacks),a.formState!==void 0&&(k=a.formState)),n=z_(t,1,!0,n,a??null,l,h,g,A,C,M,k),n.context=F_(null),a=n.current,l=ki(),h=Aa(l),h.callback=null,_a(a,h,l),n.current.lanes=l,Pc(n,l),Bn(n),t[Il]=n.current,nv(t),new Xf(n)},Du.version="19.0.0",Du}var sE;function TC(){if(sE)return Tv.exports;sE=1;function m(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(m)}catch(e){console.error(e)}}return m(),Tv.exports=SC(),Tv.exports}var wC=TC();const CC="modulepreload",xC=function(m){return"/"+m},aE={},Kf=function(e,i,s){let r=Promise.resolve();if(i&&i.length>0){document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));r=Promise.allSettled(i.map(f=>{if(f=xC(f),f in aE)return;aE[f]=!0;const p=f.endsWith(".css"),v=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${v}`))return;const b=document.createElement("link");if(b.rel=p?"stylesheet":CC,p||(b.as="script"),b.crossOrigin="",b.href=f,d&&b.setAttribute("nonce",d),document.head.appendChild(b),p)return new Promise((y,_)=>{b.addEventListener("load",y),b.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return r.then(u=>{for(const d of u||[])d.status==="rejected"&&o(d.reason);return e().catch(o)})};var Qu={};Qu.d=(m,e)=>{for(var i in e)Qu.o(e,i)&&!Qu.o(m,i)&&Object.defineProperty(m,i,{enumerable:!0,get:e[i]})};Qu.o=(m,e)=>Object.prototype.hasOwnProperty.call(m,e);var At=globalThis.pdfjsLib={};Qu.d(At,{AbortException:()=>Fl,AnnotationEditorLayer:()=>q0,AnnotationEditorParamsType:()=>Et,AnnotationEditorType:()=>Bt,AnnotationEditorUIManager:()=>Ol,AnnotationLayer:()=>wR,AnnotationMode:()=>Ha,CMapCompressionType:()=>Hv,ColorPicker:()=>Op,DOMSVGFactory:()=>ib,DrawLayer:()=>K0,FeatureTest:()=>Ti,GlobalWorkerOptions:()=>na,ImageKind:()=>tp,InvalidPDFException:()=>zE,MissingPDFException:()=>zl,OPS:()=>An,Outliner:()=>w0,PDFDataRangeTransport:()=>OS,PDFDateString:()=>qE,PDFWorker:()=>Oo,PasswordResponses:()=>LC,PermissionFlag:()=>DC,PixelsPerInch:()=>sr,RenderingCancelledException:()=>nb,TextLayer:()=>Dp,UnexpectedResponseException:()=>ig,Util:()=>ut,VerbosityLevel:()=>Jp,XfaLayer:()=>NS,build:()=>aR,createValidAbsoluteUrl:()=>PC,fetchData:()=>lg,getDocument:()=>$x,getFilenameFromUrl:()=>VC,getPdfFilenameFromUrl:()=>XC,getXfaPageViewport:()=>YC,isDataScheme:()=>sb,isPdfFile:()=>ab,noContextMenu:()=>Ci,normalizeUnicode:()=>jC,renderTextLayer:()=>jx,setLayerDimensions:()=>Ll,shadow:()=>jt,updateTextLayer:()=>Ix,version:()=>sR});const oi=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),HE=[1,0,0,1,0,0],Pv=[.001,0,0,.001,0,0],RC=1e7,Rv=1.35,hn={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},Ha={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},MC="pdfjs_internal_editor_",Bt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Et={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},DC={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},ni={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},tp={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Re={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Lu={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Jp={ERRORS:0,WARNINGS:1,INFOS:5},Hv={NONE:0,BINARY:1},An={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},LC={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let tg=Jp.WARNINGS;function OC(m){Number.isInteger(m)&&(tg=m)}function kC(){return tg}function eg(m){tg>=Jp.INFOS&&console.log(`Info: ${m}`)}function Lt(m){tg>=Jp.WARNINGS&&console.log(`Warning: ${m}`)}function Zt(m){throw new Error(m)}function Ne(m,e){m||Zt(e)}function NC(m){switch(m==null?void 0:m.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function PC(m,e=null,i=null){if(!m)return null;try{if(i&&typeof m=="string"){if(i.addDefaultProtocol&&m.startsWith("www.")){const r=m.match(/\./g);(r==null?void 0:r.length)>=2&&(m=`http://${m}`)}if(i.tryConvertEncoding)try{m=BC(m)}catch{}}const s=e?new URL(m,e):new URL(m);if(NC(s))return s}catch{}return null}function jt(m,e,i,s=!1){return Object.defineProperty(m,e,{value:i,enumerable:!s,configurable:!0,writable:!1}),i}const lr=function(){function e(i,s){this.constructor===e&&Zt("Cannot initialize BaseException."),this.message=i,this.name=s}return e.prototype=new Error,e.constructor=e,e}();class zv extends lr{constructor(e,i){super(e,"PasswordException"),this.code=i}}class Fv extends lr{constructor(e,i){super(e,"UnknownErrorException"),this.details=i}}class zE extends lr{constructor(e){super(e,"InvalidPDFException")}}class zl extends lr{constructor(e){super(e,"MissingPDFException")}}class ig extends lr{constructor(e,i){super(e,"UnexpectedResponseException"),this.status=i}}class HC extends lr{constructor(e){super(e,"FormatError")}}class Fl extends lr{constructor(e){super(e,"AbortException")}}function FE(m){(typeof m!="object"||(m==null?void 0:m.length)===void 0)&&Zt("Invalid argument for bytesToString");const e=m.length,i=8192;if(e<i)return String.fromCharCode.apply(null,m);const s=[];for(let r=0;r<e;r+=i){const o=Math.min(r+i,e),u=m.subarray(r,o);s.push(String.fromCharCode.apply(null,u))}return s.join("")}function ng(m){typeof m!="string"&&Zt("Invalid argument for stringToBytes");const e=m.length,i=new Uint8Array(e);for(let s=0;s<e;++s)i[s]=m.charCodeAt(s)&255;return i}function zC(m){return String.fromCharCode(m>>24&255,m>>16&255,m>>8&255,m&255)}function tb(m){const e=Object.create(null);for(const[i,s]of m)e[i]=s;return e}function FC(){const m=new Uint8Array(4);return m[0]=1,new Uint32Array(m.buffer,0,1)[0]===1}function UC(){try{return new Function(""),!0}catch{return!1}}class Ti{static get isLittleEndian(){return jt(this,"isLittleEndian",FC())}static get isEvalSupported(){return jt(this,"isEvalSupported",UC())}static get isOffscreenCanvasSupported(){return jt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?jt(this,"platform",{isMac:navigator.platform.includes("Mac")}):jt(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){var e,i;return jt(this,"isCSSRoundSupported",(i=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:i.call(e,"width: round(1.5px, 1px)"))}}const Mv=Array.from(Array(256).keys(),m=>m.toString(16).padStart(2,"0"));var aa,ep,Uv;class ut{static makeHexColor(e,i,s){return`#${Mv[e]}${Mv[i]}${Mv[s]}`}static scaleMinMax(e,i){let s;e[0]?(e[0]<0&&(s=i[0],i[0]=i[2],i[2]=s),i[0]*=e[0],i[2]*=e[0],e[3]<0&&(s=i[1],i[1]=i[3],i[3]=s),i[1]*=e[3],i[3]*=e[3]):(s=i[0],i[0]=i[1],i[1]=s,s=i[2],i[2]=i[3],i[3]=s,e[1]<0&&(s=i[1],i[1]=i[3],i[3]=s),i[1]*=e[1],i[3]*=e[1],e[2]<0&&(s=i[0],i[0]=i[2],i[2]=s),i[0]*=e[2],i[2]*=e[2]),i[0]+=e[4],i[1]+=e[5],i[2]+=e[4],i[3]+=e[5]}static transform(e,i){return[e[0]*i[0]+e[2]*i[1],e[1]*i[0]+e[3]*i[1],e[0]*i[2]+e[2]*i[3],e[1]*i[2]+e[3]*i[3],e[0]*i[4]+e[2]*i[5]+e[4],e[1]*i[4]+e[3]*i[5]+e[5]]}static applyTransform(e,i){const s=e[0]*i[0]+e[1]*i[2]+i[4],r=e[0]*i[1]+e[1]*i[3]+i[5];return[s,r]}static applyInverseTransform(e,i){const s=i[0]*i[3]-i[1]*i[2],r=(e[0]*i[3]-e[1]*i[2]+i[2]*i[5]-i[4]*i[3])/s,o=(-e[0]*i[1]+e[1]*i[0]+i[4]*i[1]-i[5]*i[0])/s;return[r,o]}static getAxialAlignedBoundingBox(e,i){const s=this.applyTransform(e,i),r=this.applyTransform(e.slice(2,4),i),o=this.applyTransform([e[0],e[3]],i),u=this.applyTransform([e[2],e[1]],i);return[Math.min(s[0],r[0],o[0],u[0]),Math.min(s[1],r[1],o[1],u[1]),Math.max(s[0],r[0],o[0],u[0]),Math.max(s[1],r[1],o[1],u[1])]}static inverseTransform(e){const i=e[0]*e[3]-e[1]*e[2];return[e[3]/i,-e[1]/i,-e[2]/i,e[0]/i,(e[2]*e[5]-e[4]*e[3])/i,(e[4]*e[1]-e[5]*e[0])/i]}static singularValueDecompose2dScale(e){const i=[e[0],e[2],e[1],e[3]],s=e[0]*i[0]+e[1]*i[2],r=e[0]*i[1]+e[1]*i[3],o=e[2]*i[0]+e[3]*i[2],u=e[2]*i[1]+e[3]*i[3],d=(s+u)/2,f=Math.sqrt((s+u)**2-4*(s*u-o*r))/2,p=d+f||1,v=d-f||1;return[Math.sqrt(p),Math.sqrt(v)]}static normalizeRect(e){const i=e.slice(0);return e[0]>e[2]&&(i[0]=e[2],i[2]=e[0]),e[1]>e[3]&&(i[1]=e[3],i[3]=e[1]),i}static intersect(e,i){const s=Math.max(Math.min(e[0],e[2]),Math.min(i[0],i[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(i[0],i[2]));if(s>r)return null;const o=Math.max(Math.min(e[1],e[3]),Math.min(i[1],i[3])),u=Math.min(Math.max(e[1],e[3]),Math.max(i[1],i[3]));return o>u?null:[s,o,r,u]}static bezierBoundingBox(e,i,s,r,o,u,d,f,p){return p?(p[0]=Math.min(p[0],e,d),p[1]=Math.min(p[1],i,f),p[2]=Math.max(p[2],e,d),p[3]=Math.max(p[3],i,f)):p=[Math.min(e,d),Math.min(i,f),Math.max(e,d),Math.max(i,f)],T(this,aa,Uv).call(this,e,s,o,d,i,r,u,f,3*(-e+3*(s-o)+d),6*(e-2*s+o),3*(s-e),p),T(this,aa,Uv).call(this,e,s,o,d,i,r,u,f,3*(-i+3*(r-u)+f),6*(i-2*r+u),3*(r-i),p),p}}aa=new WeakSet,ep=function(e,i,s,r,o,u,d,f,p,v){if(p<=0||p>=1)return;const b=1-p,y=p*p,_=y*p,E=b*(b*(b*e+3*p*i)+3*y*s)+_*r,x=b*(b*(b*o+3*p*u)+3*y*d)+_*f;v[0]=Math.min(v[0],E),v[1]=Math.min(v[1],x),v[2]=Math.max(v[2],E),v[3]=Math.max(v[3],x)},Uv=function(e,i,s,r,o,u,d,f,p,v,b,y){if(Math.abs(p)<1e-12){Math.abs(v)>=1e-12&&T(this,aa,ep).call(this,e,i,s,r,o,u,d,f,-b/v,y);return}const _=v**2-4*b*p;if(_<0)return;const E=Math.sqrt(_),x=2*p;T(this,aa,ep).call(this,e,i,s,r,o,u,d,f,(-v+E)/x,y),T(this,aa,ep).call(this,e,i,s,r,o,u,d,f,(-v-E)/x,y)},w(ut,aa);function BC(m){return decodeURIComponent(escape(m))}let Dv=null,rE=null;function jC(m){return Dv||(Dv=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,rE=new Map([["","t"]])),m.replaceAll(Dv,(e,i,s)=>i?i.normalize("NFKC"):rE.get(s))}function IC(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const m=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(m);else for(let e=0;e<32;e++)m[e]=Math.floor(Math.random()*255);return FE(m)}const UE="pdfjs_internal_id_",Cs={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};class sg{constructor(){this.constructor===sg&&Zt("Cannot initialize BaseFilterFactory.")}addFilter(e){return"none"}addHCMFilter(e,i){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,i,s,r,o){return"none"}destroy(e=!1){}}var Ju;const hb=class hb{constructor({enableHWA:e=!1}={}){w(this,Ju,!1);this.constructor===hb&&Zt("Cannot initialize BaseCanvasFactory."),S(this,Ju,e)}create(e,i){if(e<=0||i<=0)throw new Error("Invalid canvas size");const s=this._createCanvas(e,i);return{canvas:s,context:s.getContext("2d",{willReadFrequently:!c(this,Ju)})}}reset(e,i,s){if(!e.canvas)throw new Error("Canvas is not specified");if(i<=0||s<=0)throw new Error("Invalid canvas size");e.canvas.width=i,e.canvas.height=s}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,i){Zt("Abstract method `_createCanvas` called.")}};Ju=new WeakMap;let Cp=hb;class ag{constructor({baseUrl:e=null,isCompressed:i=!0}){this.constructor===ag&&Zt("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=e,this.isCompressed=i}async fetch({name:e}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!e)throw new Error("CMap name must be specified.");const i=this.baseUrl+e+(this.isCompressed?".bcmap":""),s=this.isCompressed?Hv.BINARY:Hv.NONE;return this._fetchData(i,s).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${i}`)})}_fetchData(e,i){Zt("Abstract method `_fetchData` called.")}}class rg{constructor({baseUrl:e=null}){this.constructor===rg&&Zt("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!e)throw new Error("Font filename must be specified.");const i=`${this.baseUrl}${e}`;return this._fetchData(i).catch(s=>{throw new Error(`Unable to load font data at: ${i}`)})}_fetchData(e){Zt("Abstract method `_fetchData` called.")}}class eb{constructor(){this.constructor===eb&&Zt("Cannot initialize BaseSVGFactory.")}create(e,i,s=!1){if(e<=0||i<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),s||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${i}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${i}`),r}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Zt("Abstract method `_createSVG` called.")}}const Rs="http://www.w3.org/2000/svg",Nr=class Nr{};wt(Nr,"CSS",96),wt(Nr,"PDF",72),wt(Nr,"PDF_TO_CSS_UNITS",Nr.CSS/Nr.PDF);let sr=Nr;var Hr,In,ks,_i,Np,zr,lt,si,To,wo,ip,BE,Bv,Co,Nu,Pu,jv,Hu;class GC extends sg{constructor({docId:i,ownerDocument:s=globalThis.document}={}){super();w(this,lt);w(this,Hr);w(this,In);w(this,ks);w(this,_i);w(this,Np);w(this,zr,0);S(this,ks,i),S(this,_i,s)}addFilter(i){if(!i)return"none";let s=c(this,lt,si).get(i);if(s)return s;const[r,o,u]=T(this,lt,ip).call(this,i),d=i.length===1?r:`${r}${o}${u}`;if(s=c(this,lt,si).get(d),s)return c(this,lt,si).set(i,s),s;const f=`g_${c(this,ks)}_transfer_map_${Ni(this,zr)._++}`,p=`url(#${f})`;c(this,lt,si).set(i,p),c(this,lt,si).set(d,p);const v=T(this,lt,Co).call(this,f);return T(this,lt,Pu).call(this,r,o,u,v),p}addHCMFilter(i,s){var E;const r=`${i}-${s}`,o="base";let u=c(this,lt,To).get(o);if((u==null?void 0:u.key)===r||(u?((E=u.filter)==null||E.remove(),u.key=r,u.url="none",u.filter=null):(u={key:r,url:"none",filter:null},c(this,lt,To).set(o,u)),!i||!s))return u.url;const d=T(this,lt,Hu).call(this,i);i=ut.makeHexColor(...d);const f=T(this,lt,Hu).call(this,s);if(s=ut.makeHexColor(...f),c(this,lt,wo).style.color="",i==="#000000"&&s==="#ffffff"||i===s)return u.url;const p=new Array(256);for(let x=0;x<=255;x++){const D=x/255;p[x]=D<=.03928?D/12.92:((D+.055)/1.055)**2.4}const v=p.join(","),b=`g_${c(this,ks)}_hcm_filter`,y=u.filter=T(this,lt,Co).call(this,b);T(this,lt,Pu).call(this,v,v,v,y),T(this,lt,Bv).call(this,y);const _=(x,D)=>{const R=d[x]/255,N=f[x]/255,z=new Array(D+1);for(let B=0;B<=D;B++)z[B]=R+B/D*(N-R);return z.join(",")};return T(this,lt,Pu).call(this,_(0,5),_(1,5),_(2,5),y),u.url=`url(#${b})`,u.url}addAlphaFilter(i){let s=c(this,lt,si).get(i);if(s)return s;const[r]=T(this,lt,ip).call(this,[i]),o=`alpha_${r}`;if(s=c(this,lt,si).get(o),s)return c(this,lt,si).set(i,s),s;const u=`g_${c(this,ks)}_alpha_map_${Ni(this,zr)._++}`,d=`url(#${u})`;c(this,lt,si).set(i,d),c(this,lt,si).set(o,d);const f=T(this,lt,Co).call(this,u);return T(this,lt,jv).call(this,r,f),d}addLuminosityFilter(i){let s=c(this,lt,si).get(i||"luminosity");if(s)return s;let r,o;if(i?([r]=T(this,lt,ip).call(this,[i]),o=`luminosity_${r}`):o="luminosity",s=c(this,lt,si).get(o),s)return c(this,lt,si).set(i,s),s;const u=`g_${c(this,ks)}_luminosity_map_${Ni(this,zr)._++}`,d=`url(#${u})`;c(this,lt,si).set(i,d),c(this,lt,si).set(o,d);const f=T(this,lt,Co).call(this,u);return T(this,lt,BE).call(this,f),i&&T(this,lt,jv).call(this,r,f),d}addHighlightHCMFilter(i,s,r,o,u){var N;const d=`${s}-${r}-${o}-${u}`;let f=c(this,lt,To).get(i);if((f==null?void 0:f.key)===d||(f?((N=f.filter)==null||N.remove(),f.key=d,f.url="none",f.filter=null):(f={key:d,url:"none",filter:null},c(this,lt,To).set(i,f)),!s||!r))return f.url;const[p,v]=[s,r].map(T(this,lt,Hu).bind(this));let b=Math.round(.2126*p[0]+.7152*p[1]+.0722*p[2]),y=Math.round(.2126*v[0]+.7152*v[1]+.0722*v[2]),[_,E]=[o,u].map(T(this,lt,Hu).bind(this));y<b&&([b,y,_,E]=[y,b,E,_]),c(this,lt,wo).style.color="";const x=(z,B,U)=>{const j=new Array(256),W=(y-b)/U,Z=z/255,q=(B-z)/(255*U);let J=0;for(let et=0;et<=U;et++){const Tt=Math.round(b+et*W),gt=Z+et*q;for(let ht=J;ht<=Tt;ht++)j[ht]=gt;J=Tt+1}for(let et=J;et<256;et++)j[et]=j[J-1];return j.join(",")},D=`g_${c(this,ks)}_hcm_${i}_filter`,R=f.filter=T(this,lt,Co).call(this,D);return T(this,lt,Bv).call(this,R),T(this,lt,Pu).call(this,x(_[0],E[0],5),x(_[1],E[1],5),x(_[2],E[2],5),R),f.url=`url(#${D})`,f.url}destroy(i=!1){i&&c(this,lt,To).size!==0||(c(this,In)&&(c(this,In).parentNode.parentNode.remove(),S(this,In,null)),c(this,Hr)&&(c(this,Hr).clear(),S(this,Hr,null)),S(this,zr,0))}}Hr=new WeakMap,In=new WeakMap,ks=new WeakMap,_i=new WeakMap,Np=new WeakMap,zr=new WeakMap,lt=new WeakSet,si=function(){return c(this,Hr)||S(this,Hr,new Map)},To=function(){return c(this,Np)||S(this,Np,new Map)},wo=function(){if(!c(this,In)){const i=c(this,_i).createElement("div"),{style:s}=i;s.visibility="hidden",s.contain="strict",s.width=s.height=0,s.position="absolute",s.top=s.left=0,s.zIndex=-1;const r=c(this,_i).createElementNS(Rs,"svg");r.setAttribute("width",0),r.setAttribute("height",0),S(this,In,c(this,_i).createElementNS(Rs,"defs")),i.append(r),r.append(c(this,In)),c(this,_i).body.append(i)}return c(this,In)},ip=function(i){if(i.length===1){const p=i[0],v=new Array(256);for(let y=0;y<256;y++)v[y]=p[y]/255;const b=v.join(",");return[b,b,b]}const[s,r,o]=i,u=new Array(256),d=new Array(256),f=new Array(256);for(let p=0;p<256;p++)u[p]=s[p]/255,d[p]=r[p]/255,f[p]=o[p]/255;return[u.join(","),d.join(","),f.join(",")]},BE=function(i){const s=c(this,_i).createElementNS(Rs,"feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),i.append(s)},Bv=function(i){const s=c(this,_i).createElementNS(Rs,"feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),i.append(s)},Co=function(i){const s=c(this,_i).createElementNS(Rs,"filter");return s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("id",i),c(this,lt,wo).append(s),s},Nu=function(i,s,r){const o=c(this,_i).createElementNS(Rs,s);o.setAttribute("type","discrete"),o.setAttribute("tableValues",r),i.append(o)},Pu=function(i,s,r,o){const u=c(this,_i).createElementNS(Rs,"feComponentTransfer");o.append(u),T(this,lt,Nu).call(this,u,"feFuncR",i),T(this,lt,Nu).call(this,u,"feFuncG",s),T(this,lt,Nu).call(this,u,"feFuncB",r)},jv=function(i,s){const r=c(this,_i).createElementNS(Rs,"feComponentTransfer");s.append(r),T(this,lt,Nu).call(this,r,"feFuncA",i)},Hu=function(i){return c(this,lt,wo).style.color=i,rb(getComputedStyle(c(this,lt,wo)).getPropertyValue("color"))};class qC extends Cp{constructor({ownerDocument:e=globalThis.document,enableHWA:i=!1}={}){super({enableHWA:i}),this._document=e}_createCanvas(e,i){const s=this._document.createElement("canvas");return s.width=e,s.height=i,s}}async function lg(m,e="text"){if(zu(m,document.baseURI)){const i=await fetch(m);if(!i.ok)throw new Error(i.statusText);switch(e){case"arraybuffer":return i.arrayBuffer();case"blob":return i.blob();case"json":return i.json()}return i.text()}return new Promise((i,s)=>{const r=new XMLHttpRequest;r.open("GET",m,!0),r.responseType=e,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(e){case"arraybuffer":case"blob":case"json":i(r.response);return}i(r.responseText);return}s(new Error(r.statusText))}},r.send(null)})}class jE extends ag{_fetchData(e,i){return lg(e,this.isCompressed?"arraybuffer":"text").then(s=>({cMapData:s instanceof ArrayBuffer?new Uint8Array(s):ng(s),compressionType:i}))}}class IE extends rg{_fetchData(e){return lg(e,"arraybuffer").then(i=>new Uint8Array(i))}}class ib extends eb{_createSVG(e){return document.createElementNS(Rs,e)}}class Ld{constructor({viewBox:e,scale:i,rotation:s,offsetX:r=0,offsetY:o=0,dontFlip:u=!1}){this.viewBox=e,this.scale=i,this.rotation=s,this.offsetX=r,this.offsetY=o;const d=(e[2]+e[0])/2,f=(e[3]+e[1])/2;let p,v,b,y;switch(s%=360,s<0&&(s+=360),s){case 180:p=-1,v=0,b=0,y=1;break;case 90:p=0,v=1,b=1,y=0;break;case 270:p=0,v=-1,b=-1,y=0;break;case 0:p=1,v=0,b=0,y=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}u&&(b=-b,y=-y);let _,E,x,D;p===0?(_=Math.abs(f-e[1])*i+r,E=Math.abs(d-e[0])*i+o,x=(e[3]-e[1])*i,D=(e[2]-e[0])*i):(_=Math.abs(d-e[0])*i+r,E=Math.abs(f-e[1])*i+o,x=(e[2]-e[0])*i,D=(e[3]-e[1])*i),this.transform=[p*i,v*i,b*i,y*i,_-p*i*d-b*i*f,E-v*i*d-y*i*f],this.width=x,this.height=D}get rawDims(){const{viewBox:e}=this;return jt(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:i=this.rotation,offsetX:s=this.offsetX,offsetY:r=this.offsetY,dontFlip:o=!1}={}){return new Ld({viewBox:this.viewBox.slice(),scale:e,rotation:i,offsetX:s,offsetY:r,dontFlip:o})}convertToViewportPoint(e,i){return ut.applyTransform([e,i],this.transform)}convertToViewportRectangle(e){const i=ut.applyTransform([e[0],e[1]],this.transform),s=ut.applyTransform([e[2],e[3]],this.transform);return[i[0],i[1],s[0],s[1]]}convertToPdfPoint(e,i){return ut.applyInverseTransform([e,i],this.transform)}}class nb extends lr{constructor(e,i=0){super(e,"RenderingCancelledException"),this.extraDelay=i}}function sb(m){const e=m.length;let i=0;for(;i<e&&m[i].trim()==="";)i++;return m.substring(i,i+5).toLowerCase()==="data:"}function ab(m){return typeof m=="string"&&/\.pdf$/i.test(m)}function VC(m){return[m]=m.split(/[#?]/,1),m.substring(m.lastIndexOf("/")+1)}function XC(m,e="document.pdf"){if(typeof m!="string")return e;if(sb(m))return Lt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const i=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,s=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=i.exec(m);let o=s.exec(r[1])||s.exec(r[2])||s.exec(r[3]);if(o&&(o=o[0],o.includes("%")))try{o=s.exec(decodeURIComponent(o))[0]}catch{}return o||e}class lE{constructor(){wt(this,"started",Object.create(null));wt(this,"times",[])}time(e){e in this.started&&Lt(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Lt(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let i=0;for(const{name:s}of this.times)i=Math.max(s.length,i);for(const{name:s,start:r,end:o}of this.times)e.push(`${s.padEnd(i)} ${o-r}ms
`);return e.join("")}}function zu(m,e){try{const{protocol:i}=e?new URL(m,e):new URL(m);return i==="http:"||i==="https:"}catch{return!1}}function Ci(m){m.preventDefault()}function GE(m){console.log("Deprecated API usage: "+m)}let oE;class qE{static toDateObject(e){if(!e||typeof e!="string")return null;oE||(oE=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const i=oE.exec(e);if(!i)return null;const s=parseInt(i[1],10);let r=parseInt(i[2],10);r=r>=1&&r<=12?r-1:0;let o=parseInt(i[3],10);o=o>=1&&o<=31?o:1;let u=parseInt(i[4],10);u=u>=0&&u<=23?u:0;let d=parseInt(i[5],10);d=d>=0&&d<=59?d:0;let f=parseInt(i[6],10);f=f>=0&&f<=59?f:0;const p=i[7]||"Z";let v=parseInt(i[8],10);v=v>=0&&v<=23?v:0;let b=parseInt(i[9],10)||0;return b=b>=0&&b<=59?b:0,p==="-"?(u+=v,d+=b):p==="+"&&(u-=v,d-=b),new Date(Date.UTC(s,r,o,u,d,f))}}function YC(m,{scale:e=1,rotation:i=0}){const{width:s,height:r}=m.attributes.style,o=[0,0,parseInt(s),parseInt(r)];return new Ld({viewBox:o,scale:e,rotation:i})}function rb(m){if(m.startsWith("#")){const e=parseInt(m.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return m.startsWith("rgb(")?m.slice(4,-1).split(",").map(e=>parseInt(e)):m.startsWith("rgba(")?m.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Lt(`Not a valid color format: "${m}"`),[0,0,0])}function KC(m){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const i of m.keys()){e.style.color=i;const s=window.getComputedStyle(e).color;m.set(i,rb(s))}e.remove()}function de(m){const{a:e,b:i,c:s,d:r,e:o,f:u}=m.getTransform();return[e,i,s,r,o,u]}function xs(m){const{a:e,b:i,c:s,d:r,e:o,f:u}=m.getTransform().invertSelf();return[e,i,s,r,o,u]}function Ll(m,e,i=!1,s=!0){if(e instanceof Ld){const{pageWidth:r,pageHeight:o}=e.rawDims,{style:u}=m,d=Ti.isCSSRoundSupported,f=`var(--scale-factor) * ${r}px`,p=`var(--scale-factor) * ${o}px`,v=d?`round(${f}, 1px)`:`calc(${f})`,b=d?`round(${p}, 1px)`:`calc(${p})`;!i||e.rotation%180===0?(u.width=v,u.height=b):(u.width=b,u.height=v)}s&&m.setAttribute("data-main-rotation",e.rotation)}var Fr,Ur,zi,Br,Pp,VE,gi,XE,YE,np,KE,Gv;const Hp=class Hp{constructor(e){w(this,gi);w(this,Fr,null);w(this,Ur,null);w(this,zi);w(this,Br,null);S(this,zi,e)}render(){const e=S(this,Fr,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const i=c(this,zi)._uiManager._signal;e.addEventListener("contextmenu",Ci,{signal:i}),e.addEventListener("pointerdown",T(Hp,Pp,VE),{signal:i});const s=S(this,Br,document.createElement("div"));s.className="buttons",e.append(s);const r=c(this,zi).toolbarPosition;if(r){const{style:o}=e,u=c(this,zi)._uiManager.direction==="ltr"?1-r[0]:r[0];o.insetInlineEnd=`${100*u}%`,o.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return T(this,gi,KE).call(this),e}hide(){var e;c(this,Fr).classList.add("hidden"),(e=c(this,Ur))==null||e.hideDropdown()}show(){c(this,Fr).classList.remove("hidden")}addAltTextButton(e){T(this,gi,np).call(this,e),c(this,Br).prepend(e,c(this,gi,Gv))}addColorPicker(e){S(this,Ur,e);const i=e.renderButton();T(this,gi,np).call(this,i),c(this,Br).prepend(i,c(this,gi,Gv))}remove(){var e;c(this,Fr).remove(),(e=c(this,Ur))==null||e.destroy(),S(this,Ur,null)}};Fr=new WeakMap,Ur=new WeakMap,zi=new WeakMap,Br=new WeakMap,Pp=new WeakSet,VE=function(e){e.stopPropagation()},gi=new WeakSet,XE=function(e){c(this,zi)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},YE=function(e){c(this,zi)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},np=function(e){const i=c(this,zi)._uiManager._signal;e.addEventListener("focusin",T(this,gi,XE).bind(this),{capture:!0,signal:i}),e.addEventListener("focusout",T(this,gi,YE).bind(this),{capture:!0,signal:i}),e.addEventListener("contextmenu",Ci,{signal:i})},KE=function(){const e=document.createElement("button");e.className="delete",e.tabIndex=0,e.setAttribute("data-l10n-id",`pdfjs-editor-remove-${c(this,zi).editorType}-button`),T(this,gi,np).call(this,e),e.addEventListener("click",i=>{c(this,zi)._uiManager.delete()},{signal:c(this,zi)._uiManager._signal}),c(this,Br).append(e)},Gv=function(){const e=document.createElement("div");return e.className="divider",e},w(Hp,Pp);let Iv=Hp;var th,jr,Ir,ar,QE,$E,WE;class QC{constructor(e){w(this,ar);w(this,th,null);w(this,jr,null);w(this,Ir);S(this,Ir,e)}show(e,i,s){const[r,o]=T(this,ar,$E).call(this,i,s),{style:u}=c(this,jr)||S(this,jr,T(this,ar,QE).call(this));e.append(c(this,jr)),u.insetInlineEnd=`${100*r}%`,u.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){c(this,jr).remove()}}th=new WeakMap,jr=new WeakMap,Ir=new WeakMap,ar=new WeakSet,QE=function(){const e=S(this,jr,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Ci,{signal:c(this,Ir)._signal});const i=S(this,th,document.createElement("div"));return i.className="buttons",e.append(i),T(this,ar,WE).call(this),e},$E=function(e,i){let s=0,r=0;for(const o of e){const u=o.y+o.height;if(u<s)continue;const d=o.x+(i?o.width:0);if(u>s){r=d,s=u;continue}i?d>r&&(r=d):d<r&&(r=d)}return[i?1-r:r,s]},WE=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const i=document.createElement("span");e.append(i),i.className="visuallyHidden",i.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const s=c(this,Ir)._signal;e.addEventListener("contextmenu",Ci,{signal:s}),e.addEventListener("click",()=>{c(this,Ir).highlightSelection("floating_button")},{signal:s}),c(this,th).append(e)};function xp(m,e,i){for(const s of i)e.addEventListener(s,m[s].bind(m))}function $C(m){return Math.round(Math.min(255,Math.max(1,255*m))).toString(16).padStart(2,"0")}var zp;class WC{constructor(){w(this,zp,0)}get id(){return`${MC}${Ni(this,zp)._++}`}}zp=new WeakMap;var eh,Fp,ln,ih,Vv;const db=class db{constructor(){w(this,ih);w(this,eh,IC());w(this,Fp,0);w(this,ln,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',s=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=e;const o=r.decode().then(()=>(s.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(s.getImageData(0,0,1,1).data.buffer)[0]===0));return jt(this,"_isSVGFittingCanvas",o)}async getFromFile(e){const{lastModified:i,name:s,size:r,type:o}=e;return T(this,ih,Vv).call(this,`${i}_${s}_${r}_${o}`,e)}async getFromUrl(e){return T(this,ih,Vv).call(this,e,e)}async getFromId(e){c(this,ln)||S(this,ln,new Map);const i=c(this,ln).get(e);return i?i.bitmap?(i.refCounter+=1,i):i.file?this.getFromFile(i.file):this.getFromUrl(i.url):null}getSvgUrl(e){const i=c(this,ln).get(e);return i!=null&&i.isSvg?i.svgUrl:null}deleteId(e){c(this,ln)||S(this,ln,new Map);const i=c(this,ln).get(e);i&&(i.refCounter-=1,i.refCounter===0&&(i.bitmap=null))}isValidId(e){return e.startsWith(`image_${c(this,eh)}_`)}};eh=new WeakMap,Fp=new WeakMap,ln=new WeakMap,ih=new WeakSet,Vv=async function(e,i){c(this,ln)||S(this,ln,new Map);let s=c(this,ln).get(e);if(s===null)return null;if(s!=null&&s.bitmap)return s.refCounter+=1,s;try{s||(s={bitmap:null,id:`image_${c(this,eh)}_${Ni(this,Fp)._++}`,refCounter:0,isSvg:!1});let r;if(typeof i=="string"?(s.url=i,r=await lg(i,"blob")):r=s.file=i,r.type==="image/svg+xml"){const o=db._isSVGFittingCanvas,u=new FileReader,d=new Image,f=new Promise((p,v)=>{d.onload=()=>{s.bitmap=d,s.isSvg=!0,p()},u.onload=async()=>{const b=s.svgUrl=u.result;d.src=await o?`${b}#svgView(preserveAspectRatio(none))`:b},d.onerror=u.onerror=v});u.readAsDataURL(r),await f}else s.bitmap=await createImageBitmap(r);s.refCounter=1}catch(r){console.error(r),s=null}return c(this,ln).set(e,s),s&&c(this,ln).set(s.id,s),s};let qv=db;var Be,za,nh,je;class ZC{constructor(e=128){w(this,Be,[]);w(this,za,!1);w(this,nh);w(this,je,-1);S(this,nh,e)}add({cmd:e,undo:i,post:s,mustExec:r,type:o=NaN,overwriteIfSameType:u=!1,keepUndo:d=!1}){if(r&&e(),c(this,za))return;const f={cmd:e,undo:i,post:s,type:o};if(c(this,je)===-1){c(this,Be).length>0&&(c(this,Be).length=0),S(this,je,0),c(this,Be).push(f);return}if(u&&c(this,Be)[c(this,je)].type===o){d&&(f.undo=c(this,Be)[c(this,je)].undo),c(this,Be)[c(this,je)]=f;return}const p=c(this,je)+1;p===c(this,nh)?c(this,Be).splice(0,1):(S(this,je,p),p<c(this,Be).length&&c(this,Be).splice(p)),c(this,Be).push(f)}undo(){if(c(this,je)===-1)return;S(this,za,!0);const{undo:e,post:i}=c(this,Be)[c(this,je)];e(),i==null||i(),S(this,za,!1),S(this,je,c(this,je)-1)}redo(){if(c(this,je)<c(this,Be).length-1){S(this,je,c(this,je)+1),S(this,za,!0);const{cmd:e,post:i}=c(this,Be)[c(this,je)];e(),i==null||i(),S(this,za,!1)}}hasSomethingToUndo(){return c(this,je)!==-1}hasSomethingToRedo(){return c(this,je)<c(this,Be).length-1}destroy(){S(this,Be,null)}}Be=new WeakMap,za=new WeakMap,nh=new WeakMap,je=new WeakMap;var Up,ZE;class Od{constructor(e){w(this,Up);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:i}=Ti.platform;for(const[s,r,o={}]of e)for(const u of s){const d=u.startsWith("mac+");i&&d?(this.callbacks.set(u.slice(4),{callback:r,options:o}),this.allKeys.add(u.split("+").at(-1))):!i&&!d&&(this.callbacks.set(u,{callback:r,options:o}),this.allKeys.add(u.split("+").at(-1)))}}exec(e,i){if(!this.allKeys.has(i.key))return;const s=this.callbacks.get(T(this,Up,ZE).call(this,i));if(!s)return;const{callback:r,options:{bubbles:o=!1,args:u=[],checker:d=null}}=s;d&&!d(e,i)||(r.bind(e,...u,i)(),o||(i.stopPropagation(),i.preventDefault()))}}Up=new WeakSet,ZE=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const i=this.buffer.join("+");return this.buffer.length=0,i};const Bp=class Bp{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return KC(e),jt(this,"_colors",e)}convert(e){const i=rb(e);if(!window.matchMedia("(forced-colors: active)").matches)return i;for(const[s,r]of this._colors)if(r.every((o,u)=>o===i[u]))return Bp._colorsMapping.get(s);return i}getHexCode(e){const i=this._colors.get(e);return i?ut.makeHexColor(...i):e}};wt(Bp,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Xv=Bp;var Po,Fi,Me,Xe,Ho,Ns,zo,_n,Fo,Gr,Gn,En,qr,sh,ah,qn,Uo,Fa,Vn,jp,Ua,rh,Vr,lh,Bo,Ye,Yt,Ps,Xr,oh,ch,uh,hh,dh,fh,ph,gh,mh,vh,bh,yh,Ah,Ba,Xn,Hs,_h,nt,sp,JE,tS,ap,eS,iS,nS,Yv,sS,Kv,Qv,aS,hi,ka,rS,lS,$v,oS,Fu,Wv;const Do=class Do{constructor(e,i,s,r,o,u,d,f,p){w(this,nt);w(this,Po,new AbortController);w(this,Fi,null);w(this,Me,new Map);w(this,Xe,new Map);w(this,Ho,null);w(this,Ns,null);w(this,zo,null);w(this,_n,new ZC);w(this,Fo,0);w(this,Gr,new Set);w(this,Gn,null);w(this,En,null);w(this,qr,new Set);w(this,sh,!1);w(this,ah,null);w(this,qn,null);w(this,Uo,null);w(this,Fa,!1);w(this,Vn,null);w(this,jp,new WC);w(this,Ua,!1);w(this,rh,!1);w(this,Vr,null);w(this,lh,null);w(this,Bo,null);w(this,Ye,Bt.NONE);w(this,Yt,new Set);w(this,Ps,null);w(this,Xr,null);w(this,oh,null);w(this,ch,this.blur.bind(this));w(this,uh,this.focus.bind(this));w(this,hh,this.copy.bind(this));w(this,dh,this.cut.bind(this));w(this,fh,this.paste.bind(this));w(this,ph,this.keydown.bind(this));w(this,gh,this.keyup.bind(this));w(this,mh,this.onEditingAction.bind(this));w(this,vh,this.onPageChanging.bind(this));w(this,bh,this.onScaleChanging.bind(this));w(this,yh,this.onRotationChanging.bind(this));w(this,Ah,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});w(this,Ba,[0,0]);w(this,Xn,null);w(this,Hs,null);w(this,_h,null);this._signal=c(this,Po).signal,S(this,Hs,e),S(this,_h,i),S(this,Ho,s),this._eventBus=r,this._eventBus._on("editingaction",c(this,mh)),this._eventBus._on("pagechanging",c(this,vh)),this._eventBus._on("scalechanging",c(this,bh)),this._eventBus._on("rotationchanging",c(this,yh)),T(this,nt,eS).call(this),T(this,nt,aS).call(this),T(this,nt,Yv).call(this),S(this,Ns,o.annotationStorage),S(this,ah,o.filterFactory),S(this,Xr,u),S(this,Uo,d||null),S(this,sh,f),S(this,Bo,p||null),this.viewParameters={realScale:sr.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=Do.prototype,i=u=>c(u,Hs).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&u.hasSomethingToControl(),s=(u,{target:d})=>{if(d instanceof HTMLInputElement){const{type:f}=d;return f!=="text"&&f!=="number"}return!0},r=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return jt(this,"_keyboardManager",new Od([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:s}],[["ctrl+z","mac+meta+z"],e.undo,{checker:s}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:s}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:s}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(u,{target:d})=>!(d instanceof HTMLButtonElement)&&c(u,Hs).contains(d)&&!u.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(u,{target:d})=>!(d instanceof HTMLButtonElement)&&c(u,Hs).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-o,0],checker:i}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[o,0],checker:i}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-o],checker:i}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,o],checker:i}]]))}destroy(){var e,i,s;(e=c(this,Po))==null||e.abort(),S(this,Po,null),this._signal=null,this._eventBus._off("editingaction",c(this,mh)),this._eventBus._off("pagechanging",c(this,vh)),this._eventBus._off("scalechanging",c(this,bh)),this._eventBus._off("rotationchanging",c(this,yh));for(const r of c(this,Xe).values())r.destroy();c(this,Xe).clear(),c(this,Me).clear(),c(this,qr).clear(),S(this,Fi,null),c(this,Yt).clear(),c(this,_n).destroy(),(i=c(this,Ho))==null||i.destroy(),(s=c(this,Vn))==null||s.hide(),S(this,Vn,null),c(this,qn)&&(clearTimeout(c(this,qn)),S(this,qn,null)),c(this,Xn)&&(clearTimeout(c(this,Xn)),S(this,Xn,null))}async mlGuess(e){var i;return((i=c(this,Bo))==null?void 0:i.guess(e))||null}get hasMLManager(){return!!c(this,Bo)}get hcmFilter(){return jt(this,"hcmFilter",c(this,Xr)?c(this,ah).addHCMFilter(c(this,Xr).foreground,c(this,Xr).background):"none")}get direction(){return jt(this,"direction",getComputedStyle(c(this,Hs)).direction)}get highlightColors(){return jt(this,"highlightColors",c(this,Uo)?new Map(c(this,Uo).split(",").map(e=>e.split("=").map(i=>i.trim()))):null)}get highlightColorNames(){return jt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){S(this,lh,e)}editAltText(e){var i;(i=c(this,Ho))==null||i.editAltText(this,e)}onPageChanging({pageNumber:e}){S(this,Fo,e-1)}focusMainContainer(){c(this,Hs).focus()}findParent(e,i){for(const s of c(this,Xe).values()){const{x:r,y:o,width:u,height:d}=s.div.getBoundingClientRect();if(e>=r&&e<=r+u&&i>=o&&i<=o+d)return s}return null}disableUserSelect(e=!1){c(this,_h).classList.toggle("noUserSelect",e)}addShouldRescale(e){c(this,qr).add(e)}removeShouldRescale(e){c(this,qr).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*sr.PDF_TO_CSS_UNITS;for(const i of c(this,qr))i.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const i=document.getSelection();if(!i||i.isCollapsed)return;const{anchorNode:s,anchorOffset:r,focusNode:o,focusOffset:u}=i,d=i.toString(),p=T(this,nt,sp).call(this,i).closest(".textLayer"),v=this.getSelectionBoxes(p);if(v){i.empty(),c(this,Ye)===Bt.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:Bt.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const b of c(this,Xe).values())if(b.hasTextLayer(p)){b.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:v,anchorNode:s,anchorOffset:r,focusNode:o,focusOffset:u,text:d});break}}}addToAnnotationStorage(e){!e.isEmpty()&&c(this,Ns)&&!c(this,Ns).has(e.id)&&c(this,Ns).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,c(this,Fa)&&(S(this,Fa,!1),T(this,nt,ap).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const i of c(this,Yt))if(i.div.contains(e)){S(this,Vr,[i,e]),i._focusEventsAllowed=!1;break}}focus(){if(!c(this,Vr))return;const[e,i]=c(this,Vr);S(this,Vr,null),i.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),i.focus()}addEditListeners(){T(this,nt,Yv).call(this),T(this,nt,Kv).call(this)}removeEditListeners(){T(this,nt,sS).call(this),T(this,nt,Qv).call(this)}dragOver(e){for(const{type:i}of e.dataTransfer.items)for(const s of c(this,En))if(s.isHandlingMimeForPasting(i)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const i of e.dataTransfer.items)for(const s of c(this,En))if(s.isHandlingMimeForPasting(i.type)){s.paste(i,this.currentLayer),e.preventDefault();return}}copy(e){var s;if(e.preventDefault(),(s=c(this,Fi))==null||s.commitOrRemove(),!this.hasSelection)return;const i=[];for(const r of c(this,Yt)){const o=r.serialize(!0);o&&i.push(o)}i.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(i))}cut(e){this.copy(e),this.delete()}paste(e){e.preventDefault();const{clipboardData:i}=e;for(const o of i.items)for(const u of c(this,En))if(u.isHandlingMimeForPasting(o.type)){u.paste(o,this.currentLayer);return}let s=i.getData("application/pdfjs");if(!s)return;try{s=JSON.parse(s)}catch(o){Lt(`paste: "${o.message}".`);return}if(!Array.isArray(s))return;this.unselectAll();const r=this.currentLayer;try{const o=[];for(const f of s){const p=r.deserialize(f);if(!p)return;o.push(p)}const u=()=>{for(const f of o)T(this,nt,$v).call(this,f);T(this,nt,Wv).call(this,o)},d=()=>{for(const f of o)f.remove()};this.addCommands({cmd:u,undo:d,mustExec:!0})}catch(o){Lt(`paste: "${o.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),c(this,Ye)!==Bt.NONE&&!this.isEditorHandlingKeyboard&&Do._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,c(this,Fa)&&(S(this,Fa,!1),T(this,nt,ap).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(T(this,nt,iS).call(this),T(this,nt,Kv).call(this),T(this,nt,hi).call(this,{isEditing:c(this,Ye)!==Bt.NONE,isEmpty:T(this,nt,Fu).call(this),hasSomethingToUndo:c(this,_n).hasSomethingToUndo(),hasSomethingToRedo:c(this,_n).hasSomethingToRedo(),hasSelectedEditor:!1})):(T(this,nt,nS).call(this),T(this,nt,Qv).call(this),T(this,nt,hi).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!c(this,En)){S(this,En,e);for(const i of c(this,En))T(this,nt,ka).call(this,i.defaultPropertiesToUpdate)}}getId(){return c(this,jp).id}get currentLayer(){return c(this,Xe).get(c(this,Fo))}getLayer(e){return c(this,Xe).get(e)}get currentPageIndex(){return c(this,Fo)}addLayer(e){c(this,Xe).set(e.pageIndex,e),c(this,Ua)?e.enable():e.disable()}removeLayer(e){c(this,Xe).delete(e.pageIndex)}updateMode(e,i=null,s=!1){if(c(this,Ye)!==e){if(S(this,Ye,e),e===Bt.NONE){this.setEditingState(!1),T(this,nt,lS).call(this);return}this.setEditingState(!0),T(this,nt,rS).call(this),this.unselectAll();for(const r of c(this,Xe).values())r.updateMode(e);if(!i&&s){this.addNewEditorFromKeyboard();return}if(i){for(const r of c(this,Me).values())if(r.annotationElementId===i){this.setSelected(r),r.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==c(this,Ye)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,i){var s;if(c(this,En)){switch(e){case Et.CREATE:this.currentLayer.addNewEditor();return;case Et.HIGHLIGHT_DEFAULT_COLOR:(s=c(this,lh))==null||s.updateColor(i);break;case Et.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(c(this,oh)||S(this,oh,new Map)).set(e,i),this.showAllEditors("highlight",i);break}for(const r of c(this,Yt))r.updateParams(e,i);for(const r of c(this,En))r.updateDefaultParams(e,i)}}showAllEditors(e,i,s=!1){var o;for(const u of c(this,Me).values())u.editorType===e&&u.show(i);(((o=c(this,oh))==null?void 0:o.get(Et.HIGHLIGHT_SHOW_ALL))??!0)!==i&&T(this,nt,ka).call(this,[[Et.HIGHLIGHT_SHOW_ALL,i]])}enableWaiting(e=!1){if(c(this,rh)!==e){S(this,rh,e);for(const i of c(this,Xe).values())e?i.disableClick():i.enableClick(),i.div.classList.toggle("waiting",e)}}getEditors(e){const i=[];for(const s of c(this,Me).values())s.pageIndex===e&&i.push(s);return i}getEditor(e){return c(this,Me).get(e)}addEditor(e){c(this,Me).set(e.id,e)}removeEditor(e){var i;e.div.contains(document.activeElement)&&(c(this,qn)&&clearTimeout(c(this,qn)),S(this,qn,setTimeout(()=>{this.focusMainContainer(),S(this,qn,null)},0))),c(this,Me).delete(e.id),this.unselect(e),(!e.annotationElementId||!c(this,Gr).has(e.annotationElementId))&&((i=c(this,Ns))==null||i.remove(e.id))}addDeletedAnnotationElement(e){c(this,Gr).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return c(this,Gr).has(e)}removeDeletedAnnotationElement(e){c(this,Gr).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){c(this,Fi)!==e&&(S(this,Fi,e),e&&T(this,nt,ka).call(this,e.propertiesToUpdate))}updateUI(e){c(this,nt,oS)===e&&T(this,nt,ka).call(this,e.propertiesToUpdate)}toggleSelected(e){if(c(this,Yt).has(e)){c(this,Yt).delete(e),e.unselect(),T(this,nt,hi).call(this,{hasSelectedEditor:this.hasSelection});return}c(this,Yt).add(e),e.select(),T(this,nt,ka).call(this,e.propertiesToUpdate),T(this,nt,hi).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const i of c(this,Yt))i!==e&&i.unselect();c(this,Yt).clear(),c(this,Yt).add(e),e.select(),T(this,nt,ka).call(this,e.propertiesToUpdate),T(this,nt,hi).call(this,{hasSelectedEditor:!0})}isSelected(e){return c(this,Yt).has(e)}get firstSelectedEditor(){return c(this,Yt).values().next().value}unselect(e){e.unselect(),c(this,Yt).delete(e),T(this,nt,hi).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return c(this,Yt).size!==0}get isEnterHandled(){return c(this,Yt).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){c(this,_n).undo(),T(this,nt,hi).call(this,{hasSomethingToUndo:c(this,_n).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:T(this,nt,Fu).call(this)})}redo(){c(this,_n).redo(),T(this,nt,hi).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:c(this,_n).hasSomethingToRedo(),isEmpty:T(this,nt,Fu).call(this)})}addCommands(e){c(this,_n).add(e),T(this,nt,hi).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:T(this,nt,Fu).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...c(this,Yt)],i=()=>{for(const r of e)r.remove()},s=()=>{for(const r of e)T(this,nt,$v).call(this,r)};this.addCommands({cmd:i,undo:s,mustExec:!0})}commitOrRemove(){var e;(e=c(this,Fi))==null||e.commitOrRemove()}hasSomethingToControl(){return c(this,Fi)||this.hasSelection}selectAll(){for(const e of c(this,Yt))e.commit();T(this,nt,Wv).call(this,c(this,Me).values())}unselectAll(){if(!(c(this,Fi)&&(c(this,Fi).commitOrRemove(),c(this,Ye)!==Bt.NONE))&&this.hasSelection){for(const e of c(this,Yt))e.unselect();c(this,Yt).clear(),T(this,nt,hi).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,i,s=!1){if(s||this.commitOrRemove(),!this.hasSelection)return;c(this,Ba)[0]+=e,c(this,Ba)[1]+=i;const[r,o]=c(this,Ba),u=[...c(this,Yt)],d=1e3;c(this,Xn)&&clearTimeout(c(this,Xn)),S(this,Xn,setTimeout(()=>{S(this,Xn,null),c(this,Ba)[0]=c(this,Ba)[1]=0,this.addCommands({cmd:()=>{for(const f of u)c(this,Me).has(f.id)&&f.translateInPage(r,o)},undo:()=>{for(const f of u)c(this,Me).has(f.id)&&f.translateInPage(-r,-o)},mustExec:!1})},d));for(const f of u)f.translateInPage(e,i)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),S(this,Gn,new Map);for(const e of c(this,Yt))c(this,Gn).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!c(this,Gn))return!1;this.disableUserSelect(!1);const e=c(this,Gn);S(this,Gn,null);let i=!1;for(const[{x:r,y:o,pageIndex:u},d]of e)d.newX=r,d.newY=o,d.newPageIndex=u,i||(i=r!==d.savedX||o!==d.savedY||u!==d.savedPageIndex);if(!i)return!1;const s=(r,o,u,d)=>{if(c(this,Me).has(r.id)){const f=c(this,Xe).get(d);f?r._setParentAndPosition(f,o,u):(r.pageIndex=d,r.x=o,r.y=u)}};return this.addCommands({cmd:()=>{for(const[r,{newX:o,newY:u,newPageIndex:d}]of e)s(r,o,u,d)},undo:()=>{for(const[r,{savedX:o,savedY:u,savedPageIndex:d}]of e)s(r,o,u,d)},mustExec:!0}),!0}dragSelectedEditors(e,i){if(c(this,Gn))for(const s of c(this,Gn).keys())s.drag(e,i)}rebuild(e){if(e.parent===null){const i=this.getLayer(e.pageIndex);i?(i.changeParent(e),i.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||c(this,Yt).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return c(this,Fi)===e}getActive(){return c(this,Fi)}getMode(){return c(this,Ye)}get imageManager(){return jt(this,"imageManager",new qv)}getSelectionBoxes(e){if(!e)return null;const i=document.getSelection();for(let p=0,v=i.rangeCount;p<v;p++)if(!e.contains(i.getRangeAt(p).commonAncestorContainer))return null;const{x:s,y:r,width:o,height:u}=e.getBoundingClientRect();let d;switch(e.getAttribute("data-main-rotation")){case"90":d=(p,v,b,y)=>({x:(v-r)/u,y:1-(p+b-s)/o,width:y/u,height:b/o});break;case"180":d=(p,v,b,y)=>({x:1-(p+b-s)/o,y:1-(v+y-r)/u,width:b/o,height:y/u});break;case"270":d=(p,v,b,y)=>({x:1-(v+y-r)/u,y:(p-s)/o,width:y/u,height:b/o});break;default:d=(p,v,b,y)=>({x:(p-s)/o,y:(v-r)/u,width:b/o,height:y/u});break}const f=[];for(let p=0,v=i.rangeCount;p<v;p++){const b=i.getRangeAt(p);if(!b.collapsed)for(const{x:y,y:_,width:E,height:x}of b.getClientRects())E===0||x===0||f.push(d(y,_,E,x))}return f.length===0?null:f}addChangedExistingAnnotation({annotationElementId:e,id:i}){(c(this,zo)||S(this,zo,new Map)).set(e,i)}removeChangedExistingAnnotation({annotationElementId:e}){var i;(i=c(this,zo))==null||i.delete(e)}renderAnnotationElement(e){var r;const i=(r=c(this,zo))==null?void 0:r.get(e.data.id);if(!i)return;const s=c(this,Ns).getRawValue(i);s&&(c(this,Ye)===Bt.NONE&&!s.hasBeenModified||s.renderAnnotationElement(e))}};Po=new WeakMap,Fi=new WeakMap,Me=new WeakMap,Xe=new WeakMap,Ho=new WeakMap,Ns=new WeakMap,zo=new WeakMap,_n=new WeakMap,Fo=new WeakMap,Gr=new WeakMap,Gn=new WeakMap,En=new WeakMap,qr=new WeakMap,sh=new WeakMap,ah=new WeakMap,qn=new WeakMap,Uo=new WeakMap,Fa=new WeakMap,Vn=new WeakMap,jp=new WeakMap,Ua=new WeakMap,rh=new WeakMap,Vr=new WeakMap,lh=new WeakMap,Bo=new WeakMap,Ye=new WeakMap,Yt=new WeakMap,Ps=new WeakMap,Xr=new WeakMap,oh=new WeakMap,ch=new WeakMap,uh=new WeakMap,hh=new WeakMap,dh=new WeakMap,fh=new WeakMap,ph=new WeakMap,gh=new WeakMap,mh=new WeakMap,vh=new WeakMap,bh=new WeakMap,yh=new WeakMap,Ah=new WeakMap,Ba=new WeakMap,Xn=new WeakMap,Hs=new WeakMap,_h=new WeakMap,nt=new WeakSet,sp=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},JE=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const s=T(this,nt,sp).call(this,e).closest(".textLayer"),r=this.getSelectionBoxes(s);r&&(c(this,Vn)||S(this,Vn,new QC(this)),c(this,Vn).show(s,r,this.direction==="ltr"))},tS=function(){var o,u,d;const e=document.getSelection();if(!e||e.isCollapsed){c(this,Ps)&&((o=c(this,Vn))==null||o.hide(),S(this,Ps,null),T(this,nt,hi).call(this,{hasSelectedText:!1}));return}const{anchorNode:i}=e;if(i===c(this,Ps))return;if(!T(this,nt,sp).call(this,e).closest(".textLayer")){c(this,Ps)&&((u=c(this,Vn))==null||u.hide(),S(this,Ps,null),T(this,nt,hi).call(this,{hasSelectedText:!1}));return}if((d=c(this,Vn))==null||d.hide(),S(this,Ps,i),T(this,nt,hi).call(this,{hasSelectedText:!0}),!(c(this,Ye)!==Bt.HIGHLIGHT&&c(this,Ye)!==Bt.NONE)&&(c(this,Ye)===Bt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),S(this,Fa,this.isShiftKeyDown),!this.isShiftKeyDown)){const f=this._signal,p=v=>{v.type==="pointerup"&&v.button!==0||(window.removeEventListener("pointerup",p),window.removeEventListener("blur",p),v.type==="pointerup"&&T(this,nt,ap).call(this,"main_toolbar"))};window.addEventListener("pointerup",p,{signal:f}),window.addEventListener("blur",p,{signal:f})}},ap=function(e=""){c(this,Ye)===Bt.HIGHLIGHT?this.highlightSelection(e):c(this,sh)&&T(this,nt,JE).call(this)},eS=function(){document.addEventListener("selectionchange",T(this,nt,tS).bind(this),{signal:this._signal})},iS=function(){const e=this._signal;window.addEventListener("focus",c(this,uh),{signal:e}),window.addEventListener("blur",c(this,ch),{signal:e})},nS=function(){window.removeEventListener("focus",c(this,uh)),window.removeEventListener("blur",c(this,ch))},Yv=function(){const e=this._signal;window.addEventListener("keydown",c(this,ph),{signal:e}),window.addEventListener("keyup",c(this,gh),{signal:e})},sS=function(){window.removeEventListener("keydown",c(this,ph)),window.removeEventListener("keyup",c(this,gh))},Kv=function(){const e=this._signal;document.addEventListener("copy",c(this,hh),{signal:e}),document.addEventListener("cut",c(this,dh),{signal:e}),document.addEventListener("paste",c(this,fh),{signal:e})},Qv=function(){document.removeEventListener("copy",c(this,hh)),document.removeEventListener("cut",c(this,dh)),document.removeEventListener("paste",c(this,fh))},aS=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},hi=function(e){Object.entries(e).some(([s,r])=>c(this,Ah)[s]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(c(this,Ah),e)}),c(this,Ye)===Bt.HIGHLIGHT&&e.hasSelectedEditor===!1&&T(this,nt,ka).call(this,[[Et.HIGHLIGHT_FREE,!0]]))},ka=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},rS=function(){if(!c(this,Ua)){S(this,Ua,!0);for(const e of c(this,Xe).values())e.enable();for(const e of c(this,Me).values())e.enable()}},lS=function(){if(this.unselectAll(),c(this,Ua)){S(this,Ua,!1);for(const e of c(this,Xe).values())e.disable();for(const e of c(this,Me).values())e.disable()}},$v=function(e){const i=c(this,Xe).get(e.pageIndex);i?i.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},oS=function(){let e=null;for(e of c(this,Yt));return e},Fu=function(){if(c(this,Me).size===0)return!0;if(c(this,Me).size===1)for(const e of c(this,Me).values())return e.isEmpty();return!1},Wv=function(e){for(const i of c(this,Yt))i.unselect();c(this,Yt).clear();for(const i of e)i.isEmpty()||(c(this,Yt).add(i),i.select());T(this,nt,hi).call(this,{hasSelectedEditor:this.hasSelection})},wt(Do,"TRANSLATE_SMALL",1),wt(Do,"TRANSLATE_BIG",10);let Ol=Do;var zs,Fs,Sn,Us,Ui,jo,Tn,Eh,Zv;const Ms=class Ms{constructor(e){w(this,Eh);w(this,zs,"");w(this,Fs,!1);w(this,Sn,null);w(this,Us,null);w(this,Ui,null);w(this,jo,!1);w(this,Tn,null);S(this,Tn,e)}static initialize(e){Ms._l10nPromise||(Ms._l10nPromise=e)}async render(){const e=S(this,Sn,document.createElement("button"));e.className="altText";const i=await Ms._l10nPromise.get("pdfjs-editor-alt-text-button-label");e.textContent=i,e.setAttribute("aria-label",i),e.tabIndex="0";const s=c(this,Tn)._uiManager._signal;e.addEventListener("contextmenu",Ci,{signal:s}),e.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:s});const r=o=>{o.preventDefault(),c(this,Tn)._uiManager.editAltText(c(this,Tn))};return e.addEventListener("click",r,{capture:!0,signal:s}),e.addEventListener("keydown",o=>{o.target===e&&o.key==="Enter"&&(S(this,jo,!0),r(o))},{signal:s}),await T(this,Eh,Zv).call(this),e}finish(){c(this,Sn)&&(c(this,Sn).focus({focusVisible:c(this,jo)}),S(this,jo,!1))}isEmpty(){return!c(this,zs)&&!c(this,Fs)}get data(){return{altText:c(this,zs),decorative:c(this,Fs)}}set data({altText:e,decorative:i}){c(this,zs)===e&&c(this,Fs)===i||(S(this,zs,e),S(this,Fs,i),T(this,Eh,Zv).call(this))}toggle(e=!1){c(this,Sn)&&(!e&&c(this,Ui)&&(clearTimeout(c(this,Ui)),S(this,Ui,null)),c(this,Sn).disabled=!e)}destroy(){var e;(e=c(this,Sn))==null||e.remove(),S(this,Sn,null),S(this,Us,null)}};zs=new WeakMap,Fs=new WeakMap,Sn=new WeakMap,Us=new WeakMap,Ui=new WeakMap,jo=new WeakMap,Tn=new WeakMap,Eh=new WeakSet,Zv=async function(){var r;const e=c(this,Sn);if(!e)return;if(!c(this,zs)&&!c(this,Fs)){e.classList.remove("done"),(r=c(this,Us))==null||r.remove();return}e.classList.add("done"),Ms._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(o=>{e.setAttribute("aria-label",o)});let i=c(this,Us);if(!i){S(this,Us,i=document.createElement("span")),i.className="tooltip",i.setAttribute("role","tooltip");const o=i.id=`alt-text-tooltip-${c(this,Tn).id}`;e.setAttribute("aria-describedby",o);const u=100,d=c(this,Tn)._uiManager._signal;d.addEventListener("abort",()=>{clearTimeout(c(this,Ui)),S(this,Ui,null)},{once:!0}),e.addEventListener("mouseenter",()=>{S(this,Ui,setTimeout(()=>{S(this,Ui,null),c(this,Us).classList.add("show"),c(this,Tn)._reportTelemetry({action:"alt_text_tooltip"})},u))},{signal:d}),e.addEventListener("mouseleave",()=>{var f;c(this,Ui)&&(clearTimeout(c(this,Ui)),S(this,Ui,null)),(f=c(this,Us))==null||f.classList.remove("show")},{signal:d})}i.innerText=c(this,Fs)?await Ms._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):c(this,zs),i.parentNode||e.append(i);const s=c(this,Tn).getImageForAltText();s==null||s.setAttribute("aria-describedby",i.id)},wt(Ms,"_l10nPromise",null);let Rp=Ms;var Yr,wn,ai,Io,Kr,Ke,Qr,Go,qo,ri,Sh,$r,ja,Th,Wr,Bs,Yn,Vo,Xo,on,wh,Ip,kt,Jv,Ch,t0,e0,cS,uS,i0,n0,s0,hS,dS,fS,pS,a0,Uu;const ee=class ee{constructor(e){w(this,kt);w(this,Yr,null);w(this,wn,null);w(this,ai,null);w(this,Io,!1);w(this,Kr,!1);w(this,Ke,null);w(this,Qr,null);w(this,Go,this.focusin.bind(this));w(this,qo,this.focusout.bind(this));w(this,ri,null);w(this,Sh,"");w(this,$r,!1);w(this,ja,null);w(this,Th,!1);w(this,Wr,!1);w(this,Bs,!1);w(this,Yn,null);w(this,Vo,0);w(this,Xo,0);w(this,on,null);wt(this,"_initialOptions",Object.create(null));wt(this,"_isVisible",!0);wt(this,"_uiManager",null);wt(this,"_focusEventsAllowed",!0);wt(this,"_l10nPromise",null);w(this,wh,!1);w(this,Ip,ee._zIndex++);this.constructor===ee&&Zt("Cannot initialize AnnotationEditor."),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:i,rawDims:{pageWidth:s,pageHeight:r,pageX:o,pageY:u}}=this.parent.viewport;this.rotation=i,this.pageRotation=(360+i-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[s,r],this.pageTranslation=[o,u];const[d,f]=this.parentDimensions;this.x=e.x/d,this.y=e.y/f,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=ee.prototype._resizeWithKeyboard,i=Ol.TRANSLATE_SMALL,s=Ol.TRANSLATE_BIG;return jt(this,"_resizerKeyboardManager",new Od([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-i,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-s,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[i,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[s,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-i]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-s]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,i]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,s]}],[["Escape","mac+Escape"],ee.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return jt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const i=new JC({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});i.annotationElementId=e.annotationElementId,i.deleted=!0,i._uiManager.addToAnnotationStorage(i)}static initialize(e,i,s){if(ee._l10nPromise||(ee._l10nPromise=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(o=>[o,e.get(o.replaceAll(/([A-Z])/g,u=>`-${u.toLowerCase()}`))]))),s!=null&&s.strings)for(const o of s.strings)ee._l10nPromise.set(o,e.get(o));if(ee._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);ee._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,i){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,i){Zt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return c(this,wh)}set _isDraggable(e){var i;S(this,wh,e),(i=this.div)==null||i.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,i]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*i/(e*2),this.y+=this.width*e/(i*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*i/(e*2),this.y-=this.width*e/(i*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=c(this,Ip)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):T(this,kt,Uu).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(c(this,$r)?S(this,$r,!1):this.parent.setSelected(this))}focusout(e){var s;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const i=e.relatedTarget;i!=null&&i.closest(`#${this.id}`)||(e.preventDefault(),(s=this.parent)!=null&&s.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,i,s,r){const[o,u]=this.parentDimensions;[s,r]=this.screenToPageTranslation(s,r),this.x=(e+s)/o,this.y=(i+r)/u,this.fixAndSetPosition()}translate(e,i){T(this,kt,Jv).call(this,this.parentDimensions,e,i)}translateInPage(e,i){c(this,ja)||S(this,ja,[this.x,this.y]),T(this,kt,Jv).call(this,this.pageDimensions,e,i),this.div.scrollIntoView({block:"nearest"})}drag(e,i){c(this,ja)||S(this,ja,[this.x,this.y]);const[s,r]=this.parentDimensions;if(this.x+=e/s,this.y+=i/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:p,y:v}=this.div.getBoundingClientRect();this.parent.findNewParent(this,p,v)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:u}=this;const[d,f]=this.getBaseTranslation();o+=d,u+=f,this.div.style.left=`${(100*o).toFixed(2)}%`,this.div.style.top=`${(100*u).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!c(this,ja)&&(c(this,ja)[0]!==this.x||c(this,ja)[1]!==this.y)}getBaseTranslation(){const[e,i]=this.parentDimensions,{_borderLineWidth:s}=ee,r=s/e,o=s/i;switch(this.rotation){case 90:return[-r,o];case 180:return[r,o];case 270:return[r,-o];default:return[-r,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[i,s]=this.pageDimensions;let{x:r,y:o,width:u,height:d}=this;if(u*=i,d*=s,r*=i,o*=s,this._mustFixPosition)switch(e){case 0:r=Math.max(0,Math.min(i-u,r)),o=Math.max(0,Math.min(s-d,o));break;case 90:r=Math.max(0,Math.min(i-d,r)),o=Math.min(s,Math.max(u,o));break;case 180:r=Math.min(i,Math.max(u,r)),o=Math.min(s,Math.max(d,o));break;case 270:r=Math.min(i,Math.max(d,r)),o=Math.max(0,Math.min(s-u,o));break}this.x=r/=i,this.y=o/=s;const[f,p]=this.getBaseTranslation();r+=f,o+=p;const{style:v}=this.div;v.left=`${(100*r).toFixed(2)}%`,v.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,i){var s;return T(s=ee,Ch,t0).call(s,e,i,this.parentRotation)}pageTranslationToScreen(e,i){var s;return T(s=ee,Ch,t0).call(s,e,i,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[i,s]}=this,r=i*e,o=s*e;return Ti.isCSSRoundSupported?[Math.round(r),Math.round(o)]:[r,o]}setDims(e,i){const[s,r]=this.parentDimensions;this.div.style.width=`${(100*e/s).toFixed(2)}%`,c(this,Kr)||(this.div.style.height=`${(100*i/r).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:i,width:s}=e,r=s.endsWith("%"),o=!c(this,Kr)&&i.endsWith("%");if(r&&o)return;const[u,d]=this.parentDimensions;r||(e.width=`${(100*parseFloat(s)/u).toFixed(2)}%`),!c(this,Kr)&&!o&&(e.height=`${(100*parseFloat(i)/d).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=c(this,ai))==null||e.finish()}async addEditToolbar(){return c(this,ri)||c(this,Wr)?c(this,ri):(S(this,ri,new Iv(this)),this.div.append(c(this,ri).render()),c(this,ai)&&c(this,ri).addAltTextButton(await c(this,ai).render()),c(this,ri))}removeEditToolbar(){var e;c(this,ri)&&(c(this,ri).remove(),S(this,ri,null),(e=c(this,ai))==null||e.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){c(this,ai)||(Rp.initialize(ee._l10nPromise),S(this,ai,new Rp(this)),c(this,Yr)&&(c(this,ai).data=c(this,Yr),S(this,Yr,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=c(this,ai))==null?void 0:e.data}set altTextData(e){c(this,ai)&&(c(this,ai).data=e)}hasAltText(){var e;return!((e=c(this,ai))!=null&&e.isEmpty())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=c(this,Io)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground();const e=this._uiManager._signal;this.div.addEventListener("focusin",c(this,Go),{signal:e}),this.div.addEventListener("focusout",c(this,qo),{signal:e});const[i,s]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*s/i).toFixed(2)}%`,this.div.style.maxHeight=`${(100*i/s).toFixed(2)}%`);const[r,o]=this.getInitialTranslation();return this.translate(r,o),xp(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:i}=Ti.platform;if(e.button!==0||e.ctrlKey&&i){e.preventDefault();return}if(S(this,$r,!0),this._isDraggable){T(this,kt,hS).call(this,e);return}T(this,kt,s0).call(this,e)}moveInDOM(){c(this,Yn)&&clearTimeout(c(this,Yn)),S(this,Yn,setTimeout(()=>{var e;S(this,Yn,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,i,s){e.changeParent(this),this.x=i,this.y=s,this.fixAndSetPosition()}getRect(e,i,s=this.rotation){const r=this.parentScale,[o,u]=this.pageDimensions,[d,f]=this.pageTranslation,p=e/r,v=i/r,b=this.x*o,y=this.y*u,_=this.width*o,E=this.height*u;switch(s){case 0:return[b+p+d,u-y-v-E+f,b+p+_+d,u-y-v+f];case 90:return[b+v+d,u-y+p+f,b+v+E+d,u-y+p+_+f];case 180:return[b-p-_+d,u-y+v+f,b-p+d,u-y+v+E+f];case 270:return[b-v-E+d,u-y-p-_+f,b-v+d,u-y-p+f];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,i){const[s,r,o,u]=e,d=o-s,f=u-r;switch(this.rotation){case 0:return[s,i-u,d,f];case 90:return[s,i-r,f,d];case 180:return[o,i-r,d,f];case 270:return[o,i-u,f,d];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){S(this,Wr,!0)}disableEditMode(){S(this,Wr,!1)}isInEditMode(){return c(this,Wr)}shouldGetKeyboardEvents(){return c(this,Bs)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var i,s;const e=this._uiManager._signal;(i=this.div)==null||i.addEventListener("focusin",c(this,Go),{signal:e}),(s=this.div)==null||s.addEventListener("focusout",c(this,qo),{signal:e})}rotate(e){}serialize(e=!1,i=null){Zt("An editor must be serializable")}static deserialize(e,i,s){const r=new this.prototype.constructor({parent:i,id:i.getNextId(),uiManager:s});r.rotation=e.rotation,S(r,Yr,e.accessibilityData);const[o,u]=r.pageDimensions,[d,f,p,v]=r.getRectInCurrentCoords(e.rect,u);return r.x=d/o,r.y=f/u,r.width=p/o,r.height=v/u,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.div.removeEventListener("focusin",c(this,Go)),this.div.removeEventListener("focusout",c(this,qo)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),c(this,Yn)&&(clearTimeout(c(this,Yn)),S(this,Yn,null)),T(this,kt,Uu).call(this),this.removeEditToolbar(),c(this,on)){for(const e of c(this,on).values())clearTimeout(e);S(this,on,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(T(this,kt,cS).call(this),c(this,Ke).classList.remove("hidden"),xp(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),S(this,Qr,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const i=c(this,Ke).children;if(!c(this,wn)){S(this,wn,Array.from(i));const u=T(this,kt,dS).bind(this),d=T(this,kt,fS).bind(this),f=this._uiManager._signal;for(const p of c(this,wn)){const v=p.getAttribute("data-resizer-name");p.setAttribute("role","spinbutton"),p.addEventListener("keydown",u,{signal:f}),p.addEventListener("blur",d,{signal:f}),p.addEventListener("focus",T(this,kt,pS).bind(this,v),{signal:f}),ee._l10nPromise.get(`pdfjs-editor-resizer-label-${v}`).then(b=>p.setAttribute("aria-label",b))}}const s=c(this,wn)[0];let r=0;for(const u of i){if(u===s)break;r++}const o=(360-this.rotation+this.parentRotation)%360/90*(c(this,wn).length/4);if(o!==r){if(o<r)for(let d=0;d<r-o;d++)c(this,Ke).append(c(this,Ke).firstChild);else if(o>r)for(let d=0;d<o-r;d++)c(this,Ke).firstChild.before(c(this,Ke).lastChild);let u=0;for(const d of i){const p=c(this,wn)[u++].getAttribute("data-resizer-name");ee._l10nPromise.get(`pdfjs-editor-resizer-label-${p}`).then(v=>d.setAttribute("aria-label",v))}}T(this,kt,a0).call(this,0),S(this,Bs,!0),c(this,Ke).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,i){c(this,Bs)&&T(this,kt,n0).call(this,c(this,Sh),{movementX:e,movementY:i})}_stopResizingWithKeyboard(){T(this,kt,Uu).call(this),this.div.focus()}select(){var e,i;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!c(this,ri)){this.addEditToolbar().then(()=>{var s,r;(s=this.div)!=null&&s.classList.contains("selectedEditor")&&((r=c(this,ri))==null||r.show())});return}(i=c(this,ri))==null||i.show()}unselect(){var e,i,s,r;(e=c(this,Ke))==null||e.classList.add("hidden"),(i=this.div)==null||i.classList.remove("selectedEditor"),(s=this.div)!=null&&s.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=c(this,ri))==null||r.hide()}updateParams(e,i){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return c(this,Th)}set isEditing(e){S(this,Th,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,i){S(this,Kr,!0);const s=e/i,{style:r}=this.div;r.aspectRatio=s,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,i=!1){if(i){c(this,on)||S(this,on,new Map);const{action:s}=e;let r=c(this,on).get(s);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(e),c(this,on).delete(s),c(this,on).size===0&&S(this,on,null)},ee._telemetryTimeout),c(this,on).set(s,r);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),S(this,Io,!1)}disable(){this.div&&(this.div.tabIndex=-1),S(this,Io,!0)}renderAnnotationElement(e){let i=e.container.querySelector(".annotationContent");if(!i)i=document.createElement("div"),i.classList.add("annotationContent",this.editorType),e.container.prepend(i);else if(i.nodeName==="CANVAS"){const s=i;i=document.createElement("div"),i.classList.add("annotationContent",this.editorType),s.before(i)}return i}resetAnnotationElement(e){const{firstChild:i}=e.container;i.nodeName==="DIV"&&i.classList.contains("annotationContent")&&i.remove()}};Yr=new WeakMap,wn=new WeakMap,ai=new WeakMap,Io=new WeakMap,Kr=new WeakMap,Ke=new WeakMap,Qr=new WeakMap,Go=new WeakMap,qo=new WeakMap,ri=new WeakMap,Sh=new WeakMap,$r=new WeakMap,ja=new WeakMap,Th=new WeakMap,Wr=new WeakMap,Bs=new WeakMap,Yn=new WeakMap,Vo=new WeakMap,Xo=new WeakMap,on=new WeakMap,wh=new WeakMap,Ip=new WeakMap,kt=new WeakSet,Jv=function([e,i],s,r){[s,r]=this.screenToPageTranslation(s,r),this.x+=s/e,this.y+=r/i,this.fixAndSetPosition()},Ch=new WeakSet,t0=function(e,i,s){switch(s){case 90:return[i,-e];case 180:return[-e,-i];case 270:return[-i,e];default:return[e,i]}},e0=function(e){switch(e){case 90:{const[i,s]=this.pageDimensions;return[0,-i/s,s/i,0]}case 180:return[-1,0,0,-1];case 270:{const[i,s]=this.pageDimensions;return[0,i/s,-s/i,0]}default:return[1,0,0,1]}},cS=function(){if(c(this,Ke))return;S(this,Ke,document.createElement("div")),c(this,Ke).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],i=this._uiManager._signal;for(const s of e){const r=document.createElement("div");c(this,Ke).append(r),r.classList.add("resizer",s),r.setAttribute("data-resizer-name",s),r.addEventListener("pointerdown",T(this,kt,uS).bind(this,s),{signal:i}),r.addEventListener("contextmenu",Ci,{signal:i}),r.tabIndex=-1}this.div.prepend(c(this,Ke))},uS=function(e,i){var x;i.preventDefault();const{isMac:s}=Ti.platform;if(i.button!==0||i.ctrlKey&&s)return;(x=c(this,ai))==null||x.toggle(!1);const r=T(this,kt,n0).bind(this,e),o=this._isDraggable;this._isDraggable=!1;const u=this._uiManager._signal,d={passive:!0,capture:!0,signal:u};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",r,d),window.addEventListener("contextmenu",Ci,{signal:u});const f=this.x,p=this.y,v=this.width,b=this.height,y=this.parent.div.style.cursor,_=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(i.target).cursor;const E=()=>{var D;this.parent.togglePointerEvents(!0),(D=c(this,ai))==null||D.toggle(!0),this._isDraggable=o,window.removeEventListener("pointerup",E),window.removeEventListener("blur",E),window.removeEventListener("pointermove",r,d),window.removeEventListener("contextmenu",Ci),this.parent.div.style.cursor=y,this.div.style.cursor=_,T(this,kt,i0).call(this,f,p,v,b)};window.addEventListener("pointerup",E,{signal:u}),window.addEventListener("blur",E,{signal:u})},i0=function(e,i,s,r){const o=this.x,u=this.y,d=this.width,f=this.height;o===e&&u===i&&d===s&&f===r||this.addCommands({cmd:()=>{this.width=d,this.height=f,this.x=o,this.y=u;const[p,v]=this.parentDimensions;this.setDims(p*d,v*f),this.fixAndSetPosition()},undo:()=>{this.width=s,this.height=r,this.x=e,this.y=i;const[p,v]=this.parentDimensions;this.setDims(p*s,v*r),this.fixAndSetPosition()},mustExec:!0})},n0=function(e,i){const[s,r]=this.parentDimensions,o=this.x,u=this.y,d=this.width,f=this.height,p=ee.MIN_SIZE/s,v=ee.MIN_SIZE/r,b=X=>Math.round(X*1e4)/1e4,y=T(this,kt,e0).call(this,this.rotation),_=(X,$)=>[y[0]*X+y[2]*$,y[1]*X+y[3]*$],E=T(this,kt,e0).call(this,360-this.rotation),x=(X,$)=>[E[0]*X+E[2]*$,E[1]*X+E[3]*$];let D,R,N=!1,z=!1;switch(e){case"topLeft":N=!0,D=(X,$)=>[0,0],R=(X,$)=>[X,$];break;case"topMiddle":D=(X,$)=>[X/2,0],R=(X,$)=>[X/2,$];break;case"topRight":N=!0,D=(X,$)=>[X,0],R=(X,$)=>[0,$];break;case"middleRight":z=!0,D=(X,$)=>[X,$/2],R=(X,$)=>[0,$/2];break;case"bottomRight":N=!0,D=(X,$)=>[X,$],R=(X,$)=>[0,0];break;case"bottomMiddle":D=(X,$)=>[X/2,$],R=(X,$)=>[X/2,0];break;case"bottomLeft":N=!0,D=(X,$)=>[0,$],R=(X,$)=>[X,0];break;case"middleLeft":z=!0,D=(X,$)=>[0,$/2],R=(X,$)=>[X,$/2];break}const B=D(d,f),U=R(d,f);let j=_(...U);const W=b(o+j[0]),Z=b(u+j[1]);let q=1,J=1,[et,Tt]=this.screenToPageTranslation(i.movementX,i.movementY);if([et,Tt]=x(et/s,Tt/r),N){const X=Math.hypot(d,f);q=J=Math.max(Math.min(Math.hypot(U[0]-B[0]-et,U[1]-B[1]-Tt)/X,1/d,1/f),p/d,v/f)}else z?q=Math.max(p,Math.min(1,Math.abs(U[0]-B[0]-et)))/d:J=Math.max(v,Math.min(1,Math.abs(U[1]-B[1]-Tt)))/f;const gt=b(d*q),ht=b(f*J);j=_(...R(gt,ht));const mt=W-j[0],Y=Z-j[1];this.width=gt,this.height=ht,this.x=mt,this.y=Y,this.setDims(s*gt,r*ht),this.fixAndSetPosition()},s0=function(e){const{isMac:i}=Ti.platform;e.ctrlKey&&!i||e.shiftKey||e.metaKey&&i?this.parent.toggleSelected(this):this.parent.setSelected(this)},hS=function(e){const i=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let s,r;const o=this._uiManager._signal;i&&(this.div.classList.add("moving"),s={passive:!0,capture:!0,signal:o},S(this,Vo,e.clientX),S(this,Xo,e.clientY),r=d=>{const{clientX:f,clientY:p}=d,[v,b]=this.screenToPageTranslation(f-c(this,Vo),p-c(this,Xo));S(this,Vo,f),S(this,Xo,p),this._uiManager.dragSelectedEditors(v,b)},window.addEventListener("pointermove",r,s));const u=()=>{window.removeEventListener("pointerup",u),window.removeEventListener("blur",u),i&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",r,s)),S(this,$r,!1),this._uiManager.endDragSession()||T(this,kt,s0).call(this,e)};window.addEventListener("pointerup",u,{signal:o}),window.addEventListener("blur",u,{signal:o})},dS=function(e){ee._resizerKeyboardManager.exec(this,e)},fS=function(e){var i;c(this,Bs)&&((i=e.relatedTarget)==null?void 0:i.parentNode)!==c(this,Ke)&&T(this,kt,Uu).call(this)},pS=function(e){S(this,Sh,c(this,Bs)?e:"")},a0=function(e){if(c(this,wn))for(const i of c(this,wn))i.tabIndex=e},Uu=function(){if(S(this,Bs,!1),T(this,kt,a0).call(this,-1),c(this,Qr)){const{savedX:e,savedY:i,savedWidth:s,savedHeight:r}=c(this,Qr);T(this,kt,i0).call(this,e,i,s,r),S(this,Qr,null)}},w(ee,Ch),wt(ee,"_borderLineWidth",-1),wt(ee,"_colorManager",new Xv),wt(ee,"_zIndex",1),wt(ee,"_telemetryTimeout",1e3);let Kt=ee;class JC extends Kt{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const cE=3285377520,rn=4294901760,jn=65535;class gS{constructor(e){this.h1=e?e&4294967295:cE,this.h2=e?e&4294967295:cE}update(e){let i,s;if(typeof e=="string"){i=new Uint8Array(e.length*2),s=0;for(let x=0,D=e.length;x<D;x++){const R=e.charCodeAt(x);R<=255?i[s++]=R:(i[s++]=R>>>8,i[s++]=R&255)}}else if(ArrayBuffer.isView(e))i=e.slice(),s=i.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=s>>2,o=s-r*4,u=new Uint32Array(i.buffer,0,r);let d=0,f=0,p=this.h1,v=this.h2;const b=3432918353,y=461845907,_=b&jn,E=y&jn;for(let x=0;x<r;x++)x&1?(d=u[x],d=d*b&rn|d*_&jn,d=d<<15|d>>>17,d=d*y&rn|d*E&jn,p^=d,p=p<<13|p>>>19,p=p*5+3864292196):(f=u[x],f=f*b&rn|f*_&jn,f=f<<15|f>>>17,f=f*y&rn|f*E&jn,v^=f,v=v<<13|v>>>19,v=v*5+3864292196);switch(d=0,o){case 3:d^=i[r*4+2]<<16;case 2:d^=i[r*4+1]<<8;case 1:d^=i[r*4],d=d*b&rn|d*_&jn,d=d<<15|d>>>17,d=d*y&rn|d*E&jn,r&1?p^=d:v^=d}this.h1=p,this.h2=v}hexdigest(){let e=this.h1,i=this.h2;return e^=i>>>1,e=e*3981806797&rn|e*36045&jn,i=i*4283543511&rn|((i<<16|e>>>16)*2950163797&rn)>>>16,e^=i>>>1,e=e*444984403&rn|e*60499&jn,i=i*3301882366&rn|((i<<16|e>>>16)*3120437893&rn)>>>16,e^=i>>>1,(e>>>0).toString(16).padStart(8,"0")+(i>>>0).toString(16).padStart(8,"0")}}const r0=Object.freeze({map:null,hash:"",transfer:void 0});var Zr,Qe,Gp,mS;class lb{constructor(){w(this,Gp);w(this,Zr,!1);w(this,Qe,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,i){const s=c(this,Qe).get(e);return s===void 0?i:Object.assign(i,s)}getRawValue(e){return c(this,Qe).get(e)}remove(e){if(c(this,Qe).delete(e),c(this,Qe).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const i of c(this,Qe).values())if(i instanceof Kt)return;this.onAnnotationEditor(null)}}setValue(e,i){const s=c(this,Qe).get(e);let r=!1;if(s!==void 0)for(const[o,u]of Object.entries(i))s[o]!==u&&(r=!0,s[o]=u);else r=!0,c(this,Qe).set(e,i);r&&T(this,Gp,mS).call(this),i instanceof Kt&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(i.constructor._type)}has(e){return c(this,Qe).has(e)}getAll(){return c(this,Qe).size>0?tb(c(this,Qe)):null}setAll(e){for(const[i,s]of Object.entries(e))this.setValue(i,s)}get size(){return c(this,Qe).size}resetModified(){c(this,Zr)&&(S(this,Zr,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new vS(this)}get serializable(){if(c(this,Qe).size===0)return r0;const e=new Map,i=new gS,s=[],r=Object.create(null);let o=!1;for(const[u,d]of c(this,Qe)){const f=d instanceof Kt?d.serialize(!1,r):d;f&&(e.set(u,f),i.update(`${u}:${JSON.stringify(f)}`),o||(o=!!f.bitmap))}if(o)for(const u of e.values())u.bitmap&&s.push(u.bitmap);return e.size>0?{map:e,hash:i.hexdigest(),transfer:s}:r0}get editorStats(){let e=null;const i=new Map;for(const s of c(this,Qe).values()){if(!(s instanceof Kt))continue;const r=s.telemetryFinalData;if(!r)continue;const{type:o}=r;i.has(o)||i.set(o,Object.getPrototypeOf(s).constructor),e||(e=Object.create(null));const u=e[o]||(e[o]=new Map);for(const[d,f]of Object.entries(r)){if(d==="type")continue;let p=u.get(d);p||(p=new Map,u.set(d,p));const v=p.get(f)??0;p.set(f,v+1)}}for(const[s,r]of i)e[s]=r.computeTelemetryFinalData(e[s]);return e}}Zr=new WeakMap,Qe=new WeakMap,Gp=new WeakSet,mS=function(){c(this,Zr)||(S(this,Zr,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var xh;class vS extends lb{constructor(i){super();w(this,xh);const{map:s,hash:r,transfer:o}=i.serializable,u=structuredClone(s,o?{transfer:o}:null);S(this,xh,{map:u,hash:r,transfer:o})}get print(){Zt("Should not call PrintAnnotationStorage.print")}get serializable(){return c(this,xh)}}xh=new WeakMap;var Yo;class tx{constructor({ownerDocument:e=globalThis.document,styleElement:i=null}){w(this,Yo,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const i=this.styleElement.sheet;i.insertRule(e,i.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),c(this,Yo).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:i}){if(!(!e||c(this,Yo).has(e.loadedName))){if(Ne(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:s,src:r,style:o}=e,u=new FontFace(s,r,o);this.addNativeFontFace(u);try{await u.load(),c(this,Yo).add(s),i==null||i(e)}catch{Lt(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(u)}return}Zt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const s=e.createNativeFontFace();if(s){this.addNativeFontFace(s);try{await s.loaded}catch(r){throw Lt(`Failed to load font '${s.family}': '${r}'.`),e.disableFontFace=!0,r}}return}const i=e.createFontFaceRule();if(i){if(this.insertRule(i),this.isSyncFontLoadingSupported)return;await new Promise(s=>{const r=this._queueLoadingCallback(s);this._prepareFontLoadEvent(e,r)})}}get isFontLoadingAPISupported(){var i;const e=!!((i=this._document)!=null&&i.fonts);return jt(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(oi||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),jt(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function i(){for(Ne(!r.done,"completeRequest() cannot be called twice."),r.done=!0;s.length>0&&s[0].done;){const o=s.shift();setTimeout(o.callback,0)}}const{loadingRequests:s}=this,r={done:!1,complete:i,callback:e};return s.push(r),r}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return jt(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,i){function s(B,U){return B.charCodeAt(U)<<24|B.charCodeAt(U+1)<<16|B.charCodeAt(U+2)<<8|B.charCodeAt(U+3)&255}function r(B,U,j,W){const Z=B.substring(0,U),q=B.substring(U+j);return Z+W+q}let o,u;const d=this._document.createElement("canvas");d.width=1,d.height=1;const f=d.getContext("2d");let p=0;function v(B,U){if(++p>30){Lt("Load test font never loaded."),U();return}if(f.font="30px "+B,f.fillText(".",0,20),f.getImageData(0,0,1,1).data[3]>0){U();return}setTimeout(v.bind(null,B,U))}const b=`lt${Date.now()}${this.loadTestFontId++}`;let y=this._loadTestFont;y=r(y,976,b.length,b);const E=16,x=1482184792;let D=s(y,E);for(o=0,u=b.length-3;o<u;o+=4)D=D-x+s(b,o)|0;o<b.length&&(D=D-x+s(b+"XXX",o)|0),y=r(y,E,4,zC(D));const R=`url(data:font/opentype;base64,${btoa(y)});`,N=`@font-face {font-family:"${b}";src:${R}}`;this.insertRule(N);const z=this._document.createElement("div");z.style.visibility="hidden",z.style.width=z.style.height="10px",z.style.position="absolute",z.style.top=z.style.left="0px";for(const B of[e.loadedName,b]){const U=this._document.createElement("span");U.textContent="Hi",U.style.fontFamily=B,z.append(U)}this._document.body.append(z),v(b,()=>{z.remove(),i.complete()})}}Yo=new WeakMap;class ex{constructor(e,{disableFontFace:i=!1,inspectFont:s=null}){this.compiledGlyphs=Object.create(null);for(const r in e)this[r]=e[r];this.disableFontFace=i===!0,this._inspectFont=s}createNativeFontFace(){var i;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const s={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(s.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,s)}return(i=this._inspectFont)==null||i.call(this,this),e}createFontFaceRule(){var r;if(!this.data||this.disableFontFace)return null;const e=FE(this.data),i=`url(data:${this.mimetype};base64,${btoa(e)});`;let s;if(!this.cssFontInfo)s=`@font-face {font-family:"${this.loadedName}";src:${i}}`;else{let o=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(o+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),s=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${o}src:${i}}`}return(r=this._inspectFont)==null||r.call(this,this,i),s}getPathGenerator(e,i){if(this.compiledGlyphs[i]!==void 0)return this.compiledGlyphs[i];let s;try{s=e.get(this.loadedName+"_path_"+i)}catch(o){Lt(`getPathGenerator - ignoring character: "${o}".`)}if(!Array.isArray(s)||s.length===0)return this.compiledGlyphs[i]=function(o,u){};const r=[];for(let o=0,u=s.length;o<u;)switch(s[o++]){case Cs.BEZIER_CURVE_TO:{const[d,f,p,v,b,y]=s.slice(o,o+6);r.push(_=>_.bezierCurveTo(d,f,p,v,b,y)),o+=6}break;case Cs.MOVE_TO:{const[d,f]=s.slice(o,o+2);r.push(p=>p.moveTo(d,f)),o+=2}break;case Cs.LINE_TO:{const[d,f]=s.slice(o,o+2);r.push(p=>p.lineTo(d,f)),o+=2}break;case Cs.QUADRATIC_CURVE_TO:{const[d,f,p,v]=s.slice(o,o+4);r.push(b=>b.quadraticCurveTo(d,f,p,v)),o+=4}break;case Cs.RESTORE:r.push(d=>d.restore());break;case Cs.SAVE:r.push(d=>d.save());break;case Cs.SCALE:Ne(r.length===2,"Scale command is only valid at the third position.");break;case Cs.TRANSFORM:{const[d,f,p,v,b,y]=s.slice(o,o+6);r.push(_=>_.transform(d,f,p,v,b,y)),o+=6}break;case Cs.TRANSLATE:{const[d,f]=s.slice(o,o+2);r.push(p=>p.translate(d,f)),o+=2}break}return this.compiledGlyphs[i]=function(u,d){r[0](u),r[1](u),u.scale(d,-d);for(let f=2,p=r.length;f<p;f++)r[f](u)}}}if(oi){var l0=Promise.withResolvers(),$u=null;(async()=>{const e=await Kf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),i=await Kf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),s=await Kf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await Kf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let o,u;return new Map(Object.entries({fs:e,http:i,https:s,url:r,canvas:o,path2d:u}))})().then(e=>{$u=e,l0.resolve()},e=>{Lt(`loadPackages: ${e}`),$u=new Map,l0.resolve()})}class rs{static get promise(){return l0.promise}static get(e){return $u==null?void 0:$u.get(e)}}const bS=function(m){return rs.get("fs").promises.readFile(m).then(i=>new Uint8Array(i))};class ix extends sg{}class nx extends Cp{_createCanvas(e,i){return rs.get("canvas").createCanvas(e,i)}}class sx extends ag{_fetchData(e,i){return bS(e).then(s=>({cMapData:s,compressionType:i}))}}class ax extends rg{_fetchData(e){return bS(e)}}const pi={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function o0(m,e){if(!e)return;const i=e[2]-e[0],s=e[3]-e[1],r=new Path2D;r.rect(e[0],e[1],i,s),m.clip(r)}class kd{constructor(){this.constructor===kd&&Zt("Cannot initialize BaseShadingPattern.")}getPattern(){Zt("Abstract method `getPattern` called.")}}class rx extends kd{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let i;this._type==="axial"?i=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(i=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const s of this._colorStops)i.addColorStop(s[0],s[1]);return i}getPattern(e,i,s,r){let o;if(r===pi.STROKE||r===pi.FILL){const u=i.current.getClippedPathBoundingBox(r,de(e))||[0,0,0,0],d=Math.ceil(u[2]-u[0])||1,f=Math.ceil(u[3]-u[1])||1,p=i.cachedCanvases.getCanvas("pattern",d,f,!0),v=p.context;v.clearRect(0,0,v.canvas.width,v.canvas.height),v.beginPath(),v.rect(0,0,v.canvas.width,v.canvas.height),v.translate(-u[0],-u[1]),s=ut.transform(s,[1,0,0,1,u[0],u[1]]),v.transform(...i.baseTransform),this.matrix&&v.transform(...this.matrix),o0(v,this._bbox),v.fillStyle=this._createGradient(v),v.fill(),o=e.createPattern(p.canvas,"no-repeat");const b=new DOMMatrix(s);o.setTransform(b)}else o0(e,this._bbox),o=this._createGradient(e);return o}}function Lv(m,e,i,s,r,o,u,d){const f=e.coords,p=e.colors,v=m.data,b=m.width*4;let y;f[i+1]>f[s+1]&&(y=i,i=s,s=y,y=o,o=u,u=y),f[s+1]>f[r+1]&&(y=s,s=r,r=y,y=u,u=d,d=y),f[i+1]>f[s+1]&&(y=i,i=s,s=y,y=o,o=u,u=y);const _=(f[i]+e.offsetX)*e.scaleX,E=(f[i+1]+e.offsetY)*e.scaleY,x=(f[s]+e.offsetX)*e.scaleX,D=(f[s+1]+e.offsetY)*e.scaleY,R=(f[r]+e.offsetX)*e.scaleX,N=(f[r+1]+e.offsetY)*e.scaleY;if(E>=N)return;const z=p[o],B=p[o+1],U=p[o+2],j=p[u],W=p[u+1],Z=p[u+2],q=p[d],J=p[d+1],et=p[d+2],Tt=Math.round(E),gt=Math.round(N);let ht,mt,Y,X,$,Rt,L,Q;for(let at=Tt;at<=gt;at++){if(at<D){const Ct=at<E?0:(E-at)/(E-D);ht=_-(_-x)*Ct,mt=z-(z-j)*Ct,Y=B-(B-W)*Ct,X=U-(U-Z)*Ct}else{let Ct;at>N?Ct=1:D===N?Ct=0:Ct=(D-at)/(D-N),ht=x-(x-R)*Ct,mt=j-(j-q)*Ct,Y=W-(W-J)*Ct,X=Z-(Z-et)*Ct}let it;at<E?it=0:at>N?it=1:it=(E-at)/(E-N),$=_-(_-R)*it,Rt=z-(z-q)*it,L=B-(B-J)*it,Q=U-(U-et)*it;const tt=Math.round(Math.min(ht,$)),bt=Math.round(Math.max(ht,$));let ft=b*at+tt*4;for(let Ct=tt;Ct<=bt;Ct++)it=(ht-Ct)/(ht-$),it<0?it=0:it>1&&(it=1),v[ft++]=mt-(mt-Rt)*it|0,v[ft++]=Y-(Y-L)*it|0,v[ft++]=X-(X-Q)*it|0,v[ft++]=255}}function lx(m,e,i){const s=e.coords,r=e.colors;let o,u;switch(e.type){case"lattice":const d=e.verticesPerRow,f=Math.floor(s.length/d)-1,p=d-1;for(o=0;o<f;o++){let v=o*d;for(let b=0;b<p;b++,v++)Lv(m,i,s[v],s[v+1],s[v+d],r[v],r[v+1],r[v+d]),Lv(m,i,s[v+d+1],s[v+1],s[v+d],r[v+d+1],r[v+1],r[v+d])}break;case"triangles":for(o=0,u=s.length;o<u;o+=3)Lv(m,i,s[o],s[o+1],s[o+2],r[o],r[o+1],r[o+2]);break;default:throw new Error("illegal figure")}}class ox extends kd{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,i,s){const d=Math.floor(this._bounds[0]),f=Math.floor(this._bounds[1]),p=Math.ceil(this._bounds[2])-d,v=Math.ceil(this._bounds[3])-f,b=Math.min(Math.ceil(Math.abs(p*e[0]*1.1)),3e3),y=Math.min(Math.ceil(Math.abs(v*e[1]*1.1)),3e3),_=p/b,E=v/y,x={coords:this._coords,colors:this._colors,offsetX:-d,offsetY:-f,scaleX:1/_,scaleY:1/E},D=b+2*2,R=y+2*2,N=s.getCanvas("mesh",D,R,!1),z=N.context,B=z.createImageData(b,y);if(i){const j=B.data;for(let W=0,Z=j.length;W<Z;W+=4)j[W]=i[0],j[W+1]=i[1],j[W+2]=i[2],j[W+3]=255}for(const j of this._figures)lx(B,j,x);return z.putImageData(B,2,2),{canvas:N.canvas,offsetX:d-2*_,offsetY:f-2*E,scaleX:_,scaleY:E}}getPattern(e,i,s,r){o0(e,this._bbox);let o;if(r===pi.SHADING)o=ut.singularValueDecompose2dScale(de(e));else if(o=ut.singularValueDecompose2dScale(i.baseTransform),this.matrix){const d=ut.singularValueDecompose2dScale(this.matrix);o=[o[0]*d[0],o[1]*d[1]]}const u=this._createMeshCanvas(o,r===pi.SHADING?null:this._background,i.cachedCanvases);return r!==pi.SHADING&&(e.setTransform(...i.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(u.offsetX,u.offsetY),e.scale(u.scaleX,u.scaleY),e.createPattern(u.canvas,"no-repeat")}}class cx extends kd{getPattern(){return"hotpink"}}function ux(m){switch(m[0]){case"RadialAxial":return new rx(m);case"Mesh":return new ox(m);case"Dummy":return new cx}throw new Error(`Unknown IR type: ${m[0]}`)}const uE={COLORED:1,UNCOLORED:2},qp=class qp{constructor(e,i,s,r,o){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=i,this.ctx=s,this.canvasGraphicsFactory=r,this.baseTransform=o}createPatternCanvas(e){const i=this.operatorList,s=this.bbox,r=this.xstep,o=this.ystep,u=this.paintType,d=this.tilingType,f=this.color,p=this.canvasGraphicsFactory;eg("TilingType: "+d);const v=s[0],b=s[1],y=s[2],_=s[3],E=ut.singularValueDecompose2dScale(this.matrix),x=ut.singularValueDecompose2dScale(this.baseTransform),D=[E[0]*x[0],E[1]*x[1]],R=this.getSizeAndScale(r,this.ctx.canvas.width,D[0]),N=this.getSizeAndScale(o,this.ctx.canvas.height,D[1]),z=e.cachedCanvases.getCanvas("pattern",R.size,N.size,!0),B=z.context,U=p.createCanvasGraphics(B);U.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(U,u,f);let j=v,W=b,Z=y,q=_;return v<0&&(j=0,Z+=Math.abs(v)),b<0&&(W=0,q+=Math.abs(b)),B.translate(-(R.scale*j),-(N.scale*W)),U.transform(R.scale,0,0,N.scale,0,0),B.save(),this.clipBbox(U,j,W,Z,q),U.baseTransform=de(U.ctx),U.executeOperatorList(i),U.endDrawing(),{canvas:z.canvas,scaleX:R.scale,scaleY:N.scale,offsetX:j,offsetY:W}}getSizeAndScale(e,i,s){e=Math.abs(e);const r=Math.max(qp.MAX_PATTERN_SIZE,i);let o=Math.ceil(e*s);return o>=r?o=r:s=o/e,{scale:s,size:o}}clipBbox(e,i,s,r,o){const u=r-i,d=o-s;e.ctx.rect(i,s,u,d),e.current.updateRectMinMax(de(e.ctx),[i,s,r,o]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,i,s){const r=e.ctx,o=e.current;switch(i){case uE.COLORED:const u=this.ctx;r.fillStyle=u.fillStyle,r.strokeStyle=u.strokeStyle,o.fillColor=u.fillStyle,o.strokeColor=u.strokeStyle;break;case uE.UNCOLORED:const d=ut.makeHexColor(s[0],s[1],s[2]);r.fillStyle=d,r.strokeStyle=d,o.fillColor=d,o.strokeColor=d;break;default:throw new HC(`Unsupported paint type: ${i}`)}}getPattern(e,i,s,r){let o=s;r!==pi.SHADING&&(o=ut.transform(o,i.baseTransform),this.matrix&&(o=ut.transform(o,this.matrix)));const u=this.createPatternCanvas(i);let d=new DOMMatrix(o);d=d.translate(u.offsetX,u.offsetY),d=d.scale(1/u.scaleX,1/u.scaleY);const f=e.createPattern(u.canvas,"repeat");return f.setTransform(d),f}};wt(qp,"MAX_PATTERN_SIZE",3e3);let c0=qp;function hx({src:m,srcPos:e=0,dest:i,width:s,height:r,nonBlackColor:o=4294967295,inverseDecode:u=!1}){const d=Ti.isLittleEndian?4278190080:255,[f,p]=u?[o,d]:[d,o],v=s>>3,b=s&7,y=m.length;i=new Uint32Array(i.buffer);let _=0;for(let E=0;E<r;E++){for(const D=e+v;e<D;e++){const R=e<y?m[e]:255;i[_++]=R&128?p:f,i[_++]=R&64?p:f,i[_++]=R&32?p:f,i[_++]=R&16?p:f,i[_++]=R&8?p:f,i[_++]=R&4?p:f,i[_++]=R&2?p:f,i[_++]=R&1?p:f}if(b===0)continue;const x=e<y?m[e++]:255;for(let D=0;D<b;D++)i[_++]=x&1<<7-D?p:f}return{srcPos:e,destPos:_}}const hE=16,dE=100,dx=15,fE=10,pE=1e3,Si=16;function fx(m,e){if(m._removeMirroring)throw new Error("Context is already forwarding operations.");m.__originalSave=m.save,m.__originalRestore=m.restore,m.__originalRotate=m.rotate,m.__originalScale=m.scale,m.__originalTranslate=m.translate,m.__originalTransform=m.transform,m.__originalSetTransform=m.setTransform,m.__originalResetTransform=m.resetTransform,m.__originalClip=m.clip,m.__originalMoveTo=m.moveTo,m.__originalLineTo=m.lineTo,m.__originalBezierCurveTo=m.bezierCurveTo,m.__originalRect=m.rect,m.__originalClosePath=m.closePath,m.__originalBeginPath=m.beginPath,m._removeMirroring=()=>{m.save=m.__originalSave,m.restore=m.__originalRestore,m.rotate=m.__originalRotate,m.scale=m.__originalScale,m.translate=m.__originalTranslate,m.transform=m.__originalTransform,m.setTransform=m.__originalSetTransform,m.resetTransform=m.__originalResetTransform,m.clip=m.__originalClip,m.moveTo=m.__originalMoveTo,m.lineTo=m.__originalLineTo,m.bezierCurveTo=m.__originalBezierCurveTo,m.rect=m.__originalRect,m.closePath=m.__originalClosePath,m.beginPath=m.__originalBeginPath,delete m._removeMirroring},m.save=function(){e.save(),this.__originalSave()},m.restore=function(){e.restore(),this.__originalRestore()},m.translate=function(s,r){e.translate(s,r),this.__originalTranslate(s,r)},m.scale=function(s,r){e.scale(s,r),this.__originalScale(s,r)},m.transform=function(s,r,o,u,d,f){e.transform(s,r,o,u,d,f),this.__originalTransform(s,r,o,u,d,f)},m.setTransform=function(s,r,o,u,d,f){e.setTransform(s,r,o,u,d,f),this.__originalSetTransform(s,r,o,u,d,f)},m.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},m.rotate=function(s){e.rotate(s),this.__originalRotate(s)},m.clip=function(s){e.clip(s),this.__originalClip(s)},m.moveTo=function(i,s){e.moveTo(i,s),this.__originalMoveTo(i,s)},m.lineTo=function(i,s){e.lineTo(i,s),this.__originalLineTo(i,s)},m.bezierCurveTo=function(i,s,r,o,u,d){e.bezierCurveTo(i,s,r,o,u,d),this.__originalBezierCurveTo(i,s,r,o,u,d)},m.rect=function(i,s,r,o){e.rect(i,s,r,o),this.__originalRect(i,s,r,o)},m.closePath=function(){e.closePath(),this.__originalClosePath()},m.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class px{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,i,s){let r;return this.cache[e]!==void 0?(r=this.cache[e],this.canvasFactory.reset(r,i,s)):(r=this.canvasFactory.create(i,s),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const i=this.cache[e];this.canvasFactory.destroy(i),delete this.cache[e]}}}function Qf(m,e,i,s,r,o,u,d,f,p){const[v,b,y,_,E,x]=de(m);if(b===0&&y===0){const N=u*v+E,z=Math.round(N),B=d*_+x,U=Math.round(B),j=(u+f)*v+E,W=Math.abs(Math.round(j)-z)||1,Z=(d+p)*_+x,q=Math.abs(Math.round(Z)-U)||1;return m.setTransform(Math.sign(v),0,0,Math.sign(_),z,U),m.drawImage(e,i,s,r,o,0,0,W,q),m.setTransform(v,b,y,_,E,x),[W,q]}if(v===0&&_===0){const N=d*y+E,z=Math.round(N),B=u*b+x,U=Math.round(B),j=(d+p)*y+E,W=Math.abs(Math.round(j)-z)||1,Z=(u+f)*b+x,q=Math.abs(Math.round(Z)-U)||1;return m.setTransform(0,Math.sign(b),Math.sign(y),0,z,U),m.drawImage(e,i,s,r,o,0,0,q,W),m.setTransform(v,b,y,_,E,x),[q,W]}m.drawImage(e,i,s,r,o,u,d,f,p);const D=Math.hypot(v,b),R=Math.hypot(y,_);return[D*f,R*p]}function gx(m){const{width:e,height:i}=m;if(e>pE||i>pE)return null;const s=1e3,r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),o=e+1;let u=new Uint8Array(o*(i+1)),d,f,p;const v=e+7&-8;let b=new Uint8Array(v*i),y=0;for(const R of m.data){let N=128;for(;N>0;)b[y++]=R&N?0:255,N>>=1}let _=0;for(y=0,b[y]!==0&&(u[0]=1,++_),f=1;f<e;f++)b[y]!==b[y+1]&&(u[f]=b[y]?2:1,++_),y++;for(b[y]!==0&&(u[f]=2,++_),d=1;d<i;d++){y=d*v,p=d*o,b[y-v]!==b[y]&&(u[p]=b[y]?1:8,++_);let R=(b[y]?4:0)+(b[y-v]?8:0);for(f=1;f<e;f++)R=(R>>2)+(b[y+1]?4:0)+(b[y-v+1]?8:0),r[R]&&(u[p+f]=r[R],++_),y++;if(b[y-v]!==b[y]&&(u[p+f]=b[y]?2:4,++_),_>s)return null}for(y=v*(i-1),p=d*o,b[y]!==0&&(u[p]=8,++_),f=1;f<e;f++)b[y]!==b[y+1]&&(u[p+f]=b[y]?4:8,++_),y++;if(b[y]!==0&&(u[p+f]=4,++_),_>s)return null;const E=new Int32Array([0,o,-1,0,-o,0,0,0,1]),x=new Path2D;for(d=0;_&&d<=i;d++){let R=d*o;const N=R+e;for(;R<N&&!u[R];)R++;if(R===N)continue;x.moveTo(R%o,d);const z=R;let B=u[R];do{const U=E[B];do R+=U;while(!u[R]);const j=u[R];j!==5&&j!==10?(B=j,u[R]=0):(B=j&51*B>>4,u[R]&=B>>2|B<<2),x.lineTo(R%o,R/o|0),u[R]||--_}while(z!==R);--d}return b=null,u=null,function(R){R.save(),R.scale(1/e,-1/i),R.translate(0,-i),R.fill(x),R.beginPath(),R.restore()}}class gE{constructor(e,i){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=HE,this.textMatrixScale=1,this.fontMatrix=Pv,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=ni.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,i])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,i){this.x=e,this.y=i}updatePathMinMax(e,i,s){[i,s]=ut.applyTransform([i,s],e),this.minX=Math.min(this.minX,i),this.minY=Math.min(this.minY,s),this.maxX=Math.max(this.maxX,i),this.maxY=Math.max(this.maxY,s)}updateRectMinMax(e,i){const s=ut.applyTransform(i,e),r=ut.applyTransform(i.slice(2),e),o=ut.applyTransform([i[0],i[3]],e),u=ut.applyTransform([i[2],i[1]],e);this.minX=Math.min(this.minX,s[0],r[0],o[0],u[0]),this.minY=Math.min(this.minY,s[1],r[1],o[1],u[1]),this.maxX=Math.max(this.maxX,s[0],r[0],o[0],u[0]),this.maxY=Math.max(this.maxY,s[1],r[1],o[1],u[1])}updateScalingPathMinMax(e,i){ut.scaleMinMax(e,i),this.minX=Math.min(this.minX,i[0]),this.minY=Math.min(this.minY,i[1]),this.maxX=Math.max(this.maxX,i[2]),this.maxY=Math.max(this.maxY,i[3])}updateCurvePathMinMax(e,i,s,r,o,u,d,f,p,v){const b=ut.bezierBoundingBox(i,s,r,o,u,d,f,p,v);v||this.updateRectMinMax(e,b)}getPathBoundingBox(e=pi.FILL,i=null){const s=[this.minX,this.minY,this.maxX,this.maxY];if(e===pi.STROKE){i||Zt("Stroke bounding box must include transform.");const r=ut.singularValueDecompose2dScale(i),o=r[0]*this.lineWidth/2,u=r[1]*this.lineWidth/2;s[0]-=o,s[1]-=u,s[2]+=o,s[3]+=u}return s}updateClipFromPath(){const e=ut.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=pi.FILL,i=null){return ut.intersect(this.clipBox,this.getPathBoundingBox(e,i))}}function mE(m,e){if(typeof ImageData<"u"&&e instanceof ImageData){m.putImageData(e,0,0);return}const i=e.height,s=e.width,r=i%Si,o=(i-r)/Si,u=r===0?o:o+1,d=m.createImageData(s,Si);let f=0,p;const v=e.data,b=d.data;let y,_,E,x;if(e.kind===tp.GRAYSCALE_1BPP){const D=v.byteLength,R=new Uint32Array(b.buffer,0,b.byteLength>>2),N=R.length,z=s+7>>3,B=4294967295,U=Ti.isLittleEndian?4278190080:255;for(y=0;y<u;y++){for(E=y<o?Si:r,p=0,_=0;_<E;_++){const j=D-f;let W=0;const Z=j>z?s:j*8-7,q=Z&-8;let J=0,et=0;for(;W<q;W+=8)et=v[f++],R[p++]=et&128?B:U,R[p++]=et&64?B:U,R[p++]=et&32?B:U,R[p++]=et&16?B:U,R[p++]=et&8?B:U,R[p++]=et&4?B:U,R[p++]=et&2?B:U,R[p++]=et&1?B:U;for(;W<Z;W++)J===0&&(et=v[f++],J=128),R[p++]=et&J?B:U,J>>=1}for(;p<N;)R[p++]=0;m.putImageData(d,0,y*Si)}}else if(e.kind===tp.RGBA_32BPP){for(_=0,x=s*Si*4,y=0;y<o;y++)b.set(v.subarray(f,f+x)),f+=x,m.putImageData(d,0,_),_+=Si;y<u&&(x=s*r*4,b.set(v.subarray(f,f+x)),m.putImageData(d,0,_))}else if(e.kind===tp.RGB_24BPP)for(E=Si,x=s*E,y=0;y<u;y++){for(y>=o&&(E=r,x=s*E),p=0,_=x;_--;)b[p++]=v[f++],b[p++]=v[f++],b[p++]=v[f++],b[p++]=255;m.putImageData(d,0,y*Si)}else throw new Error(`bad image kind: ${e.kind}`)}function vE(m,e){if(e.bitmap){m.drawImage(e.bitmap,0,0);return}const i=e.height,s=e.width,r=i%Si,o=(i-r)/Si,u=r===0?o:o+1,d=m.createImageData(s,Si);let f=0;const p=e.data,v=d.data;for(let b=0;b<u;b++){const y=b<o?Si:r;({srcPos:f}=hx({src:p,srcPos:f,dest:v,width:s,height:y,nonBlackColor:0})),m.putImageData(d,0,b*Si)}}function Ou(m,e){const i=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const s of i)m[s]!==void 0&&(e[s]=m[s]);m.setLineDash!==void 0&&(e.setLineDash(m.getLineDash()),e.lineDashOffset=m.lineDashOffset)}function $f(m){if(m.strokeStyle=m.fillStyle="#000000",m.fillRule="nonzero",m.globalAlpha=1,m.lineWidth=1,m.lineCap="butt",m.lineJoin="miter",m.miterLimit=10,m.globalCompositeOperation="source-over",m.font="10px sans-serif",m.setLineDash!==void 0&&(m.setLineDash([]),m.lineDashOffset=0),!oi){const{filter:e}=m;e!=="none"&&e!==""&&(m.filter="none")}}function bE(m,e){if(e)return!0;const i=ut.singularValueDecompose2dScale(m);i[0]=Math.fround(i[0]),i[1]=Math.fround(i[1]);const s=Math.fround((globalThis.devicePixelRatio||1)*sr.PDF_TO_CSS_UNITS);return i[0]<=s&&i[1]<=s}const mx=["butt","round","square"],vx=["miter","round","bevel"],bx={},yE={};var rr,u0,h0;const fb=class fb{constructor(e,i,s,r,o,{optionalContentConfig:u,markedContentStack:d=null},f,p){w(this,rr);this.ctx=e,this.current=new gE(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=i,this.objs=s,this.canvasFactory=r,this.filterFactory=o,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=d||[],this.optionalContentConfig=u,this.cachedCanvases=new px(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=f,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=p,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,i=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):i}beginDrawing({transform:e,viewport:i,transparency:s=!1,background:r=null}){const o=this.ctx.canvas.width,u=this.ctx.canvas.height,d=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,o,u),this.ctx.fillStyle=d,s){const f=this.cachedCanvases.getCanvas("transparent",o,u);this.compositeCtx=this.ctx,this.transparentCanvas=f.canvas,this.ctx=f.context,this.ctx.save(),this.ctx.transform(...de(this.compositeCtx))}this.ctx.save(),$f(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...i.transform),this.viewportScale=i.scale,this.baseTransform=de(this.ctx)}executeOperatorList(e,i,s,r){const o=e.argsArray,u=e.fnArray;let d=i||0;const f=o.length;if(f===d)return d;const p=f-d>fE&&typeof s=="function",v=p?Date.now()+dx:0;let b=0;const y=this.commonObjs,_=this.objs;let E;for(;;){if(r!==void 0&&d===r.nextBreakPoint)return r.breakIt(d,s),d;if(E=u[d],E!==An.dependency)this[E].apply(this,o[d]);else for(const x of o[d]){const D=x.startsWith("g_")?y:_;if(!D.has(x))return D.get(x,s),d}if(d++,d===f)return d;if(p&&++b>fE){if(Date.now()>v)return s(),d;b=0}}}endDrawing(){T(this,rr,u0).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const i of e.values())typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement&&(i.width=i.height=0);e.clear()}this._cachedBitmapsMap.clear(),T(this,rr,h0).call(this)}_scaleImage(e,i){const s=e.width,r=e.height;let o=Math.max(Math.hypot(i[0],i[1]),1),u=Math.max(Math.hypot(i[2],i[3]),1),d=s,f=r,p="prescale1",v,b;for(;o>2&&d>1||u>2&&f>1;){let y=d,_=f;o>2&&d>1&&(y=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d/2),o/=d/y),u>2&&f>1&&(_=f>=16384?Math.floor(f/2)-1||1:Math.ceil(f)/2,u/=f/_),v=this.cachedCanvases.getCanvas(p,y,_),b=v.context,b.clearRect(0,0,y,_),b.drawImage(e,0,0,d,f,0,0,y,_),e=v.canvas,d=y,f=_,p=p==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:d,paintHeight:f}}_createMaskCanvas(e){const i=this.ctx,{width:s,height:r}=e,o=this.current.fillColor,u=this.current.patternFill,d=de(i);let f,p,v,b;if((e.bitmap||e.data)&&e.count>1){const Z=e.bitmap||e.data.buffer;p=JSON.stringify(u?d:[d.slice(0,4),o]),f=this._cachedBitmapsMap.get(Z),f||(f=new Map,this._cachedBitmapsMap.set(Z,f));const q=f.get(p);if(q&&!u){const J=Math.round(Math.min(d[0],d[2])+d[4]),et=Math.round(Math.min(d[1],d[3])+d[5]);return{canvas:q,offsetX:J,offsetY:et}}v=q}v||(b=this.cachedCanvases.getCanvas("maskCanvas",s,r),vE(b.context,e));let y=ut.transform(d,[1/s,0,0,-1/r,0,0]);y=ut.transform(y,[1,0,0,1,0,-r]);const[_,E,x,D]=ut.getAxialAlignedBoundingBox([0,0,s,r],y),R=Math.round(x-_)||1,N=Math.round(D-E)||1,z=this.cachedCanvases.getCanvas("fillCanvas",R,N),B=z.context,U=_,j=E;B.translate(-U,-j),B.transform(...y),v||(v=this._scaleImage(b.canvas,xs(B)),v=v.img,f&&u&&f.set(p,v)),B.imageSmoothingEnabled=bE(de(B),e.interpolate),Qf(B,v,0,0,v.width,v.height,0,0,s,r),B.globalCompositeOperation="source-in";const W=ut.transform(xs(B),[1,0,0,1,-U,-j]);return B.fillStyle=u?o.getPattern(i,this,W,pi.FILL):o,B.fillRect(0,0,s,r),f&&!u&&(this.cachedCanvases.delete("fillCanvas"),f.set(p,z.canvas)),{canvas:z.canvas,offsetX:Math.round(U),offsetY:Math.round(j)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=mx[e]}setLineJoin(e){this.ctx.lineJoin=vx[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,i){const s=this.ctx;s.setLineDash!==void 0&&(s.setLineDash(e),s.lineDashOffset=i)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[i,s]of e)switch(i){case"LW":this.setLineWidth(s);break;case"LC":this.setLineCap(s);break;case"LJ":this.setLineJoin(s);break;case"ML":this.setMiterLimit(s);break;case"D":this.setDash(s[0],s[1]);break;case"RI":this.setRenderingIntent(s);break;case"FL":this.setFlatness(s);break;case"Font":this.setFont(s[0],s[1]);break;case"CA":this.current.strokeAlpha=s;break;case"ca":this.current.fillAlpha=s,this.ctx.globalAlpha=s;break;case"BM":this.ctx.globalCompositeOperation=s;break;case"SMask":this.current.activeSMask=s?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(s);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,i=this.ctx.canvas.height,s="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(s,e,i);this.suspendedCtx=this.ctx,this.ctx=r.context;const o=this.ctx;o.setTransform(...de(this.suspendedCtx)),Ou(this.suspendedCtx,o),fx(o,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Ou(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const i=this.current.activeSMask,s=this.suspendedCtx;this.composeSMask(s,i,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,i,s,r){const o=r[0],u=r[1],d=r[2]-o,f=r[3]-u;d===0||f===0||(this.genericComposeSMask(i.context,s,d,f,i.subtype,i.backdrop,i.transferMap,o,u,i.offsetX,i.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(s.canvas,0,0),e.restore())}genericComposeSMask(e,i,s,r,o,u,d,f,p,v,b){let y=e.canvas,_=f-v,E=p-b;if(u){if(_<0||E<0||_+s>y.width||E+r>y.height){const D=this.cachedCanvases.getCanvas("maskExtension",s,r),R=D.context;R.drawImage(y,-_,-E),u.some(N=>N!==0)&&(R.globalCompositeOperation="destination-atop",R.fillStyle=ut.makeHexColor(...u),R.fillRect(0,0,s,r),R.globalCompositeOperation="source-over"),y=D.canvas,_=E=0}else if(u.some(D=>D!==0)){e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const D=new Path2D;D.rect(_,E,s,r),e.clip(D),e.globalCompositeOperation="destination-atop",e.fillStyle=ut.makeHexColor(...u),e.fillRect(_,E,s,r),e.restore()}}i.save(),i.globalAlpha=1,i.setTransform(1,0,0,1,0,0),o==="Alpha"&&d?i.filter=this.filterFactory.addAlphaFilter(d):o==="Luminosity"&&(i.filter=this.filterFactory.addLuminosityFilter(d));const x=new Path2D;x.rect(f,p,s,r),i.clip(x),i.globalCompositeOperation="destination-in",i.drawImage(y,_,E,s,r,f,p,s,r),i.restore()}save(){this.inSMaskMode?(Ou(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Ou(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,i,s,r,o,u){this.ctx.transform(e,i,s,r,o,u),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,i,s){const r=this.ctx,o=this.current;let u=o.x,d=o.y,f,p;const v=de(r),b=v[0]===0&&v[3]===0||v[1]===0&&v[2]===0,y=b?s.slice(0):null;for(let _=0,E=0,x=e.length;_<x;_++)switch(e[_]|0){case An.rectangle:u=i[E++],d=i[E++];const D=i[E++],R=i[E++],N=u+D,z=d+R;r.moveTo(u,d),D===0||R===0?r.lineTo(N,z):(r.lineTo(N,d),r.lineTo(N,z),r.lineTo(u,z)),b||o.updateRectMinMax(v,[u,d,N,z]),r.closePath();break;case An.moveTo:u=i[E++],d=i[E++],r.moveTo(u,d),b||o.updatePathMinMax(v,u,d);break;case An.lineTo:u=i[E++],d=i[E++],r.lineTo(u,d),b||o.updatePathMinMax(v,u,d);break;case An.curveTo:f=u,p=d,u=i[E+4],d=i[E+5],r.bezierCurveTo(i[E],i[E+1],i[E+2],i[E+3],u,d),o.updateCurvePathMinMax(v,f,p,i[E],i[E+1],i[E+2],i[E+3],u,d,y),E+=6;break;case An.curveTo2:f=u,p=d,r.bezierCurveTo(u,d,i[E],i[E+1],i[E+2],i[E+3]),o.updateCurvePathMinMax(v,f,p,u,d,i[E],i[E+1],i[E+2],i[E+3],y),u=i[E+2],d=i[E+3],E+=4;break;case An.curveTo3:f=u,p=d,u=i[E+2],d=i[E+3],r.bezierCurveTo(i[E],i[E+1],u,d,u,d),o.updateCurvePathMinMax(v,f,p,i[E],i[E+1],u,d,u,d,y),E+=4;break;case An.closePath:r.closePath();break}b&&o.updateScalingPathMinMax(v,y),o.setCurrentPoint(u,d)}closePath(){this.ctx.closePath()}stroke(e=!0){const i=this.ctx,s=this.current.strokeColor;i.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof s=="object"&&(s!=null&&s.getPattern)?(i.save(),i.strokeStyle=s.getPattern(i,this,xs(i),pi.STROKE),this.rescaleAndStroke(!1),i.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),i.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const i=this.ctx,s=this.current.fillColor,r=this.current.patternFill;let o=!1;r&&(i.save(),i.fillStyle=s.getPattern(i,this,xs(i),pi.FILL),o=!0);const u=this.current.getClippedPathBoundingBox();this.contentVisible&&u!==null&&(this.pendingEOFill?(i.fill("evenodd"),this.pendingEOFill=!1):i.fill()),o&&i.restore(),e&&this.consumePath(u)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=bx}eoClip(){this.pendingClip=yE}beginText(){this.current.textMatrix=HE,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,i=this.ctx;if(e===void 0){i.beginPath();return}i.save(),i.beginPath();for(const s of e)i.setTransform(...s.transform),i.translate(s.x,s.y),s.addToPath(i,s.fontSize);i.restore(),i.clip(),i.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,i){var v;const s=this.commonObjs.get(e),r=this.current;if(!s)throw new Error(`Can't find font for ${e}`);if(r.fontMatrix=s.fontMatrix||Pv,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&Lt("Invalid font matrix for font "+e),i<0?(i=-i,r.fontDirection=-1):r.fontDirection=1,this.current.font=s,this.current.fontSize=i,s.isType3Font)return;const o=s.loadedName||"sans-serif",u=((v=s.systemFontInfo)==null?void 0:v.css)||`"${o}", ${s.fallbackName}`;let d="normal";s.black?d="900":s.bold&&(d="bold");const f=s.italic?"italic":"normal";let p=i;i<hE?p=hE:i>dE&&(p=dE),this.current.fontSizeScale=i/p,this.ctx.font=`${f} ${d} ${p}px ${u}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,i){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=i}setLeadingMoveText(e,i){this.setLeading(-i),this.moveText(e,i)}setTextMatrix(e,i,s,r,o,u){this.current.textMatrix=[e,i,s,r,o,u],this.current.textMatrixScale=Math.hypot(e,i),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,i,s,r){const o=this.ctx,u=this.current,d=u.font,f=u.textRenderingMode,p=u.fontSize/u.fontSizeScale,v=f&ni.FILL_STROKE_MASK,b=!!(f&ni.ADD_TO_PATH_FLAG),y=u.patternFill&&!d.missingFile;let _;(d.disableFontFace||b||y)&&(_=d.getPathGenerator(this.commonObjs,e)),d.disableFontFace||y?(o.save(),o.translate(i,s),o.beginPath(),_(o,p),r&&o.setTransform(...r),(v===ni.FILL||v===ni.FILL_STROKE)&&o.fill(),(v===ni.STROKE||v===ni.FILL_STROKE)&&o.stroke(),o.restore()):((v===ni.FILL||v===ni.FILL_STROKE)&&o.fillText(e,i,s),(v===ni.STROKE||v===ni.FILL_STROKE)&&o.strokeText(e,i,s)),b&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:de(o),x:i,y:s,fontSize:p,addToPath:_})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const i=e.getImageData(0,0,10,10).data;let s=!1;for(let r=3;r<i.length;r+=4)if(i[r]>0&&i[r]<255){s=!0;break}return jt(this,"isFontSubpixelAAEnabled",s)}showText(e){const i=this.current,s=i.font;if(s.isType3Font)return this.showType3Text(e);const r=i.fontSize;if(r===0)return;const o=this.ctx,u=i.fontSizeScale,d=i.charSpacing,f=i.wordSpacing,p=i.fontDirection,v=i.textHScale*p,b=e.length,y=s.vertical,_=y?1:-1,E=s.defaultVMetrics,x=r*i.fontMatrix[0],D=i.textRenderingMode===ni.FILL&&!s.disableFontFace&&!i.patternFill;o.save(),o.transform(...i.textMatrix),o.translate(i.x,i.y+i.textRise),p>0?o.scale(v,-1):o.scale(v,1);let R;if(i.patternFill){o.save();const j=i.fillColor.getPattern(o,this,xs(o),pi.FILL);R=de(o),o.restore(),o.fillStyle=j}let N=i.lineWidth;const z=i.textMatrixScale;if(z===0||N===0){const j=i.textRenderingMode&ni.FILL_STROKE_MASK;(j===ni.STROKE||j===ni.FILL_STROKE)&&(N=this.getSinglePixelWidth())}else N/=z;if(u!==1&&(o.scale(u,u),N/=u),o.lineWidth=N,s.isInvalidPDFjsFont){const j=[];let W=0;for(const Z of e)j.push(Z.unicode),W+=Z.width;o.fillText(j.join(""),0,0),i.x+=W*x*v,o.restore(),this.compose();return}let B=0,U;for(U=0;U<b;++U){const j=e[U];if(typeof j=="number"){B+=_*j*r/1e3;continue}let W=!1;const Z=(j.isSpace?f:0)+d,q=j.fontChar,J=j.accent;let et,Tt,gt=j.width;if(y){const mt=j.vmetric||E,Y=-(j.vmetric?mt[1]:gt*.5)*x,X=mt[2]*x;gt=mt?-mt[0]:gt,et=Y/u,Tt=(B+X)/u}else et=B/u,Tt=0;if(s.remeasure&&gt>0){const mt=o.measureText(q).width*1e3/r*u;if(gt<mt&&this.isFontSubpixelAAEnabled){const Y=gt/mt;W=!0,o.save(),o.scale(Y,1),et/=Y}else gt!==mt&&(et+=(gt-mt)/2e3*r/u)}if(this.contentVisible&&(j.isInFont||s.missingFile)){if(D&&!J)o.fillText(q,et,Tt);else if(this.paintChar(q,et,Tt,R),J){const mt=et+r*J.offset.x/u,Y=Tt-r*J.offset.y/u;this.paintChar(J.fontChar,mt,Y,R)}}const ht=y?gt*x-Z*p:gt*x+Z*p;B+=ht,W&&o.restore()}y?i.y-=B:i.x+=B*v,o.restore(),this.compose()}showType3Text(e){const i=this.ctx,s=this.current,r=s.font,o=s.fontSize,u=s.fontDirection,d=r.vertical?1:-1,f=s.charSpacing,p=s.wordSpacing,v=s.textHScale*u,b=s.fontMatrix||Pv,y=e.length,_=s.textRenderingMode===ni.INVISIBLE;let E,x,D,R;if(!(_||o===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,i.save(),i.transform(...s.textMatrix),i.translate(s.x,s.y),i.scale(v,u),E=0;E<y;++E){if(x=e[E],typeof x=="number"){R=d*x*o/1e3,this.ctx.translate(R,0),s.x+=R*v;continue}const N=(x.isSpace?p:0)+f,z=r.charProcOperatorList[x.operatorListId];if(!z){Lt(`Type3 character "${x.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=x,this.save(),i.scale(o,o),i.transform(...b),this.executeOperatorList(z),this.restore()),D=ut.applyTransform([x.width,0],b)[0]*o+N,i.translate(D,0),s.x+=D*v}i.restore(),this.processingType3=null}}setCharWidth(e,i){}setCharWidthAndBounds(e,i,s,r,o,u){this.ctx.rect(s,r,o-s,u-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let i;if(e[0]==="TilingPattern"){const s=e[1],r=this.baseTransform||de(this.ctx),o={createCanvasGraphics:u=>new fb(u,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};i=new c0(e,s,this.ctx,o,r)}else i=this._getPattern(e[1],e[2]);return i}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,i,s){const r=ut.makeHexColor(e,i,s);this.ctx.strokeStyle=r,this.current.strokeColor=r}setFillRGBColor(e,i,s){const r=ut.makeHexColor(e,i,s);this.ctx.fillStyle=r,this.current.fillColor=r,this.current.patternFill=!1}_getPattern(e,i=null){let s;return this.cachedPatterns.has(e)?s=this.cachedPatterns.get(e):(s=ux(this.getObject(e)),this.cachedPatterns.set(e,s)),i&&(s.matrix=i),s}shadingFill(e){if(!this.contentVisible)return;const i=this.ctx;this.save();const s=this._getPattern(e);i.fillStyle=s.getPattern(i,this,xs(i),pi.SHADING);const r=xs(i);if(r){const{width:o,height:u}=i.canvas,[d,f,p,v]=ut.getAxialAlignedBoundingBox([0,0,o,u],r);this.ctx.fillRect(d,f,p-d,v-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Zt("Should not call beginInlineImage")}beginImageData(){Zt("Should not call beginImageData")}paintFormXObjectBegin(e,i){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=de(this.ctx),i)){const s=i[2]-i[0],r=i[3]-i[1];this.ctx.rect(i[0],i[1],s,r),this.current.updateRectMinMax(de(this.ctx),i),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const i=this.ctx;e.isolated||eg("TODO: Support non-isolated groups."),e.knockout&&Lt("Knockout groups not supported.");const s=de(i);if(e.matrix&&i.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let r=ut.getAxialAlignedBoundingBox(e.bbox,de(i));const o=[0,0,i.canvas.width,i.canvas.height];r=ut.intersect(r,o)||[0,0,0,0];const u=Math.floor(r[0]),d=Math.floor(r[1]),f=Math.max(Math.ceil(r[2])-u,1),p=Math.max(Math.ceil(r[3])-d,1);this.current.startNewPathAndClipBox([0,0,f,p]);let v="groupAt"+this.groupLevel;e.smask&&(v+="_smask_"+this.smaskCounter++%2);const b=this.cachedCanvases.getCanvas(v,f,p),y=b.context;y.translate(-u,-d),y.transform(...s),e.smask?this.smaskStack.push({canvas:b.canvas,context:y,offsetX:u,offsetY:d,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(i.setTransform(1,0,0,1,0,0),i.translate(u,d),i.save()),Ou(i,y),this.ctx=y,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(i),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const i=this.ctx,s=this.groupStack.pop();if(this.ctx=s,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=de(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const o=ut.getAxialAlignedBoundingBox([0,0,i.canvas.width,i.canvas.height],r);this.ctx.drawImage(i.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(e,i,s,r,o){if(T(this,rr,u0).call(this),$f(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),i){const u=i[2]-i[0],d=i[3]-i[1];if(o&&this.annotationCanvasMap){s=s.slice(),s[4]-=i[0],s[5]-=i[1],i=i.slice(),i[0]=i[1]=0,i[2]=u,i[3]=d;const[f,p]=ut.singularValueDecompose2dScale(de(this.ctx)),{viewportScale:v}=this,b=Math.ceil(u*this.outputScaleX*v),y=Math.ceil(d*this.outputScaleY*v);this.annotationCanvas=this.canvasFactory.create(b,y);const{canvas:_,context:E}=this.annotationCanvas;this.annotationCanvasMap.set(e,_),this.annotationCanvas.savedCtx=this.ctx,this.ctx=E,this.ctx.save(),this.ctx.setTransform(f,0,0,-p,0,d*p),$f(this.ctx)}else $f(this.ctx),this.ctx.rect(i[0],i[1],u,d),this.ctx.clip(),this.endPath()}this.current=new gE(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...s),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),T(this,rr,h0).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const i=e.count;e=this.getObject(e.data,e),e.count=i;const s=this.ctx,r=this.processingType3;if(r&&(r.compiled===void 0&&(r.compiled=gx(e)),r.compiled)){r.compiled(s);return}const o=this._createMaskCanvas(e),u=o.canvas;s.save(),s.setTransform(1,0,0,1,0,0),s.drawImage(u,o.offsetX,o.offsetY),s.restore(),this.compose()}paintImageMaskXObjectRepeat(e,i,s=0,r=0,o,u){if(!this.contentVisible)return;e=this.getObject(e.data,e);const d=this.ctx;d.save();const f=de(d);d.transform(i,s,r,o,0,0);const p=this._createMaskCanvas(e);d.setTransform(1,0,0,1,p.offsetX-f[4],p.offsetY-f[5]);for(let v=0,b=u.length;v<b;v+=2){const y=ut.transform(f,[i,s,r,o,u[v],u[v+1]]),[_,E]=ut.applyTransform([0,0],y);d.drawImage(p.canvas,_,E)}d.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const i=this.ctx,s=this.current.fillColor,r=this.current.patternFill;for(const o of e){const{data:u,width:d,height:f,transform:p}=o,v=this.cachedCanvases.getCanvas("maskCanvas",d,f),b=v.context;b.save();const y=this.getObject(u,o);vE(b,y),b.globalCompositeOperation="source-in",b.fillStyle=r?s.getPattern(b,this,xs(i),pi.FILL):s,b.fillRect(0,0,d,f),b.restore(),i.save(),i.transform(...p),i.scale(1,-1),Qf(i,v.canvas,0,0,d,f,0,-1,1,1),i.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const i=this.getObject(e);if(!i){Lt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(i)}paintImageXObjectRepeat(e,i,s,r){if(!this.contentVisible)return;const o=this.getObject(e);if(!o){Lt("Dependent image isn't ready yet");return}const u=o.width,d=o.height,f=[];for(let p=0,v=r.length;p<v;p+=2)f.push({transform:[i,0,0,s,r[p],r[p+1]],x:0,y:0,w:u,h:d});this.paintInlineImageXObjectGroup(o,f)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:i,width:s,height:r}=e,o=this.cachedCanvases.getCanvas("inlineImage",s,r),u=o.context;return u.filter=this.current.transferMaps,u.drawImage(i,0,0),u.filter="none",o.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const i=e.width,s=e.height,r=this.ctx;if(this.save(),!oi){const{filter:d}=r;d!=="none"&&d!==""&&(r.filter="none")}r.scale(1/i,-1/s);let o;if(e.bitmap)o=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)o=e;else{const f=this.cachedCanvases.getCanvas("inlineImage",i,s).context;mE(f,e),o=this.applyTransferMapsToCanvas(f)}const u=this._scaleImage(o,xs(r));r.imageSmoothingEnabled=bE(de(r),e.interpolate),Qf(r,u.img,0,0,u.paintWidth,u.paintHeight,0,-s,i,s),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,i){if(!this.contentVisible)return;const s=this.ctx;let r;if(e.bitmap)r=e.bitmap;else{const o=e.width,u=e.height,f=this.cachedCanvases.getCanvas("inlineImage",o,u).context;mE(f,e),r=this.applyTransferMapsToCanvas(f)}for(const o of i)s.save(),s.transform(...o.transform),s.scale(1,-1),Qf(s,r,o.x,o.y,o.w,o.h,0,-1,1,1),s.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,i){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,i){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(i)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const s=this.ctx;this.pendingClip&&(i||(this.pendingClip===yE?s.clip("evenodd"):s.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),s.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=de(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const i=Math.abs(e[0]*e[3]-e[2]*e[1]),s=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(s,r)/i}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:i,b:s,c:r,d:o}=this.ctx.getTransform();let u,d;if(s===0&&r===0){const f=Math.abs(i),p=Math.abs(o);if(f===p)if(e===0)u=d=1/f;else{const v=f*e;u=d=v<1?1/v:1}else if(e===0)u=1/f,d=1/p;else{const v=f*e,b=p*e;u=v<1?1/v:1,d=b<1?1/b:1}}else{const f=Math.abs(i*o-s*r),p=Math.hypot(i,s),v=Math.hypot(r,o);if(e===0)u=v/f,d=p/f;else{const b=e*f;u=v>b?v/b:1,d=p>b?p/b:1}}this._cachedScaleForStroking[0]=u,this._cachedScaleForStroking[1]=d}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:i}=this,{lineWidth:s}=this.current,[r,o]=this.getScaleForStroking();if(i.lineWidth=s||1,r===1&&o===1){i.stroke();return}const u=i.getLineDash();if(e&&i.save(),i.scale(r,o),u.length>0){const d=Math.max(r,o);i.setLineDash(u.map(f=>f/d)),i.lineDashOffset/=d}i.stroke(),e&&i.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};rr=new WeakSet,u0=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},h0=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const i=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=i}}};let Lo=fb;for(const m in An)Lo.prototype[m]!==void 0&&(Lo.prototype[An[m]]=Lo.prototype[m]);var Rh,Mh;class na{static get workerPort(){return c(this,Rh)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");S(this,Rh,e)}static get workerSrc(){return c(this,Mh)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");S(this,Mh,e)}}Rh=new WeakMap,Mh=new WeakMap,w(na,Rh,null),w(na,Mh,"");const Wf={UNKNOWN:0,DATA:1,ERROR:2},Te={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Pi(m){switch(m instanceof Error||typeof m=="object"&&m!==null||Zt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),m.name){case"AbortException":return new Fl(m.message);case"MissingPDFException":return new zl(m.message);case"PasswordException":return new zv(m.message,m.code);case"UnexpectedResponseException":return new ig(m.message,m.status);case"UnknownErrorException":return new Fv(m.message,m.details);default:return new Fv(m.message,m.toString())}}var ss,yS,AS,rp;class Bu{constructor(e,i,s){w(this,ss);this.sourceName=e,this.targetName=i,this.comObj=s,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=r=>{const o=r.data;if(o.targetName!==this.sourceName)return;if(o.stream){T(this,ss,AS).call(this,o);return}if(o.callback){const d=o.callbackId,f=this.callbackCapabilities[d];if(!f)throw new Error(`Cannot resolve callback ${d}`);if(delete this.callbackCapabilities[d],o.callback===Wf.DATA)f.resolve(o.data);else if(o.callback===Wf.ERROR)f.reject(Pi(o.reason));else throw new Error("Unexpected callback case");return}const u=this.actionHandler[o.action];if(!u)throw new Error(`Unknown action from worker: ${o.action}`);if(o.callbackId){const d=this.sourceName,f=o.sourceName;new Promise(function(p){p(u(o.data))}).then(function(p){s.postMessage({sourceName:d,targetName:f,callback:Wf.DATA,callbackId:o.callbackId,data:p})},function(p){s.postMessage({sourceName:d,targetName:f,callback:Wf.ERROR,callbackId:o.callbackId,reason:Pi(p)})});return}if(o.streamId){T(this,ss,yS).call(this,o);return}u(o.data)},s.addEventListener("message",this._onComObjOnMessage)}on(e,i){const s=this.actionHandler;if(s[e])throw new Error(`There is already an actionName called "${e}"`);s[e]=i}send(e,i,s){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:i},s)}sendWithPromise(e,i,s){const r=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[r]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:i},s)}catch(u){o.reject(u)}return o.promise}sendWithStream(e,i,s,r){const o=this.streamId++,u=this.sourceName,d=this.targetName,f=this.comObj;return new ReadableStream({start:p=>{const v=Promise.withResolvers();return this.streamControllers[o]={controller:p,startCall:v,pullCall:null,cancelCall:null,isClosed:!1},f.postMessage({sourceName:u,targetName:d,action:e,streamId:o,data:i,desiredSize:p.desiredSize},r),v.promise},pull:p=>{const v=Promise.withResolvers();return this.streamControllers[o].pullCall=v,f.postMessage({sourceName:u,targetName:d,stream:Te.PULL,streamId:o,desiredSize:p.desiredSize}),v.promise},cancel:p=>{Ne(p instanceof Error,"cancel must have a valid reason");const v=Promise.withResolvers();return this.streamControllers[o].cancelCall=v,this.streamControllers[o].isClosed=!0,f.postMessage({sourceName:u,targetName:d,stream:Te.CANCEL,streamId:o,reason:Pi(p)}),v.promise}},s)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}ss=new WeakSet,yS=function(e){const i=e.streamId,s=this.sourceName,r=e.sourceName,o=this.comObj,u=this,d=this.actionHandler[e.action],f={enqueue(p,v=1,b){if(this.isCancelled)return;const y=this.desiredSize;this.desiredSize-=v,y>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:s,targetName:r,stream:Te.ENQUEUE,streamId:i,chunk:p},b)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:s,targetName:r,stream:Te.CLOSE,streamId:i}),delete u.streamSinks[i])},error(p){Ne(p instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:s,targetName:r,stream:Te.ERROR,streamId:i,reason:Pi(p)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};f.sinkCapability.resolve(),f.ready=f.sinkCapability.promise,this.streamSinks[i]=f,new Promise(function(p){p(d(e.data,f))}).then(function(){o.postMessage({sourceName:s,targetName:r,stream:Te.START_COMPLETE,streamId:i,success:!0})},function(p){o.postMessage({sourceName:s,targetName:r,stream:Te.START_COMPLETE,streamId:i,reason:Pi(p)})})},AS=function(e){const i=e.streamId,s=this.sourceName,r=e.sourceName,o=this.comObj,u=this.streamControllers[i],d=this.streamSinks[i];switch(e.stream){case Te.START_COMPLETE:e.success?u.startCall.resolve():u.startCall.reject(Pi(e.reason));break;case Te.PULL_COMPLETE:e.success?u.pullCall.resolve():u.pullCall.reject(Pi(e.reason));break;case Te.PULL:if(!d){o.postMessage({sourceName:s,targetName:r,stream:Te.PULL_COMPLETE,streamId:i,success:!0});break}d.desiredSize<=0&&e.desiredSize>0&&d.sinkCapability.resolve(),d.desiredSize=e.desiredSize,new Promise(function(f){var p;f((p=d.onPull)==null?void 0:p.call(d))}).then(function(){o.postMessage({sourceName:s,targetName:r,stream:Te.PULL_COMPLETE,streamId:i,success:!0})},function(f){o.postMessage({sourceName:s,targetName:r,stream:Te.PULL_COMPLETE,streamId:i,reason:Pi(f)})});break;case Te.ENQUEUE:if(Ne(u,"enqueue should have stream controller"),u.isClosed)break;u.controller.enqueue(e.chunk);break;case Te.CLOSE:if(Ne(u,"close should have stream controller"),u.isClosed)break;u.isClosed=!0,u.controller.close(),T(this,ss,rp).call(this,u,i);break;case Te.ERROR:Ne(u,"error should have stream controller"),u.controller.error(Pi(e.reason)),T(this,ss,rp).call(this,u,i);break;case Te.CANCEL_COMPLETE:e.success?u.cancelCall.resolve():u.cancelCall.reject(Pi(e.reason)),T(this,ss,rp).call(this,u,i);break;case Te.CANCEL:if(!d)break;new Promise(function(f){var p;f((p=d.onCancel)==null?void 0:p.call(d,Pi(e.reason)))}).then(function(){o.postMessage({sourceName:s,targetName:r,stream:Te.CANCEL_COMPLETE,streamId:i,success:!0})},function(f){o.postMessage({sourceName:s,targetName:r,stream:Te.CANCEL_COMPLETE,streamId:i,reason:Pi(f)})}),d.sinkCapability.reject(Pi(e.reason)),d.isCancelled=!0,delete this.streamSinks[i];break;default:throw new Error("Unexpected stream case")}},rp=async function(e,i){var s,r,o;await Promise.allSettled([(s=e.startCall)==null?void 0:s.promise,(r=e.pullCall)==null?void 0:r.promise,(o=e.cancelCall)==null?void 0:o.promise]),delete this.streamControllers[i]};var Jr,Dh;class yx{constructor({parsedData:e,rawData:i}){w(this,Jr);w(this,Dh);S(this,Jr,e),S(this,Dh,i)}getRaw(){return c(this,Dh)}get(e){return c(this,Jr).get(e)??null}getAll(){return tb(c(this,Jr))}has(e){return c(this,Jr).has(e)}}Jr=new WeakMap,Dh=new WeakMap;const Na=Symbol("INTERNAL");var Lh,Oh,kh,Ko;class Ax{constructor(e,{name:i,intent:s,usage:r}){w(this,Lh,!1);w(this,Oh,!1);w(this,kh,!1);w(this,Ko,!0);S(this,Lh,!!(e&hn.DISPLAY)),S(this,Oh,!!(e&hn.PRINT)),this.name=i,this.intent=s,this.usage=r}get visible(){if(c(this,kh))return c(this,Ko);if(!c(this,Ko))return!1;const{print:e,view:i}=this.usage;return c(this,Lh)?(i==null?void 0:i.viewState)!=="OFF":c(this,Oh)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,i,s=!1){e!==Na&&Zt("Internal method `_setVisible` called."),S(this,kh,s),S(this,Ko,i)}}Lh=new WeakMap,Oh=new WeakMap,kh=new WeakMap,Ko=new WeakMap;var Ia,Wt,Qo,$o,Nh,d0;class _x{constructor(e,i=hn.DISPLAY){w(this,Nh);w(this,Ia,null);w(this,Wt,new Map);w(this,Qo,null);w(this,$o,null);if(this.renderingIntent=i,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,S(this,$o,e.order);for(const s of e.groups)c(this,Wt).set(s.id,new Ax(i,s));if(e.baseState==="OFF")for(const s of c(this,Wt).values())s._setVisible(Na,!1);for(const s of e.on)c(this,Wt).get(s)._setVisible(Na,!0);for(const s of e.off)c(this,Wt).get(s)._setVisible(Na,!1);S(this,Qo,this.getHash())}}isVisible(e){if(c(this,Wt).size===0)return!0;if(!e)return eg("Optional content group not defined."),!0;if(e.type==="OCG")return c(this,Wt).has(e.id)?c(this,Wt).get(e.id).visible:(Lt(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return T(this,Nh,d0).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const i of e.ids){if(!c(this,Wt).has(i))return Lt(`Optional content group not found: ${i}`),!0;if(c(this,Wt).get(i).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const i of e.ids){if(!c(this,Wt).has(i))return Lt(`Optional content group not found: ${i}`),!0;if(!c(this,Wt).get(i).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const i of e.ids){if(!c(this,Wt).has(i))return Lt(`Optional content group not found: ${i}`),!0;if(!c(this,Wt).get(i).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const i of e.ids){if(!c(this,Wt).has(i))return Lt(`Optional content group not found: ${i}`),!0;if(c(this,Wt).get(i).visible)return!1}return!0}return Lt(`Unknown optional content policy ${e.policy}.`),!0}return Lt(`Unknown group type ${e.type}.`),!0}setVisibility(e,i=!0){const s=c(this,Wt).get(e);if(!s){Lt(`Optional content group not found: ${e}`);return}s._setVisible(Na,!!i,!0),S(this,Ia,null)}setOCGState({state:e,preserveRB:i}){let s;for(const r of e){switch(r){case"ON":case"OFF":case"Toggle":s=r;continue}const o=c(this,Wt).get(r);if(o)switch(s){case"ON":o._setVisible(Na,!0);break;case"OFF":o._setVisible(Na,!1);break;case"Toggle":o._setVisible(Na,!o.visible);break}}S(this,Ia,null)}get hasInitialVisibility(){return c(this,Qo)===null||this.getHash()===c(this,Qo)}getOrder(){return c(this,Wt).size?c(this,$o)?c(this,$o).slice():[...c(this,Wt).keys()]:null}getGroups(){return c(this,Wt).size>0?tb(c(this,Wt)):null}getGroup(e){return c(this,Wt).get(e)||null}getHash(){if(c(this,Ia)!==null)return c(this,Ia);const e=new gS;for(const[i,s]of c(this,Wt))e.update(`${i}:${s.visible}`);return S(this,Ia,e.hexdigest())}}Ia=new WeakMap,Wt=new WeakMap,Qo=new WeakMap,$o=new WeakMap,Nh=new WeakSet,d0=function(e){const i=e.length;if(i<2)return!0;const s=e[0];for(let r=1;r<i;r++){const o=e[r];let u;if(Array.isArray(o))u=T(this,Nh,d0).call(this,o);else if(c(this,Wt).has(o))u=c(this,Wt).get(o).visible;else return Lt(`Optional content group not found: ${o}`),!0;switch(s){case"And":if(!u)return!1;break;case"Or":if(u)return!0;break;case"Not":return!u;default:return!0}}return s==="And"};class Ex{constructor(e,{disableRange:i=!1,disableStream:s=!1}){Ne(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:o,progressiveDone:u,contentDispositionFilename:d}=e;if(this._queuedChunks=[],this._progressiveDone=u,this._contentDispositionFilename=d,(o==null?void 0:o.length)>0){const f=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(f)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!s,this._isRangeSupported=!i,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((f,p)=>{this._onReceiveData({begin:f,chunk:p})}),e.addProgressListener((f,p)=>{this._onProgress({loaded:f,total:p})}),e.addProgressiveReadListener(f=>{this._onReceiveData({chunk:f})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:i}){const s=i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength?i.buffer:new Uint8Array(i).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(s):this._queuedChunks.push(s);else{const r=this._rangeReaders.some(function(o){return o._begin!==e?!1:(o._enqueue(s),!0)});Ne(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var i,s,r,o;e.total===void 0?(s=(i=this._rangeReaders[0])==null?void 0:i.onProgress)==null||s.call(i,{loaded:e.loaded}):(o=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||o.call(r,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const i=this._rangeReaders.indexOf(e);i>=0&&this._rangeReaders.splice(i,1)}getFullReader(){Ne(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new Sx(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,i){if(i<=this._progressiveDataLength)return null;const s=new Tx(this,e,i);return this._pdfDataRangeTransport.requestDataRange(e,i),this._rangeReaders.push(s),s}cancelAllRequests(e){var i;(i=this._fullRequestReader)==null||i.cancel(e);for(const s of this._rangeReaders.slice(0))s.cancel(e);this._pdfDataRangeTransport.abort()}}class Sx{constructor(e,i,s=!1,r=null){this._stream=e,this._done=s||!1,this._filename=ab(r)?r:null,this._queuedChunks=i||[],this._loaded=0;for(const o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Tx{constructor(e,i,s){this._stream=e,this._begin=i,this._end=s,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const i=this._queuedChunk;return this._queuedChunk=null,{value:i,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function wx(m){let e=!0,i=s("filename\\*","i").exec(m);if(i){i=i[1];let v=d(i);return v=unescape(v),v=f(v),v=p(v),o(v)}if(i=u(m),i){const v=p(i);return o(v)}if(i=s("filename","i").exec(m),i){i=i[1];let v=d(i);return v=p(v),o(v)}function s(v,b){return new RegExp("(?:^|;)\\s*"+v+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',b)}function r(v,b){if(v){if(!/^[\x00-\xFF]+$/.test(b))return b;try{const y=new TextDecoder(v,{fatal:!0}),_=ng(b);b=y.decode(_),e=!1}catch{}}return b}function o(v){return e&&/[\x80-\xff]/.test(v)&&(v=r("utf-8",v),e&&(v=r("iso-8859-1",v))),v}function u(v){const b=[];let y;const _=s("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(y=_.exec(v))!==null;){let[,x,D,R]=y;if(x=parseInt(x,10),x in b){if(x===0)break;continue}b[x]=[D,R]}const E=[];for(let x=0;x<b.length&&x in b;++x){let[D,R]=b[x];R=d(R),D&&(R=unescape(R),x===0&&(R=f(R))),E.push(R)}return E.join("")}function d(v){if(v.startsWith('"')){const b=v.slice(1).split('\\"');for(let y=0;y<b.length;++y){const _=b[y].indexOf('"');_!==-1&&(b[y]=b[y].slice(0,_),b.length=y+1),b[y]=b[y].replaceAll(/\\(.)/g,"$1")}v=b.join('"')}return v}function f(v){const b=v.indexOf("'");if(b===-1)return v;const y=v.slice(0,b),E=v.slice(b+1).replace(/^[^']*'/,"");return r(y,E)}function p(v){return!v.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(v)?v:v.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(b,y,_,E){if(_==="q"||_==="Q")return E=E.replaceAll("_"," "),E=E.replaceAll(/=([0-9a-fA-F]{2})/g,function(x,D){return String.fromCharCode(parseInt(D,16))}),r(y,E);try{E=atob(E)}catch{}return r(y,E)})}return""}function ob({getResponseHeader:m,isHttp:e,rangeChunkSize:i,disableRange:s}){const r={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(m("Content-Length"),10);return!Number.isInteger(o)||(r.suggestedLength=o,o<=2*i)||s||!e||m("Accept-Ranges")!=="bytes"||(m("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function cb(m){const e=m("Content-Disposition");if(e){let i=wx(e);if(i.includes("%"))try{i=decodeURIComponent(i)}catch{}if(ab(i))return i}return null}function og(m,e){return m===404||m===0&&e.startsWith("file:")?new zl('Missing PDF "'+e+'".'):new ig(`Unexpected server response (${m}) while retrieving PDF "${e}".`,m)}function _S(m){return m===200||m===206}function ES(m,e,i){return{method:"GET",headers:m,signal:i.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function SS(m){const e=new Headers;for(const i in m){const s=m[i];s!==void 0&&e.append(i,s)}return e}function TS(m){return m instanceof Uint8Array?m.buffer:m instanceof ArrayBuffer?m:(Lt(`getArrayBuffer - unexpected data format: ${m}`),new Uint8Array(m).buffer)}class AE{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Ne(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new Cx(this),this._fullRequestReader}getRangeReader(e,i){if(i<=this._progressiveDataLength)return null;const s=new xx(this,e,i);return this._rangeRequestReaders.push(s),s}cancelAllRequests(e){var i;(i=this._fullRequestReader)==null||i.cancel(e);for(const s of this._rangeRequestReaders.slice(0))s.cancel(e)}}class Cx{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const i=e.source;this._withCredentials=i.withCredentials||!1,this._contentLength=i.length,this._headersCapability=Promise.withResolvers(),this._disableRange=i.disableRange||!1,this._rangeChunkSize=i.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!i.disableStream,this._isRangeSupported=!i.disableRange,this._headers=SS(this._stream.httpHeaders);const s=i.url;fetch(s,ES(this._headers,this._withCredentials,this._abortController)).then(r=>{if(!_S(r.status))throw og(r.status,s);this._reader=r.body.getReader(),this._headersCapability.resolve();const o=f=>r.headers.get(f),{allowRangeRequests:u,suggestedLength:d}=ob({getResponseHeader:o,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=u,this._contentLength=d||this._contentLength,this._filename=cb(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Fl("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;await this._headersCapability.promise;const{value:e,done:i}=await this._reader.read();return i?{value:e,done:i}:(this._loaded+=e.byteLength,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded,total:this._contentLength}),{value:TS(e),done:!1})}cancel(e){var i;(i=this._reader)==null||i.cancel(e),this._abortController.abort()}}class xx{constructor(e,i,s){this._stream=e,this._reader=null,this._loaded=0;const r=e.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController,this._headers=SS(this._stream.httpHeaders),this._headers.append("Range",`bytes=${i}-${s-1}`);const o=r.url;fetch(o,ES(this._headers,this._withCredentials,this._abortController)).then(u=>{if(!_S(u.status))throw og(u.status,o);this._readCapability.resolve(),this._reader=u.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;await this._readCapability.promise;const{value:e,done:i}=await this._reader.read();return i?{value:e,done:i}:(this._loaded+=e.byteLength,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded}),{value:TS(e),done:!1})}cancel(e){var i;(i=this._reader)==null||i.cancel(e),this._abortController.abort()}}const Ov=200,kv=206;function Rx(m){const e=m.response;return typeof e!="string"?e:ng(e).buffer}class Mx{constructor(e,i={}){this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&i.httpHeaders||Object.create(null),this.withCredentials=i.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,i,s){const r={begin:e,end:i};for(const o in s)r[o]=s[o];return this.request(r)}requestFull(e){return this.request(e)}request(e){const i=new XMLHttpRequest,s=this.currXhrId++,r=this.pendingRequests[s]={xhr:i};i.open("GET",this.url),i.withCredentials=this.withCredentials;for(const o in this.httpHeaders){const u=this.httpHeaders[o];u!==void 0&&i.setRequestHeader(o,u)}return this.isHttp&&"begin"in e&&"end"in e?(i.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=kv):r.expectedStatus=Ov,i.responseType="arraybuffer",e.onError&&(i.onerror=function(o){e.onError(i.status)}),i.onreadystatechange=this.onStateChange.bind(this,s),i.onprogress=this.onProgress.bind(this,s),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,i.send(null),s}onProgress(e,i){var r;const s=this.pendingRequests[e];s&&((r=s.onProgress)==null||r.call(s,i))}onStateChange(e,i){var f,p,v;const s=this.pendingRequests[e];if(!s)return;const r=s.xhr;if(r.readyState>=2&&s.onHeadersReceived&&(s.onHeadersReceived(),delete s.onHeadersReceived),r.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],r.status===0&&this.isHttp){(f=s.onError)==null||f.call(s,r.status);return}const o=r.status||Ov;if(!(o===Ov&&s.expectedStatus===kv)&&o!==s.expectedStatus){(p=s.onError)==null||p.call(s,r.status);return}const d=Rx(r);if(o===kv){const b=r.getResponseHeader("Content-Range"),y=/bytes (\d+)-(\d+)\/(\d+)/.exec(b);s.onDone({begin:parseInt(y[1],10),chunk:d})}else d?s.onDone({begin:0,chunk:d}):(v=s.onError)==null||v.call(s,r.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const i=this.pendingRequests[e].xhr;delete this.pendingRequests[e],i.abort()}}class Dx{constructor(e){this._source=e,this._manager=new Mx(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const i=this._rangeRequestReaders.indexOf(e);i>=0&&this._rangeRequestReaders.splice(i,1)}getFullReader(){return Ne(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new Lx(this._manager,this._source),this._fullRequestReader}getRangeReader(e,i){const s=new Ox(this._manager,e,i);return s.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(s),s}cancelAllRequests(e){var i;(i=this._fullRequestReader)==null||i.cancel(e);for(const s of this._rangeRequestReaders.slice(0))s.cancel(e)}}class Lx{constructor(e,i){this._manager=e;const s={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=i.url,this._fullRequestId=e.requestFull(s),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=i.disableRange||!1,this._contentLength=i.length,this._rangeChunkSize=i.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,i=this._manager.getRequestXhr(e),s=u=>i.getResponseHeader(u),{allowRangeRequests:r,suggestedLength:o}=ob({getResponseHeader:s,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=cb(s),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=og(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const i of this._requests)i.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var i;(i=this.onProgress)==null||i.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Ox{constructor(e,i,s){this._manager=e;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(i,s,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const i=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:i,done:!1}):this._queuedChunk=i,this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=og(e,this._url);for(const i of this._requests)i.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var i;this.isStreamingSupported||(i=this.onProgress)==null||i.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const i=this._queuedChunk;return this._queuedChunk=null,{value:i,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const wS=/^file:\/\/\/[a-zA-Z]:\//;function kx(m){const e=rs.get("url"),i=e.parse(m);return i.protocol==="file:"||i.host?i:/^[a-z]:[/\\]/i.test(m)?e.parse(`file:///${m}`):(i.host||(i.protocol="file:"),i)}class Nx{constructor(e){this.source=e,this.url=kx(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Ne(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new zx(this):new Px(this),this._fullRequestReader}getRangeReader(e,i){if(i<=this._progressiveDataLength)return null;const s=this.isFsUrl?new Fx(this,e,i):new Hx(this,e,i);return this._rangeRequestReaders.push(s),s}cancelAllRequests(e){var i;(i=this._fullRequestReader)==null||i.cancel(e);for(const s of this._rangeRequestReaders.slice(0))s.cancel(e)}}class CS{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const i=e.source;this._contentLength=i.length,this._loaded=0,this._filename=null,this._disableRange=i.disableRange||!1,this._rangeChunkSize=i.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!i.disableStream,this._isRangeSupported=!i.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",i=>{this._error(i)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Fl("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class xS{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",i=>{this._error(i)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function Mp(m,e){return{protocol:m.protocol,auth:m.auth,host:m.hostname,port:m.port,path:m.path,method:"GET",headers:e}}class Px extends CS{constructor(e){super(e);const i=s=>{if(s.statusCode===404){const d=new zl(`Missing PDF "${this._url}".`);this._storedError=d,this._headersCapability.reject(d);return}this._headersCapability.resolve(),this._setReadableStream(s);const r=d=>this._readableStream.headers[d.toLowerCase()],{allowRangeRequests:o,suggestedLength:u}=ob({getResponseHeader:r,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=u||this._contentLength,this._filename=cb(r)};if(this._request=null,this._url.protocol==="http:"){const s=rs.get("http");this._request=s.request(Mp(this._url,e.httpHeaders),i)}else{const s=rs.get("https");this._request=s.request(Mp(this._url,e.httpHeaders),i)}this._request.on("error",s=>{this._storedError=s,this._headersCapability.reject(s)}),this._request.end()}}class Hx extends xS{constructor(e,i,s){super(e),this._httpHeaders={};for(const o in e.httpHeaders){const u=e.httpHeaders[o];u!==void 0&&(this._httpHeaders[o]=u)}this._httpHeaders.Range=`bytes=${i}-${s-1}`;const r=o=>{if(o.statusCode===404){const u=new zl(`Missing PDF "${this._url}".`);this._storedError=u;return}this._setReadableStream(o)};if(this._request=null,this._url.protocol==="http:"){const o=rs.get("http");this._request=o.request(Mp(this._url,this._httpHeaders),r)}else{const o=rs.get("https");this._request=o.request(Mp(this._url,this._httpHeaders),r)}this._request.on("error",o=>{this._storedError=o}),this._request.end()}}class zx extends CS{constructor(e){super(e);let i=decodeURIComponent(this._url.path);wS.test(this._url.href)&&(i=i.replace(/^\//,""));const s=rs.get("fs");s.promises.lstat(i).then(r=>{this._contentLength=r.size,this._setReadableStream(s.createReadStream(i)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=new zl(`Missing PDF "${i}".`)),this._storedError=r,this._headersCapability.reject(r)})}}class Fx extends xS{constructor(e,i,s){super(e);let r=decodeURIComponent(this._url.path);wS.test(this._url.href)&&(r=r.replace(/^\//,""));const o=rs.get("fs");this._setReadableStream(o.createReadStream(r,{start:i,end:s-1}))}}const Ux=1e5,Ai=30,Bx=.8;var NE,Ga,Ei,Ph,Hh,tl,js,zh,Fh,el,Wo,Zo,qa,Jo,Uh,tc,il,Bh,jh,ke,nl,sl,Va,ec,la,RS,MS,f0,as,lp,DS,LS;let Dp=(ke=class{constructor({textContentSource:e,container:i,viewport:s}){w(this,la);w(this,Ga,Promise.withResolvers());w(this,Ei,null);w(this,Ph,!1);w(this,Hh,!!((NE=globalThis.FontInspector)!=null&&NE.enabled));w(this,tl,null);w(this,js,null);w(this,zh,0);w(this,Fh,0);w(this,el,null);w(this,Wo,null);w(this,Zo,0);w(this,qa,0);w(this,Jo,Object.create(null));w(this,Uh,[]);w(this,tc,null);w(this,il,[]);w(this,Bh,new WeakMap);w(this,jh,null);var f;if(e instanceof ReadableStream)S(this,tc,e);else if(typeof e=="object")S(this,tc,new ReadableStream({start(p){p.enqueue(e),p.close()}}));else throw new Error('No "textContentSource" parameter specified.');S(this,Ei,S(this,Wo,i)),S(this,qa,s.scale*(globalThis.devicePixelRatio||1)),S(this,Zo,s.rotation),S(this,js,{prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:o,pageX:u,pageY:d}=s.rawDims;S(this,jh,[1,0,0,-1,-u,d+o]),S(this,Fh,r),S(this,zh,o),T(f=ke,as,DS).call(f),Ll(i,s),c(this,Ga).promise.catch(()=>{}).then(()=>{c(ke,ec).delete(this),S(this,js,null),S(this,Jo,null)})}render(){const e=()=>{c(this,el).read().then(({value:i,done:s})=>{if(s){c(this,Ga).resolve();return}c(this,tl)??S(this,tl,i.lang),Object.assign(c(this,Jo),i.styles),T(this,la,RS).call(this,i.items),e()},c(this,Ga).reject)};return S(this,el,c(this,tc).getReader()),c(ke,ec).add(this),e(),c(this,Ga).promise}update({viewport:e,onBefore:i=null}){var o;const s=e.scale*(globalThis.devicePixelRatio||1),r=e.rotation;if(r!==c(this,Zo)&&(i==null||i(),S(this,Zo,r),Ll(c(this,Wo),{rotation:r})),s!==c(this,qa)){i==null||i(),S(this,qa,s);const u={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:T(o=ke,as,lp).call(o,c(this,tl))};for(const d of c(this,il))u.properties=c(this,Bh).get(d),u.div=d,T(this,la,f0).call(this,u)}}cancel(){var i;const e=new Fl("TextLayer task cancelled.");(i=c(this,el))==null||i.cancel(e).catch(()=>{}),S(this,el,null),c(this,Ga).reject(e)}get textDivs(){return c(this,il)}get textContentItemsStr(){return c(this,Uh)}static cleanup(){if(!(c(this,ec).size>0)){c(this,nl).clear();for(const{canvas:e}of c(this,sl).values())e.remove();c(this,sl).clear()}}},Ga=new WeakMap,Ei=new WeakMap,Ph=new WeakMap,Hh=new WeakMap,tl=new WeakMap,js=new WeakMap,zh=new WeakMap,Fh=new WeakMap,el=new WeakMap,Wo=new WeakMap,Zo=new WeakMap,qa=new WeakMap,Jo=new WeakMap,Uh=new WeakMap,tc=new WeakMap,il=new WeakMap,Bh=new WeakMap,jh=new WeakMap,nl=new WeakMap,sl=new WeakMap,Va=new WeakMap,ec=new WeakMap,la=new WeakSet,RS=function(e){var r,o;if(c(this,Ph))return;(o=c(this,js)).ctx??(o.ctx=T(r=ke,as,lp).call(r,c(this,tl)));const i=c(this,il),s=c(this,Uh);for(const u of e){if(i.length>Ux){Lt("Ignoring additional textDivs for performance reasons."),S(this,Ph,!0);return}if(u.str===void 0){if(u.type==="beginMarkedContentProps"||u.type==="beginMarkedContent"){const d=c(this,Ei);S(this,Ei,document.createElement("span")),c(this,Ei).classList.add("markedContent"),u.id!==null&&c(this,Ei).setAttribute("id",`${u.id}`),d.append(c(this,Ei))}else u.type==="endMarkedContent"&&S(this,Ei,c(this,Ei).parentNode);continue}s.push(u.str),T(this,la,MS).call(this,u)}},MS=function(e){var x;const i=document.createElement("span"),s={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};c(this,il).push(i);const r=ut.transform(c(this,jh),e.transform);let o=Math.atan2(r[1],r[0]);const u=c(this,Jo)[e.fontName];u.vertical&&(o+=Math.PI/2);const d=c(this,Hh)&&u.fontSubstitution||u.fontFamily,f=Math.hypot(r[2],r[3]),p=f*T(x=ke,as,LS).call(x,d,c(this,tl));let v,b;o===0?(v=r[4],b=r[5]-p):(v=r[4]+p*Math.sin(o),b=r[5]-p*Math.cos(o));const y="calc(var(--scale-factor)*",_=i.style;c(this,Ei)===c(this,Wo)?(_.left=`${(100*v/c(this,Fh)).toFixed(2)}%`,_.top=`${(100*b/c(this,zh)).toFixed(2)}%`):(_.left=`${y}${v.toFixed(2)}px)`,_.top=`${y}${b.toFixed(2)}px)`),_.fontSize=`${y}${(c(ke,Va)*f).toFixed(2)}px)`,_.fontFamily=d,s.fontSize=f,i.setAttribute("role","presentation"),i.textContent=e.str,i.dir=e.dir,c(this,Hh)&&(i.dataset.fontName=u.fontSubstitutionLoadedName||e.fontName),o!==0&&(s.angle=o*(180/Math.PI));let E=!1;if(e.str.length>1)E=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const D=Math.abs(e.transform[0]),R=Math.abs(e.transform[3]);D!==R&&Math.max(D,R)/Math.min(D,R)>1.5&&(E=!0)}if(E&&(s.canvasWidth=u.vertical?e.height:e.width),c(this,Bh).set(i,s),c(this,js).div=i,c(this,js).properties=s,T(this,la,f0).call(this,c(this,js)),s.hasText&&c(this,Ei).append(i),s.hasEOL){const D=document.createElement("br");D.setAttribute("role","presentation"),c(this,Ei).append(D)}},f0=function(e){const{div:i,properties:s,ctx:r,prevFontSize:o,prevFontFamily:u}=e,{style:d}=i;let f="";if(c(ke,Va)>1&&(f=`scale(${1/c(ke,Va)})`),s.canvasWidth!==0&&s.hasText){const{fontFamily:p}=d,{canvasWidth:v,fontSize:b}=s;(o!==b||u!==p)&&(r.font=`${b*c(this,qa)}px ${p}`,e.prevFontSize=b,e.prevFontFamily=p);const{width:y}=r.measureText(i.textContent);y>0&&(f=`scaleX(${v*c(this,qa)/y}) ${f}`)}s.angle!==0&&(f=`rotate(${s.angle}deg) ${f}`),f.length>0&&(d.transform=f)},as=new WeakSet,lp=function(e=null){let i=c(this,sl).get(e||(e=""));if(!i){const s=document.createElement("canvas");s.className="hiddenCanvasElement",s.lang=e,document.body.append(s),i=s.getContext("2d",{alpha:!1,willReadFrequently:!0}),c(this,sl).set(e,i)}return i},DS=function(){if(c(this,Va)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.textContent="X",document.body.append(e),S(this,Va,e.getBoundingClientRect().height),e.remove()},LS=function(e,i){const s=c(this,nl).get(e);if(s)return s;const r=T(this,as,lp).call(this,i),o=r.font;r.canvas.width=r.canvas.height=Ai,r.font=`${Ai}px ${e}`;const u=r.measureText("");let d=u.fontBoundingBoxAscent,f=Math.abs(u.fontBoundingBoxDescent);if(d){const b=d/(d+f);return c(this,nl).set(e,b),r.canvas.width=r.canvas.height=0,r.font=o,b}r.strokeStyle="red",r.clearRect(0,0,Ai,Ai),r.strokeText("g",0,0);let p=r.getImageData(0,0,Ai,Ai).data;f=0;for(let b=p.length-1-3;b>=0;b-=4)if(p[b]>0){f=Math.ceil(b/4/Ai);break}r.clearRect(0,0,Ai,Ai),r.strokeText("A",0,Ai),p=r.getImageData(0,0,Ai,Ai).data,d=0;for(let b=0,y=p.length;b<y;b+=4)if(p[b]>0){d=Ai-Math.floor(b/4/Ai);break}r.canvas.width=r.canvas.height=0,r.font=o;const v=d?d/(d+f):Bx;return c(this,nl).set(e,v),v},w(ke,as),w(ke,nl,new Map),w(ke,sl,new Map),w(ke,Va,null),w(ke,ec,new Set),ke);function jx(){GE("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:m,container:e,viewport:i,...s}=arguments[0],r=Object.keys(s);r.length>0&&Lt("Ignoring `renderTextLayer` parameters: "+r.join(", "));const o=new Dp({textContentSource:m,container:e,viewport:i}),{textDivs:u,textContentItemsStr:d}=o;return{promise:o.render(),textDivs:u,textContentItemsStr:d}}function Ix(){GE("`updateTextLayer`, please use `TextLayer` instead.")}class Zu{static textContent(e){const i=[],s={items:i,styles:Object.create(null)};function r(o){var f;if(!o)return;let u=null;const d=o.name;if(d==="#text")u=o.value;else if(Zu.shouldBuildText(d))(f=o==null?void 0:o.attributes)!=null&&f.textContent?u=o.attributes.textContent:o.value&&(u=o.value);else return;if(u!==null&&i.push({str:u}),!!o.children)for(const p of o.children)r(p)}return r(e),s}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const Gx=65536,qx=100,Vx=5e3,Xx=oi?nx:qC,Yx=oi?sx:jE,Kx=oi?ix:GC,Qx=oi?ax:IE;function $x(m={}){typeof m=="string"||m instanceof URL?m={url:m}:(m instanceof ArrayBuffer||ArrayBuffer.isView(m))&&(m={data:m});const e=new p0,{docId:i}=e,s=m.url?Wx(m.url):null,r=m.data?Zx(m.data):null,o=m.httpHeaders||null,u=m.withCredentials===!0,d=m.password??null,f=m.range instanceof OS?m.range:null,p=Number.isInteger(m.rangeChunkSize)&&m.rangeChunkSize>0?m.rangeChunkSize:Gx;let v=m.worker instanceof Oo?m.worker:null;const b=m.verbosity,y=typeof m.docBaseUrl=="string"&&!sb(m.docBaseUrl)?m.docBaseUrl:null,_=typeof m.cMapUrl=="string"?m.cMapUrl:null,E=m.cMapPacked!==!1,x=m.CMapReaderFactory||Yx,D=typeof m.standardFontDataUrl=="string"?m.standardFontDataUrl:null,R=m.StandardFontDataFactory||Qx,N=m.stopAtErrors!==!0,z=Number.isInteger(m.maxImageSize)&&m.maxImageSize>-1?m.maxImageSize:-1,B=m.isEvalSupported!==!1,U=typeof m.isOffscreenCanvasSupported=="boolean"?m.isOffscreenCanvasSupported:!oi,j=Number.isInteger(m.canvasMaxAreaInBytes)?m.canvasMaxAreaInBytes:-1,W=typeof m.disableFontFace=="boolean"?m.disableFontFace:oi,Z=m.fontExtraProperties===!0,q=m.enableXfa===!0,J=m.ownerDocument||globalThis.document,et=m.disableRange===!0,Tt=m.disableStream===!0,gt=m.disableAutoFetch===!0,ht=m.pdfBug===!0,mt=m.enableHWA===!0,Y=f?f.length:m.length??NaN,X=typeof m.useSystemFonts=="boolean"?m.useSystemFonts:!oi&&!W,$=typeof m.useWorkerFetch=="boolean"?m.useWorkerFetch:x===jE&&R===IE&&_&&D&&zu(_,document.baseURI)&&zu(D,document.baseURI),Rt=m.canvasFactory||new Xx({ownerDocument:J,enableHWA:mt}),L=m.filterFactory||new Kx({docId:i,ownerDocument:J}),Q=null;OC(b);const at={canvasFactory:Rt,filterFactory:L};if($||(at.cMapReaderFactory=new x({baseUrl:_,isCompressed:E}),at.standardFontDataFactory=new R({baseUrl:D})),!v){const bt={verbosity:b,port:na.workerPort};v=bt.port?Oo.fromPort(bt):new Oo(bt),e._worker=v}const it={docId:i,apiVersion:"4.4.168",data:r,password:d,disableAutoFetch:gt,rangeChunkSize:p,length:Y,docBaseUrl:y,enableXfa:q,evaluatorOptions:{maxImageSize:z,disableFontFace:W,ignoreErrors:N,isEvalSupported:B,isOffscreenCanvasSupported:U,canvasMaxAreaInBytes:j,fontExtraProperties:Z,useSystemFonts:X,cMapUrl:$?_:null,standardFontDataUrl:$?D:null}},tt={disableFontFace:W,fontExtraProperties:Z,ownerDocument:J,pdfBug:ht,styleElement:Q,loadingParams:{disableAutoFetch:gt,enableXfa:q}};return v.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(v.destroyed)throw new Error("Worker was destroyed");const bt=v.messageHandler.sendWithPromise("GetDocRequest",it,r?[r.buffer]:null);let ft;if(f)ft=new Ex(f,{disableRange:et,disableStream:Tt});else if(!r){if(!s)throw new Error("getDocument - no `url` parameter provided.");ft=(_t=>oi?function(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype}()&&zu(_t.url)?new AE(_t):new Nx(_t):zu(_t.url)?new AE(_t):new Dx(_t))({url:s,length:Y,httpHeaders:o,withCredentials:u,rangeChunkSize:p,disableRange:et,disableStream:Tt})}return bt.then(Ct=>{if(e.destroyed)throw new Error("Loading aborted");if(v.destroyed)throw new Error("Worker was destroyed");const _t=new Bu(i,Ct,v.port),Vt=new iR(_t,e,ft,tt,at);e._transport=Vt,_t.send("Ready",null)})}).catch(e._capability.reject),e}function Wx(m){if(m instanceof URL)return m.href;try{return new URL(m,window.location).href}catch{if(oi&&typeof m=="string")return m}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function Zx(m){if(oi&&typeof Buffer<"u"&&m instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(m instanceof Uint8Array&&m.byteLength===m.buffer.byteLength)return m;if(typeof m=="string")return ng(m);if(m instanceof ArrayBuffer||ArrayBuffer.isView(m)||typeof m=="object"&&!isNaN(m==null?void 0:m.length))return new Uint8Array(m);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function _E(m){return typeof m=="object"&&Number.isInteger(m==null?void 0:m.num)&&m.num>=0&&Number.isInteger(m==null?void 0:m.gen)&&m.gen>=0}var Vp;const Xp=class Xp{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${Ni(Xp,Vp)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,i,s;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((i=this._transport)==null?void 0:i.destroy())}catch(r){throw(s=this._worker)!=null&&s.port&&delete this._worker._pendingDestroy,r}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};Vp=new WeakMap,w(Xp,Vp,0);let p0=Xp,OS=class{constructor(e,i,s=!1,r=null){this.length=e,this.initialData=i,this.progressiveDone=s,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,i){for(const s of this._rangeListeners)s(e,i)}onDataProgress(e,i){this._readyCapability.promise.then(()=>{for(const s of this._progressListeners)s(e,i)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const i of this._progressiveReadListeners)i(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,i){Zt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class Jx{constructor(e,i){this._pdfInfo=e,this._transport=i}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return jt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:i}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(i)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Xa,Is,dn,xo,op;class tR{constructor(e,i,s,r=!1){w(this,dn);w(this,Xa,null);w(this,Is,!1);this._pageIndex=e,this._pageInfo=i,this._transport=s,this._stats=r?new lE:null,this._pdfBug=r,this.commonObjs=s.commonObjs,this.objs=new kS,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:i=this.rotate,offsetX:s=0,offsetY:r=0,dontFlip:o=!1}={}){return new Ld({viewBox:this.view,scale:e,rotation:i,offsetX:s,offsetY:r,dontFlip:o})}getAnnotations({intent:e="display"}={}){const{renderingIntent:i}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,i)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return jt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:i,intent:s="display",annotationMode:r=Ha.ENABLE,transform:o=null,background:u=null,optionalContentConfigPromise:d=null,annotationCanvasMap:f=null,pageColors:p=null,printAnnotationStorage:v=null}){var z,B;(z=this._stats)==null||z.time("Overall");const b=this._transport.getRenderingIntent(s,r,v),{renderingIntent:y,cacheKey:_}=b;S(this,Is,!1),T(this,dn,op).call(this),d||(d=this._transport.getOptionalContentConfig(y));let E=this._intentStates.get(_);E||(E=Object.create(null),this._intentStates.set(_,E)),E.streamReaderCancelTimeout&&(clearTimeout(E.streamReaderCancelTimeout),E.streamReaderCancelTimeout=null);const x=!!(y&hn.PRINT);E.displayReadyCapability||(E.displayReadyCapability=Promise.withResolvers(),E.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(B=this._stats)==null||B.time("Page Request"),this._pumpOperatorList(b));const D=U=>{var j;E.renderTasks.delete(R),(this._maybeCleanupAfterRender||x)&&S(this,Is,!0),T(this,dn,xo).call(this,!x),U?(R.capability.reject(U),this._abortOperatorList({intentState:E,reason:U instanceof Error?U:new Error(U)})):R.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(j=globalThis.Stats)!=null&&j.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},R=new m0({callback:D,params:{canvasContext:e,viewport:i,transform:o,background:u},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:f,operatorList:E.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!x,pdfBug:this._pdfBug,pageColors:p});(E.renderTasks||(E.renderTasks=new Set)).add(R);const N=R.task;return Promise.all([E.displayReadyCapability.promise,d]).then(([U,j])=>{var W;if(this.destroyed){D();return}if((W=this._stats)==null||W.time("Rendering"),!(j.renderingIntent&y))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");R.initializeGraphics({transparency:U,optionalContentConfig:j}),R.operatorListChanged()}).catch(D),N}getOperatorList({intent:e="display",annotationMode:i=Ha.ENABLE,printAnnotationStorage:s=null}={}){var f;function r(){u.operatorList.lastChunk&&(u.opListReadCapability.resolve(u.operatorList),u.renderTasks.delete(d))}const o=this._transport.getRenderingIntent(e,i,s,!0);let u=this._intentStates.get(o.cacheKey);u||(u=Object.create(null),this._intentStates.set(o.cacheKey,u));let d;return u.opListReadCapability||(d=Object.create(null),d.operatorListChanged=r,u.opListReadCapability=Promise.withResolvers(),(u.renderTasks||(u.renderTasks=new Set)).add(d),u.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(f=this._stats)==null||f.time("Page Request"),this._pumpOperatorList(o)),u.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:i=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:i===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(s=>Zu.textContent(s));const i=this.streamTextContent(e);return new Promise(function(s,r){function o(){u.read().then(function({value:f,done:p}){if(p){s(d);return}d.lang??(d.lang=f.lang),Object.assign(d.styles,f.styles),d.items.push(...f.items),o()},r)}const u=i.getReader(),d={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const i of this._intentStates.values())if(this._abortOperatorList({intentState:i,reason:new Error("Page was destroyed."),force:!0}),!i.opListReadCapability)for(const s of i.renderTasks)e.push(s.completed),s.cancel();return this.objs.clear(),S(this,Is,!1),T(this,dn,op).call(this),Promise.all(e)}cleanup(e=!1){S(this,Is,!0);const i=T(this,dn,xo).call(this,!1);return e&&i&&this._stats&&(this._stats=new lE),i}_startRenderPage(e,i){var r,o;const s=this._intentStates.get(i);s&&((r=this._stats)==null||r.timeEnd("Page Request"),(o=s.displayReadyCapability)==null||o.resolve(e))}_renderPageChunk(e,i){for(let s=0,r=e.length;s<r;s++)i.operatorList.fnArray.push(e.fnArray[s]),i.operatorList.argsArray.push(e.argsArray[s]);i.operatorList.lastChunk=e.lastChunk,i.operatorList.separateAnnots=e.separateAnnots;for(const s of i.renderTasks)s.operatorListChanged();e.lastChunk&&T(this,dn,xo).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:i,annotationStorageSerializable:s}){const{map:r,transfer:o}=s,d=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:i,annotationStorage:r},o).getReader(),f=this._intentStates.get(i);f.streamReader=d;const p=()=>{d.read().then(({value:v,done:b})=>{if(b){f.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(v,f),p())},v=>{if(f.streamReader=null,!this._transport.destroyed){if(f.operatorList){f.operatorList.lastChunk=!0;for(const b of f.renderTasks)b.operatorListChanged();T(this,dn,xo).call(this,!0)}if(f.displayReadyCapability)f.displayReadyCapability.reject(v);else if(f.opListReadCapability)f.opListReadCapability.reject(v);else throw v}})};p()}_abortOperatorList({intentState:e,reason:i,force:s=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!s){if(e.renderTasks.size>0)return;if(i instanceof nb){let r=qx;i.extraDelay>0&&i.extraDelay<1e3&&(r+=i.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:i,force:!0})},r);return}}if(e.streamReader.cancel(new Fl(i.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[r,o]of this._intentStates)if(o===e){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}Xa=new WeakMap,Is=new WeakMap,dn=new WeakSet,xo=function(e=!1){if(T(this,dn,op).call(this),!c(this,Is)||this.destroyed)return!1;if(e)return S(this,Xa,setTimeout(()=>{S(this,Xa,null),T(this,dn,xo).call(this,!1)},Vx)),!1;for(const{renderTasks:i,operatorList:s}of this._intentStates.values())if(i.size>0||!s.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),S(this,Is,!1),!0},op=function(){c(this,Xa)&&(clearTimeout(c(this,Xa)),S(this,Xa,null))};var al,Yp;class eR{constructor(){w(this,al,new Set);w(this,Yp,Promise.resolve())}postMessage(e,i){const s={data:structuredClone(e,i?{transfer:i}:null)};c(this,Yp).then(()=>{for(const r of c(this,al))r.call(this,s)})}addEventListener(e,i){c(this,al).add(i)}removeEventListener(e,i){c(this,al).delete(i)}terminate(){c(this,al).clear()}}al=new WeakMap,Yp=new WeakMap;const Os={isWorkerDisabled:!1,fakeWorkerId:0};oi&&(Os.isWorkerDisabled=!0,na.workerSrc||(na.workerSrc="./pdf.worker.mjs")),Os.isSameOrigin=function(m,e){let i;try{if(i=new URL(m),!i.origin||i.origin==="null")return!1}catch{return!1}const s=new URL(e,i);return i.origin===s.origin},Os.createCDNWrapper=function(m){const e=`await import("${m}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};var rl,ic,cp,nc,up;const Hi=class Hi{constructor({name:e=null,port:i=null,verbosity:s=kC()}={}){w(this,ic);var r;if(this.name=e,this.destroyed=!1,this.verbosity=s,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,i){if((r=c(Hi,rl))!=null&&r.has(i))throw new Error("Cannot use more than one PDFWorker per port.");(c(Hi,rl)||S(Hi,rl,new WeakMap)).set(i,this),this._initializeFromPort(i);return}this._initialize()}get promise(){return oi?Promise.all([rs.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new Bu("main","worker",e),this._messageHandler.on("ready",function(){}),T(this,ic,cp).call(this)}_initialize(){if(Os.isWorkerDisabled||c(Hi,nc,up)){this._setupFakeWorker();return}let{workerSrc:e}=Hi;try{Os.isSameOrigin(window.location.href,e)||(e=Os.createCDNWrapper(new URL(e,window.location).href));const i=new Worker(e,{type:"module"}),s=new Bu("main","worker",i),r=()=>{o.abort(),s.destroy(),i.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},o=new AbortController;i.addEventListener("error",()=>{this._webWorker||r()},{signal:o.signal}),s.on("test",d=>{if(o.abort(),this.destroyed||!d){r();return}this._messageHandler=s,this._port=i,this._webWorker=i,T(this,ic,cp).call(this)}),s.on("ready",d=>{if(o.abort(),this.destroyed){r();return}try{u()}catch{this._setupFakeWorker()}});const u=()=>{const d=new Uint8Array;s.send("test",d,[d.buffer])};u();return}catch{eg("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){Os.isWorkerDisabled||(Lt("Setting up fake worker."),Os.isWorkerDisabled=!0),Hi._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const i=new eR;this._port=i;const s=`fake${Os.fakeWorkerId++}`,r=new Bu(s+"_worker",s,i);e.setup(r,i),this._messageHandler=new Bu(s,s+"_worker",i),T(this,ic,cp).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=c(Hi,rl))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var s;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const i=(s=c(this,rl))==null?void 0:s.get(e.port);if(i){if(i._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return i}return new Hi(e)}static get workerSrc(){if(na.workerSrc)return na.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return jt(this,"_setupFakeWorkerGlobal",(async()=>c(this,nc,up)?c(this,nc,up):(await import(this.workerSrc)).WorkerMessageHandler)())}};rl=new WeakMap,ic=new WeakSet,cp=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},nc=new WeakSet,up=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},w(Hi,nc),w(Hi,rl);let Oo=Hi;var Gs,Kn,sc,ac,Qn,ll,ju;class iR{constructor(e,i,s,r,o){w(this,ll);w(this,Gs,new Map);w(this,Kn,new Map);w(this,sc,new Map);w(this,ac,new Map);w(this,Qn,null);this.messageHandler=e,this.loadingTask=i,this.commonObjs=new kS,this.fontLoader=new tx({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=s,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return jt(this,"annotationStorage",new lb)}getRenderingIntent(e,i=Ha.ENABLE,s=null,r=!1){let o=hn.DISPLAY,u=r0;switch(e){case"any":o=hn.ANY;break;case"display":break;case"print":o=hn.PRINT;break;default:Lt(`getRenderingIntent - invalid intent: ${e}`)}switch(i){case Ha.DISABLE:o+=hn.ANNOTATIONS_DISABLE;break;case Ha.ENABLE:break;case Ha.ENABLE_FORMS:o+=hn.ANNOTATIONS_FORMS;break;case Ha.ENABLE_STORAGE:o+=hn.ANNOTATIONS_STORAGE,u=(o&hn.PRINT&&s instanceof vS?s:this.annotationStorage).serializable;break;default:Lt(`getRenderingIntent - invalid annotationMode: ${i}`)}return r&&(o+=hn.OPLIST),{renderingIntent:o,cacheKey:`${o}_${u.hash}`,annotationStorageSerializable:u}}destroy(){var s;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(s=c(this,Qn))==null||s.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const r of c(this,Kn).values())e.push(r._destroy());c(this,Kn).clear(),c(this,sc).clear(),c(this,ac).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const i=this.messageHandler.sendWithPromise("Terminate",null);return e.push(i),Promise.all(e).then(()=>{var r;this.commonObjs.clear(),this.fontLoader.clear(),c(this,Gs).clear(),this.filterFactory.destroy(),Dp.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new Fl("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:i}=this;e.on("GetReader",(s,r)=>{Ne(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},r.onPull=()=>{this._fullReader.read().then(function({value:o,done:u}){if(u){r.close();return}Ne(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{r.error(o)})},r.onCancel=o=>{this._fullReader.cancel(o),r.ready.catch(u=>{if(!this.destroyed)throw u})}}),e.on("ReaderHeadersReady",s=>{const r=Promise.withResolvers(),o=this._fullReader;return o.headersReady.then(()=>{var u;(!o.isStreamingSupported||!o.isRangeSupported)&&(this._lastProgress&&((u=i.onProgress)==null||u.call(i,this._lastProgress)),o.onProgress=d=>{var f;(f=i.onProgress)==null||f.call(i,{loaded:d.loaded,total:d.total})}),r.resolve({isStreamingSupported:o.isStreamingSupported,isRangeSupported:o.isRangeSupported,contentLength:o.contentLength})},r.reject),r.promise}),e.on("GetRangeReader",(s,r)=>{Ne(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const o=this._networkStream.getRangeReader(s.begin,s.end);if(!o){r.close();return}r.onPull=()=>{o.read().then(function({value:u,done:d}){if(d){r.close();return}Ne(u instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(u),1,[u])}).catch(u=>{r.error(u)})},r.onCancel=u=>{o.cancel(u),r.ready.catch(d=>{if(!this.destroyed)throw d})}}),e.on("GetDoc",({pdfInfo:s})=>{this._numPages=s.numPages,this._htmlForXfa=s.htmlForXfa,delete s.htmlForXfa,i._capability.resolve(new Jx(s,this))}),e.on("DocException",function(s){let r;switch(s.name){case"PasswordException":r=new zv(s.message,s.code);break;case"InvalidPDFException":r=new zE(s.message);break;case"MissingPDFException":r=new zl(s.message);break;case"UnexpectedResponseException":r=new ig(s.message,s.status);break;case"UnknownErrorException":r=new Fv(s.message,s.details);break;default:Zt("DocException - expected a valid Error.")}i._capability.reject(r)}),e.on("PasswordRequest",s=>{if(S(this,Qn,Promise.withResolvers()),i.onPassword){const r=o=>{o instanceof Error?c(this,Qn).reject(o):c(this,Qn).resolve({password:o})};try{i.onPassword(r,s.code)}catch(o){c(this,Qn).reject(o)}}else c(this,Qn).reject(new zv(s.message,s.code));return c(this,Qn).promise}),e.on("DataLoaded",s=>{var r;(r=i.onProgress)==null||r.call(i,{loaded:s.length,total:s.length}),this.downloadInfoCapability.resolve(s)}),e.on("StartRenderPage",s=>{if(this.destroyed)return;c(this,Kn).get(s.pageIndex)._startRenderPage(s.transparency,s.cacheKey)}),e.on("commonobj",([s,r,o])=>{var u;if(this.destroyed||this.commonObjs.has(s))return null;switch(r){case"Font":const{disableFontFace:d,fontExtraProperties:f,pdfBug:p}=this._params;if("error"in o){const _=o.error;Lt(`Error during font loading: ${_}`),this.commonObjs.resolve(s,_);break}const v=p&&((u=globalThis.FontInspector)!=null&&u.enabled)?(_,E)=>globalThis.FontInspector.fontAdded(_,E):null,b=new ex(o,{disableFontFace:d,inspectFont:v});this.fontLoader.bind(b).catch(()=>e.sendWithPromise("FontFallback",{id:s})).finally(()=>{!f&&b.data&&(b.data=null),this.commonObjs.resolve(s,b)});break;case"CopyLocalImage":const{imageRef:y}=o;Ne(y,"The imageRef must be defined.");for(const _ of c(this,Kn).values())for(const[,E]of _.objs)if((E==null?void 0:E.ref)===y)return E.dataLen?(this.commonObjs.resolve(s,structuredClone(E)),E.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(s,o);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),e.on("obj",([s,r,o,u])=>{var f;if(this.destroyed)return;const d=c(this,Kn).get(r);if(!d.objs.has(s)){if(d._intentStates.size===0){(f=u==null?void 0:u.bitmap)==null||f.close();return}switch(o){case"Image":d.objs.resolve(s,u),(u==null?void 0:u.dataLen)>RC&&(d._maybeCleanupAfterRender=!0);break;case"Pattern":d.objs.resolve(s,u);break;default:throw new Error(`Got unknown object type ${o}`)}}}),e.on("DocProgress",s=>{var r;this.destroyed||(r=i.onProgress)==null||r.call(i,{loaded:s.loaded,total:s.total})}),e.on("FetchBuiltInCMap",s=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(s):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),e.on("FetchStandardFontData",s=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(s):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var s;this.annotationStorage.size<=0&&Lt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:i}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((s=this._fullReader)==null?void 0:s.filename)??null},i).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const i=e-1,s=c(this,sc).get(i);if(s)return s;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:i}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&c(this,ac).set(o.refStr,e);const u=new tR(i,o,this,this._params.pdfBug);return c(this,Kn).set(i,u),u});return c(this,sc).set(i,r),r}getPageIndex(e){return _E(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,i){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:i})}getFieldObjects(){return T(this,ll,ju).call(this,"GetFieldObjects")}hasJSActions(){return T(this,ll,ju).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return T(this,ll,ju).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return T(this,ll,ju).call(this,"GetOptionalContentConfig").then(i=>new _x(i,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",i=c(this,Gs).get(e);if(i)return i;const s=this.messageHandler.sendWithPromise(e,null).then(r=>{var o,u;return{info:r[0],metadata:r[1]?new yx(r[1]):null,contentDispositionFilename:((o=this._fullReader)==null?void 0:o.filename)??null,contentLength:((u=this._fullReader)==null?void 0:u.contentLength)??null}});return c(this,Gs).set(e,s),s}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const i of c(this,Kn).values())if(!i.cleanup())throw new Error(`startCleanup: Page ${i.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),c(this,Gs).clear(),this.filterFactory.destroy(!0),Dp.cleanup()}}cachedPageNumber(e){if(!_E(e))return null;const i=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return c(this,ac).get(i)??null}}Gs=new WeakMap,Kn=new WeakMap,sc=new WeakMap,ac=new WeakMap,Qn=new WeakMap,ll=new WeakSet,ju=function(e,i=null){const s=c(this,Gs).get(e);if(s)return s;const r=this.messageHandler.sendWithPromise(e,i);return c(this,Gs).set(e,r),r};const Zf=Symbol("INITIAL_DATA");var Cn,Ih,g0;class kS{constructor(){w(this,Ih);w(this,Cn,Object.create(null))}get(e,i=null){if(i){const r=T(this,Ih,g0).call(this,e);return r.promise.then(()=>i(r.data)),null}const s=c(this,Cn)[e];if(!s||s.data===Zf)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return s.data}has(e){const i=c(this,Cn)[e];return!!i&&i.data!==Zf}resolve(e,i=null){const s=T(this,Ih,g0).call(this,e);s.data=i,s.resolve()}clear(){var e;for(const i in c(this,Cn)){const{data:s}=c(this,Cn)[i];(e=s==null?void 0:s.bitmap)==null||e.close()}S(this,Cn,Object.create(null))}*[Symbol.iterator](){for(const e in c(this,Cn)){const{data:i}=c(this,Cn)[e];i!==Zf&&(yield[e,i])}}}Cn=new WeakMap,Ih=new WeakSet,g0=function(e){var i;return(i=c(this,Cn))[e]||(i[e]={...Promise.withResolvers(),data:Zf})};var Ya;class nR{constructor(e){w(this,Ya,null);S(this,Ya,e),this.onContinue=null}get promise(){return c(this,Ya).capability.promise}cancel(e=0){c(this,Ya).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=c(this,Ya).operatorList;if(!e)return!1;const{annotationCanvasMap:i}=c(this,Ya);return e.form||e.canvas&&(i==null?void 0:i.size)>0}}Ya=new WeakMap;var Ka,ol;const Pr=class Pr{constructor({callback:e,params:i,objs:s,commonObjs:r,annotationCanvasMap:o,operatorList:u,pageIndex:d,canvasFactory:f,filterFactory:p,useRequestAnimationFrame:v=!1,pdfBug:b=!1,pageColors:y=null}){w(this,Ka,null);this.callback=e,this.params=i,this.objs=s,this.commonObjs=r,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=u,this._pageIndex=d,this.canvasFactory=f,this.filterFactory=p,this._pdfBug=b,this.pageColors=y,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=v===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new nR(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=i.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:i}){var d,f;if(this.cancelled)return;if(this._canvas){if(c(Pr,ol).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");c(Pr,ol).add(this._canvas)}this._pdfBug&&((d=globalThis.StepperManager)!=null&&d.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:s,viewport:r,transform:o,background:u}=this.params;this.gfx=new Lo(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:i},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:r,transparency:e,background:u}),this.operatorListIdx=0,this.graphicsReady=!0,(f=this.graphicsReadyCallback)==null||f.call(this)}cancel(e=null,i=0){var s;this.running=!1,this.cancelled=!0,(s=this.gfx)==null||s.endDrawing(),c(this,Ka)&&(window.cancelAnimationFrame(c(this,Ka)),S(this,Ka,null)),c(Pr,ol).delete(this._canvas),this.callback(e||new nb(`Rendering cancelled, page ${this._pageIndex+1}`,i))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?S(this,Ka,window.requestAnimationFrame(()=>{S(this,Ka,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),c(Pr,ol).delete(this._canvas),this.callback())))}};Ka=new WeakMap,ol=new WeakMap,w(Pr,ol,new WeakSet);let m0=Pr;const sR="4.4.168",aR="19fbc8998";function EE(m){return Math.floor(Math.max(0,Math.min(1,m))*255).toString(16).padStart(2,"0")}function ku(m){return Math.max(0,Math.min(255,255*m))}class SE{static CMYK_G([e,i,s,r]){return["G",1-Math.min(1,.3*e+.59*s+.11*i+r)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=ku(e),[e,e,e]}static G_HTML([e]){const i=EE(e);return`#${i}${i}${i}`}static RGB_G([e,i,s]){return["G",.3*e+.59*i+.11*s]}static RGB_rgb(e){return e.map(ku)}static RGB_HTML(e){return`#${e.map(EE).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,i,s,r]){return["RGB",1-Math.min(1,e+r),1-Math.min(1,s+r),1-Math.min(1,i+r)]}static CMYK_rgb([e,i,s,r]){return[ku(1-Math.min(1,e+r)),ku(1-Math.min(1,s+r)),ku(1-Math.min(1,i+r))]}static CMYK_HTML(e){const i=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(i)}static RGB_CMYK([e,i,s]){const r=1-e,o=1-i,u=1-s,d=Math.min(r,o,u);return["CMYK",r,o,u,d]}}class NS{static setupStorage(e,i,s,r,o){const u=r.getValue(i,{value:null});switch(s.name){case"textarea":if(u.value!==null&&(e.textContent=u.value),o==="print")break;e.addEventListener("input",d=>{r.setValue(i,{value:d.target.value})});break;case"input":if(s.attributes.type==="radio"||s.attributes.type==="checkbox"){if(u.value===s.attributes.xfaOn?e.setAttribute("checked",!0):u.value===s.attributes.xfaOff&&e.removeAttribute("checked"),o==="print")break;e.addEventListener("change",d=>{r.setValue(i,{value:d.target.checked?d.target.getAttribute("xfaOn"):d.target.getAttribute("xfaOff")})})}else{if(u.value!==null&&e.setAttribute("value",u.value),o==="print")break;e.addEventListener("input",d=>{r.setValue(i,{value:d.target.value})})}break;case"select":if(u.value!==null){e.setAttribute("value",u.value);for(const d of s.children)d.attributes.value===u.value?d.attributes.selected=!0:d.attributes.hasOwnProperty("selected")&&delete d.attributes.selected}e.addEventListener("input",d=>{const f=d.target.options,p=f.selectedIndex===-1?"":f[f.selectedIndex].value;r.setValue(i,{value:p})});break}}static setAttributes({html:e,element:i,storage:s=null,intent:r,linkService:o}){const{attributes:u}=i,d=e instanceof HTMLAnchorElement;u.type==="radio"&&(u.name=`${u.name}-${r}`);for(const[f,p]of Object.entries(u))if(p!=null)switch(f){case"class":p.length&&e.setAttribute(f,p.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",p);break;case"style":Object.assign(e.style,p);break;case"textContent":e.textContent=p;break;default:(!d||f!=="href"&&f!=="newWindow")&&e.setAttribute(f,p)}d&&o.addLinkAttributes(e,u.href,u.newWindow),s&&u.dataId&&this.setupStorage(e,u.dataId,i,s)}static render(e){var b,y;const i=e.annotationStorage,s=e.linkService,r=e.xfaHtml,o=e.intent||"display",u=document.createElement(r.name);r.attributes&&this.setAttributes({html:u,element:r,intent:o,linkService:s});const d=o!=="richText",f=e.div;if(f.append(u),e.viewport){const _=`matrix(${e.viewport.transform.join(",")})`;f.style.transform=_}d&&f.setAttribute("class","xfaLayer xfaFont");const p=[];if(r.children.length===0){if(r.value){const _=document.createTextNode(r.value);u.append(_),d&&Zu.shouldBuildText(r.name)&&p.push(_)}return{textDivs:p}}const v=[[r,-1,u]];for(;v.length>0;){const[_,E,x]=v.at(-1);if(E+1===_.children.length){v.pop();continue}const D=_.children[++v.at(-1)[1]];if(D===null)continue;const{name:R}=D;if(R==="#text"){const z=document.createTextNode(D.value);p.push(z),x.append(z);continue}const N=(b=D==null?void 0:D.attributes)!=null&&b.xmlns?document.createElementNS(D.attributes.xmlns,R):document.createElement(R);if(x.append(N),D.attributes&&this.setAttributes({html:N,element:D,storage:i,intent:o,linkService:s}),((y=D.children)==null?void 0:y.length)>0)v.push([D,-1,N]);else if(D.value){const z=document.createTextNode(D.value);d&&Zu.shouldBuildText(R)&&p.push(z),N.append(z)}}for(const _ of f.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))_.setAttribute("readOnly",!0);return{textDivs:p}}static update(e){const i=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=i,e.div.hidden=!1}}const Nd=1e3,rR=9,kl=new WeakSet;function sa(m){return{width:m[2]-m[0],height:m[3]-m[1]}}class lR{static create(e){switch(e.data.annotationType){case Re.LINK:return new PS(e);case Re.TEXT:return new oR(e);case Re.WIDGET:switch(e.data.fieldType){case"Tx":return new cR(e);case"Btn":return e.data.radioButton?new FS(e):e.data.checkBox?new hR(e):new dR(e);case"Ch":return new fR(e);case"Sig":return new uR(e)}return new Ul(e);case Re.POPUP:return new b0(e);case Re.FREETEXT:return new GS(e);case Re.LINE:return new gR(e);case Re.SQUARE:return new mR(e);case Re.CIRCLE:return new vR(e);case Re.POLYLINE:return new qS(e);case Re.CARET:return new yR(e);case Re.INK:return new VS(e);case Re.POLYGON:return new bR(e);case Re.HIGHLIGHT:return new AR(e);case Re.UNDERLINE:return new _R(e);case Re.SQUIGGLY:return new ER(e);case Re.STRIKEOUT:return new SR(e);case Re.STAMP:return new XS(e);case Re.FILEATTACHMENT:return new TR(e);default:return new Ae(e)}}}var cl,rc,lc,Gh,v0;const pb=class pb{constructor(e,{isRenderable:i=!1,ignoreBorder:s=!1,createQuadrilaterals:r=!1}={}){w(this,Gh);w(this,cl,null);w(this,rc,!1);w(this,lc,null);this.isRenderable=i,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,i&&(this.container=this._createContainer(s)),r&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:i,richText:s}){return!!(e!=null&&e.str||i!=null&&i.str||s!=null&&s.str)}get hasPopupData(){return pb._hasPopupData(this.data)}updateEdited(e){var s;if(!this.container)return;c(this,cl)||S(this,cl,{rect:this.data.rect.slice(0)});const{rect:i}=e;i&&T(this,Gh,v0).call(this,i),(s=c(this,lc))==null||s.popup.updateEdited(e)}resetEdited(){var e;c(this,cl)&&(T(this,Gh,v0).call(this,c(this,cl).rect),(e=c(this,lc))==null||e.popup.resetEdited(),S(this,cl,null))}_createContainer(e){const{data:i,parent:{page:s,viewport:r}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",i.id),this instanceof Ul||(o.tabIndex=Nd);const{style:u}=o;if(u.zIndex=this.parent.zIndex++,i.popupRef&&o.setAttribute("aria-haspopup","dialog"),i.alternativeText&&(o.title=i.alternativeText),i.noRotate&&o.classList.add("norotate"),!i.rect||this instanceof b0){const{rotation:x}=i;return!i.hasOwnCanvas&&x!==0&&this.setRotation(x,o),o}const{width:d,height:f}=sa(i.rect);if(!e&&i.borderStyle.width>0){u.borderWidth=`${i.borderStyle.width}px`;const x=i.borderStyle.horizontalCornerRadius,D=i.borderStyle.verticalCornerRadius;if(x>0||D>0){const N=`calc(${x}px * var(--scale-factor)) / calc(${D}px * var(--scale-factor))`;u.borderRadius=N}else if(this instanceof FS){const N=`calc(${d}px * var(--scale-factor)) / calc(${f}px * var(--scale-factor))`;u.borderRadius=N}switch(i.borderStyle.style){case Lu.SOLID:u.borderStyle="solid";break;case Lu.DASHED:u.borderStyle="dashed";break;case Lu.BEVELED:Lt("Unimplemented border style: beveled");break;case Lu.INSET:Lt("Unimplemented border style: inset");break;case Lu.UNDERLINE:u.borderBottomStyle="solid";break}const R=i.borderColor||null;R?(S(this,rc,!0),u.borderColor=ut.makeHexColor(R[0]|0,R[1]|0,R[2]|0)):u.borderWidth=0}const p=ut.normalizeRect([i.rect[0],s.view[3]-i.rect[1]+s.view[1],i.rect[2],s.view[3]-i.rect[3]+s.view[1]]),{pageWidth:v,pageHeight:b,pageX:y,pageY:_}=r.rawDims;u.left=`${100*(p[0]-y)/v}%`,u.top=`${100*(p[1]-_)/b}%`;const{rotation:E}=i;return i.hasOwnCanvas||E===0?(u.width=`${100*d/v}%`,u.height=`${100*f/b}%`):this.setRotation(E,o),o}setRotation(e,i=this.container){if(!this.data.rect)return;const{pageWidth:s,pageHeight:r}=this.parent.viewport.rawDims,{width:o,height:u}=sa(this.data.rect);let d,f;e%180===0?(d=100*o/s,f=100*u/r):(d=100*u/s,f=100*o/r),i.style.width=`${d}%`,i.style.height=`${f}%`,i.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(i,s,r)=>{const o=r.detail[i],u=o[0],d=o.slice(1);r.target.style[s]=SE[`${u}_HTML`](d),this.annotationStorage.setValue(this.data.id,{[s]:SE[`${u}_rgb`](d)})};return jt(this,"_commonActions",{display:i=>{const{display:s}=i.detail,r=s%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:s===1||s===2})},print:i=>{this.annotationStorage.setValue(this.data.id,{noPrint:!i.detail.print})},hidden:i=>{const{hidden:s}=i.detail;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:s,noView:s})},focus:i=>{setTimeout(()=>i.target.focus({preventScroll:!1}),0)},userName:i=>{i.target.title=i.detail.userName},readonly:i=>{i.target.disabled=i.detail.readonly},required:i=>{this._setRequired(i.target,i.detail.required)},bgColor:i=>{e("bgColor","backgroundColor",i)},fillColor:i=>{e("fillColor","backgroundColor",i)},fgColor:i=>{e("fgColor","color",i)},textColor:i=>{e("textColor","color",i)},borderColor:i=>{e("borderColor","borderColor",i)},strokeColor:i=>{e("strokeColor","borderColor",i)},rotation:i=>{const s=i.detail.rotation;this.setRotation(s),this.annotationStorage.setValue(this.data.id,{rotation:s})}})}_dispatchEventFromSandbox(e,i){const s=this._commonActions;for(const r of Object.keys(i.detail)){const o=e[r]||s[r];o==null||o(i)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const i=this.annotationStorage.getRawValue(this.data.id);if(!i)return;const s=this._commonActions;for(const[r,o]of Object.entries(i)){const u=s[r];if(u){const d={detail:{[r]:o},target:e};u(d),delete i[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[i,s,r,o]=this.data.rect.map(x=>Math.fround(x));if(e.length===8){const[x,D,R,N]=e.subarray(2,6);if(r===x&&o===D&&i===R&&s===N)return}const{style:u}=this.container;let d;if(c(this,rc)){const{borderColor:x,borderWidth:D}=u;u.borderWidth=0,d=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${x}" stroke-width="${D}">`],this.container.classList.add("hasBorder")}const f=r-i,p=o-s,{svgFactory:v}=this,b=v.createElement("svg");b.classList.add("quadrilateralsContainer"),b.setAttribute("width",0),b.setAttribute("height",0);const y=v.createElement("defs");b.append(y);const _=v.createElement("clipPath"),E=`clippath_${this.data.id}`;_.setAttribute("id",E),_.setAttribute("clipPathUnits","objectBoundingBox"),y.append(_);for(let x=2,D=e.length;x<D;x+=8){const R=e[x],N=e[x+1],z=e[x+2],B=e[x+3],U=v.createElement("rect"),j=(z-i)/f,W=(o-N)/p,Z=(R-z)/f,q=(N-B)/p;U.setAttribute("x",j),U.setAttribute("y",W),U.setAttribute("width",Z),U.setAttribute("height",q),_.append(U),d==null||d.push(`<rect vector-effect="non-scaling-stroke" x="${j}" y="${W}" width="${Z}" height="${q}"/>`)}c(this,rc)&&(d.push("</g></svg>')"),u.backgroundImage=d.join("")),this.container.append(b),this.container.style.clipPath=`url(#${E})`}_createPopup(){const{container:e,data:i}=this;e.setAttribute("aria-haspopup","dialog");const s=S(this,lc,new b0({data:{color:i.color,titleObj:i.titleObj,modificationDate:i.modificationDate,contentsObj:i.contentsObj,richText:i.richText,parentRect:i.rect,borderStyle:0,id:`popup_${i.id}`,rotation:i.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(s.render())}render(){Zt("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,i=null){const s=[];if(this._fieldObjects){const r=this._fieldObjects[e];if(r)for(const{page:o,id:u,exportValues:d}of r){if(o===-1||u===i)continue;const f=typeof d=="string"?d:null,p=document.querySelector(`[data-element-id="${u}"]`);if(p&&!kl.has(p)){Lt(`_getElementsByName - element not allowed: ${u}`);continue}s.push({id:u,exportValue:f,domElement:p})}return s}for(const r of document.getElementsByName(e)){const{exportValue:o}=r,u=r.getAttribute("data-element-id");u!==i&&kl.has(r)&&s.push({id:u,exportValue:o,domElement:r})}return s}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const i of e)i.classList.add("highlightArea");else e.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:i}}=this;this.container.addEventListener("dblclick",()=>{var s;(s=this.linkService.eventBus)==null||s.dispatch("switchannotationeditormode",{source:this,mode:e,editId:i})})}};cl=new WeakMap,rc=new WeakMap,lc=new WeakMap,Gh=new WeakSet,v0=function(e){const{container:{style:i},data:{rect:s,rotation:r},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:u,pageX:d,pageY:f}}}}=this;s==null||s.splice(0,4,...e);const{width:p,height:v}=sa(e);i.left=`${100*(e[0]-d)/o}%`,i.top=`${100*(u-e[3]+f)/u}%`,r===0?(i.width=`${100*p/o}%`,i.height=`${100*v/u}%`):this.setRotation(r)};let Ae=pb;var Vi,Lr,HS,zS;class PS extends Ae{constructor(i,s=null){super(i,{isRenderable:!0,ignoreBorder:!!(s!=null&&s.ignoreBorder),createQuadrilaterals:!0});w(this,Vi);this.isTooltipOnly=i.data.isTooltipOnly}render(){const{data:i,linkService:s}=this,r=document.createElement("a");r.setAttribute("data-element-id",i.id);let o=!1;return i.url?(s.addLinkAttributes(r,i.url,i.newWindow),o=!0):i.action?(this._bindNamedAction(r,i.action),o=!0):i.attachment?(T(this,Vi,HS).call(this,r,i.attachment,i.attachmentDest),o=!0):i.setOCGState?(T(this,Vi,zS).call(this,r,i.setOCGState),o=!0):i.dest?(this._bindLink(r,i.dest),o=!0):(i.actions&&(i.actions.Action||i.actions["Mouse Up"]||i.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,i),o=!0),i.resetForm?(this._bindResetFormAction(r,i.resetForm),o=!0):this.isTooltipOnly&&!o&&(this._bindLink(r,""),o=!0)),this.container.classList.add("linkAnnotation"),o&&this.container.append(r),this.container}_bindLink(i,s){i.href=this.linkService.getDestinationHash(s),i.onclick=()=>(s&&this.linkService.goToDestination(s),!1),(s||s==="")&&T(this,Vi,Lr).call(this)}_bindNamedAction(i,s){i.href=this.linkService.getAnchorUrl(""),i.onclick=()=>(this.linkService.executeNamedAction(s),!1),T(this,Vi,Lr).call(this)}_bindJSAction(i,s){i.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const o of Object.keys(s.actions)){const u=r.get(o);u&&(i[u]=()=>{var d;return(d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s.id,name:o}}),!1})}i.onclick||(i.onclick=()=>!1),T(this,Vi,Lr).call(this)}_bindResetFormAction(i,s){const r=i.onclick;if(r||(i.href=this.linkService.getAnchorUrl("")),T(this,Vi,Lr).call(this),!this._fieldObjects){Lt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(i.onclick=()=>!1);return}i.onclick=()=>{var b;r==null||r();const{fields:o,refs:u,include:d}=s,f=[];if(o.length!==0||u.length!==0){const y=new Set(u);for(const _ of o){const E=this._fieldObjects[_]||[];for(const{id:x}of E)y.add(x)}for(const _ of Object.values(this._fieldObjects))for(const E of _)y.has(E.id)===d&&f.push(E)}else for(const y of Object.values(this._fieldObjects))f.push(...y);const p=this.annotationStorage,v=[];for(const y of f){const{id:_}=y;switch(v.push(_),y.type){case"text":{const x=y.defaultValue||"";p.setValue(_,{value:x});break}case"checkbox":case"radiobutton":{const x=y.defaultValue===y.exportValues;p.setValue(_,{value:x});break}case"combobox":case"listbox":{const x=y.defaultValue||"";p.setValue(_,{value:x});break}default:continue}const E=document.querySelector(`[data-element-id="${_}"]`);if(E){if(!kl.has(E)){Lt(`_bindResetFormAction - element not allowed: ${_}`);continue}}else continue;E.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((b=this.linkService.eventBus)==null||b.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:v,name:"ResetForm"}})),!1}}}Vi=new WeakSet,Lr=function(){this.container.setAttribute("data-internal-link","")},HS=function(i,s,r=null){i.href=this.linkService.getAnchorUrl(""),s.description&&(i.title=s.description),i.onclick=()=>{var o;return(o=this.downloadManager)==null||o.openOrDownloadData(s.content,s.filename,r),!1},T(this,Vi,Lr).call(this)},zS=function(i,s){i.href=this.linkService.getAnchorUrl(""),i.onclick=()=>(this.linkService.executeSetOCGState(s),!1),T(this,Vi,Lr).call(this)};class oR extends Ae{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Ul extends Ae{render(){return this.container}showElementAndHideCanvas(e){var i;this.data.hasOwnCanvas&&(((i=e.previousSibling)==null?void 0:i.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Ti.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,i,s,r,o){s.includes("mouse")?e.addEventListener(s,u=>{var d;(d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:o(u),shift:u.shiftKey,modifier:this._getKeyModifier(u)}})}):e.addEventListener(s,u=>{var d;if(s==="blur"){if(!i.focused||!u.relatedTarget)return;i.focused=!1}else if(s==="focus"){if(i.focused)return;i.focused=!0}o&&((d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:o(u)}}))})}_setEventListeners(e,i,s,r){var o,u,d;for(const[f,p]of s)(p==="Action"||(o=this.data.actions)!=null&&o[p])&&((p==="Focus"||p==="Blur")&&(i||(i={focused:!1})),this._setEventListener(e,i,f,p,r),p==="Focus"&&!((u=this.data.actions)!=null&&u.Blur)?this._setEventListener(e,i,"blur","Blur",null):p==="Blur"&&!((d=this.data.actions)!=null&&d.Focus)&&this._setEventListener(e,i,"focus","Focus",null))}_setBackgroundColor(e){const i=this.data.backgroundColor||null;e.style.backgroundColor=i===null?"transparent":ut.makeHexColor(i[0],i[1],i[2])}_setTextStyle(e){const i=["left","center","right"],{fontColor:s}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||rR,o=e.style;let u;const d=2,f=p=>Math.round(10*p)/10;if(this.data.multiLine){const p=Math.abs(this.data.rect[3]-this.data.rect[1]-d),v=Math.round(p/(Rv*r))||1,b=p/v;u=Math.min(r,f(b/Rv))}else{const p=Math.abs(this.data.rect[3]-this.data.rect[1]-d);u=Math.min(r,f(p/Rv))}o.fontSize=`calc(${u}px * var(--scale-factor))`,o.color=ut.makeHexColor(s[0],s[1],s[2]),this.data.textAlignment!==null&&(o.textAlign=i[this.data.textAlignment])}_setRequired(e,i){i?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",i)}}class cR extends Ul{constructor(e){const i=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:i})}setPropertyOnSiblings(e,i,s,r){const o=this.annotationStorage;for(const u of this._getElementsByName(e.name,e.id))u.domElement&&(u.domElement[i]=s),o.setValue(u.id,{[r]:s})}render(){var r,o;const e=this.annotationStorage,i=this.data.id;this.container.classList.add("textWidgetAnnotation");let s=null;if(this.renderForms){const u=e.getValue(i,{value:this.data.fieldValue});let d=u.value||"";const f=e.getValue(i,{charLimit:this.data.maxLen}).charLimit;f&&d.length>f&&(d=d.slice(0,f));let p=u.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;p&&this.data.comb&&(p=p.replaceAll(/\s+/g,""));const v={userValue:d,formattedValue:p,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(s=document.createElement("textarea"),s.textContent=p??d,this.data.doNotScroll&&(s.style.overflowY="hidden")):(s=document.createElement("input"),s.type="text",s.setAttribute("value",p??d),this.data.doNotScroll&&(s.style.overflowX="hidden")),this.data.hasOwnCanvas&&(s.hidden=!0),kl.add(s),s.setAttribute("data-element-id",i),s.disabled=this.data.readOnly,s.name=this.data.fieldName,s.tabIndex=Nd,this._setRequired(s,this.data.required),f&&(s.maxLength=f),s.addEventListener("input",y=>{e.setValue(i,{value:y.target.value}),this.setPropertyOnSiblings(s,"value",y.target.value,"value"),v.formattedValue=null}),s.addEventListener("resetform",y=>{const _=this.data.defaultFieldValue??"";s.value=v.userValue=_,v.formattedValue=null});let b=y=>{const{formattedValue:_}=v;_!=null&&(y.target.value=_),y.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){s.addEventListener("focus",_=>{var x;if(v.focused)return;const{target:E}=_;v.userValue&&(E.value=v.userValue),v.lastCommittedValue=E.value,v.commitKey=1,(x=this.data.actions)!=null&&x.Focus||(v.focused=!0)}),s.addEventListener("updatefromsandbox",_=>{this.showElementAndHideCanvas(_.target);const E={value(x){v.userValue=x.detail.value??"",e.setValue(i,{value:v.userValue.toString()}),x.target.value=v.userValue},formattedValue(x){const{formattedValue:D}=x.detail;v.formattedValue=D,D!=null&&x.target!==document.activeElement&&(x.target.value=D),e.setValue(i,{formattedValue:D})},selRange(x){x.target.setSelectionRange(...x.detail.selRange)},charLimit:x=>{var z;const{charLimit:D}=x.detail,{target:R}=x;if(D===0){R.removeAttribute("maxLength");return}R.setAttribute("maxLength",D);let N=v.userValue;!N||N.length<=D||(N=N.slice(0,D),R.value=v.userValue=N,e.setValue(i,{value:N}),(z=this.linkService.eventBus)==null||z.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:N,willCommit:!0,commitKey:1,selStart:R.selectionStart,selEnd:R.selectionEnd}}))}};this._dispatchEventFromSandbox(E,_)}),s.addEventListener("keydown",_=>{var D;v.commitKey=1;let E=-1;if(_.key==="Escape"?E=0:_.key==="Enter"&&!this.data.multiLine?E=2:_.key==="Tab"&&(v.commitKey=3),E===-1)return;const{value:x}=_.target;v.lastCommittedValue!==x&&(v.lastCommittedValue=x,v.userValue=x,(D=this.linkService.eventBus)==null||D.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:x,willCommit:!0,commitKey:E,selStart:_.target.selectionStart,selEnd:_.target.selectionEnd}}))});const y=b;b=null,s.addEventListener("blur",_=>{var x,D;if(!v.focused||!_.relatedTarget)return;(x=this.data.actions)!=null&&x.Blur||(v.focused=!1);const{value:E}=_.target;v.userValue=E,v.lastCommittedValue!==E&&((D=this.linkService.eventBus)==null||D.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:E,willCommit:!0,commitKey:v.commitKey,selStart:_.target.selectionStart,selEnd:_.target.selectionEnd}})),y(_)}),(o=this.data.actions)!=null&&o.Keystroke&&s.addEventListener("beforeinput",_=>{var U;v.lastCommittedValue=null;const{data:E,target:x}=_,{value:D,selectionStart:R,selectionEnd:N}=x;let z=R,B=N;switch(_.inputType){case"deleteWordBackward":{const j=D.substring(0,R).match(/\w*[^\w]*$/);j&&(z-=j[0].length);break}case"deleteWordForward":{const j=D.substring(R).match(/^[^\w]*\w*/);j&&(B+=j[0].length);break}case"deleteContentBackward":R===N&&(z-=1);break;case"deleteContentForward":R===N&&(B+=1);break}_.preventDefault(),(U=this.linkService.eventBus)==null||U.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:D,change:E||"",willCommit:!1,selStart:z,selEnd:B}})}),this._setEventListeners(s,v,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],_=>_.target.value)}if(b&&s.addEventListener("blur",b),this.data.comb){const _=(this.data.rect[2]-this.data.rect[0])/f;s.classList.add("comb"),s.style.letterSpacing=`calc(${_}px * var(--scale-factor) - 1ch)`}}else s=document.createElement("div"),s.textContent=this.data.fieldValue,s.style.verticalAlign="middle",s.style.display="table-cell",this.data.hasOwnCanvas&&(s.hidden=!0);return this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class uR extends Ul{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class hR extends Ul{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,i=this.data,s=i.id;let r=e.getValue(s,{value:i.exportValue===i.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",e.setValue(s,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const o=document.createElement("input");return kl.add(o),o.setAttribute("data-element-id",s),o.disabled=i.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=i.fieldName,r&&o.setAttribute("checked",!0),o.setAttribute("exportValue",i.exportValue),o.tabIndex=Nd,o.addEventListener("change",u=>{const{name:d,checked:f}=u.target;for(const p of this._getElementsByName(d,s)){const v=f&&p.exportValue===i.exportValue;p.domElement&&(p.domElement.checked=v),e.setValue(p.id,{value:v})}e.setValue(s,{value:f})}),o.addEventListener("resetform",u=>{const d=i.defaultFieldValue||"Off";u.target.checked=d===i.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",u=>{const d={value(f){f.target.checked=f.detail.value!=="Off",e.setValue(s,{value:f.target.checked})}};this._dispatchEventFromSandbox(d,u)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],u=>u.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class FS extends Ul{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,i=this.data,s=i.id;let r=e.getValue(s,{value:i.fieldValue===i.buttonValue}).value;if(typeof r=="string"&&(r=r!==i.buttonValue,e.setValue(s,{value:r})),r)for(const u of this._getElementsByName(i.fieldName,s))e.setValue(u.id,{value:!1});const o=document.createElement("input");if(kl.add(o),o.setAttribute("data-element-id",s),o.disabled=i.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=i.fieldName,r&&o.setAttribute("checked",!0),o.tabIndex=Nd,o.addEventListener("change",u=>{const{name:d,checked:f}=u.target;for(const p of this._getElementsByName(d,s))e.setValue(p.id,{value:!1});e.setValue(s,{value:f})}),o.addEventListener("resetform",u=>{const d=i.defaultFieldValue;u.target.checked=d!=null&&d===i.buttonValue}),this.enableScripting&&this.hasJSActions){const u=i.buttonValue;o.addEventListener("updatefromsandbox",d=>{const f={value:p=>{const v=u===p.detail.value;for(const b of this._getElementsByName(p.target.name)){const y=v&&b.id===s;b.domElement&&(b.domElement.checked=y),e.setValue(b.id,{value:y})}}};this._dispatchEventFromSandbox(f,d)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],d=>d.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class dR extends PS{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const i=e.lastChild;return this.enableScripting&&this.hasJSActions&&i&&(this._setDefaultPropertiesFromJS(i),i.addEventListener("updatefromsandbox",s=>{this._dispatchEventFromSandbox({},s)})),e}}class fR extends Ul{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,i=this.data.id,s=e.getValue(i,{value:this.data.fieldValue}),r=document.createElement("select");kl.add(r),r.setAttribute("data-element-id",i),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=Nd;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",v=>{const b=this.data.defaultFieldValue;for(const y of r.options)y.selected=y.value===b});for(const v of this.data.options){const b=document.createElement("option");b.textContent=v.displayValue,b.value=v.exportValue,s.value.includes(v.exportValue)&&(b.setAttribute("selected",!0),o=!1),r.append(b)}let u=null;if(o){const v=document.createElement("option");v.value=" ",v.setAttribute("hidden",!0),v.setAttribute("selected",!0),r.prepend(v),u=()=>{v.remove(),r.removeEventListener("input",u),u=null},r.addEventListener("input",u)}const d=v=>{const b=v?"value":"textContent",{options:y,multiple:_}=r;return _?Array.prototype.filter.call(y,E=>E.selected).map(E=>E[b]):y.selectedIndex===-1?null:y[y.selectedIndex][b]};let f=d(!1);const p=v=>{const b=v.target.options;return Array.prototype.map.call(b,y=>({displayValue:y.textContent,exportValue:y.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",v=>{const b={value(y){u==null||u();const _=y.detail.value,E=new Set(Array.isArray(_)?_:[_]);for(const x of r.options)x.selected=E.has(x.value);e.setValue(i,{value:d(!0)}),f=d(!1)},multipleSelection(y){r.multiple=!0},remove(y){const _=r.options,E=y.detail.remove;_[E].selected=!1,r.remove(E),_.length>0&&Array.prototype.findIndex.call(_,D=>D.selected)===-1&&(_[0].selected=!0),e.setValue(i,{value:d(!0),items:p(y)}),f=d(!1)},clear(y){for(;r.length!==0;)r.remove(0);e.setValue(i,{value:null,items:[]}),f=d(!1)},insert(y){const{index:_,displayValue:E,exportValue:x}=y.detail.insert,D=r.children[_],R=document.createElement("option");R.textContent=E,R.value=x,D?D.before(R):r.append(R),e.setValue(i,{value:d(!0),items:p(y)}),f=d(!1)},items(y){const{items:_}=y.detail;for(;r.length!==0;)r.remove(0);for(const E of _){const{displayValue:x,exportValue:D}=E,R=document.createElement("option");R.textContent=x,R.value=D,r.append(R)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(i,{value:d(!0),items:p(y)}),f=d(!1)},indices(y){const _=new Set(y.detail.indices);for(const E of y.target.options)E.selected=_.has(E.index);e.setValue(i,{value:d(!0)}),f=d(!1)},editable(y){y.target.disabled=!y.detail.editable}};this._dispatchEventFromSandbox(b,v)}),r.addEventListener("input",v=>{var _;const b=d(!0),y=d(!1);e.setValue(i,{value:b}),v.preventDefault(),(_=this.linkService.eventBus)==null||_.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:f,change:y,changeEx:b,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],v=>v.target.value)):r.addEventListener("input",function(v){e.setValue(i,{value:d(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class b0 extends Ae{constructor(e){const{data:i,elements:s}=e;super(e,{isRenderable:Ae._hasPopupData(i)}),this.elements=s,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new pR({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),i=[];for(const s of this.elements)s.popup=e,i.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",i.map(s=>`${UE}${s}`).join(",")),this.container}}var oc,Kp,Qp,cc,ul,me,qs,hl,qh,Vh,uc,Vs,xn,Xs,Xh,Ys,Yh,dl,fl,Jt,hp,y0,US,BS,jS,IS,dp,fp,A0;class pR{constructor({container:e,color:i,elements:s,titleObj:r,modificationDate:o,contentsObj:u,richText:d,parent:f,rect:p,parentRect:v,open:b}){w(this,Jt);w(this,oc,T(this,Jt,jS).bind(this));w(this,Kp,T(this,Jt,A0).bind(this));w(this,Qp,T(this,Jt,fp).bind(this));w(this,cc,T(this,Jt,dp).bind(this));w(this,ul,null);w(this,me,null);w(this,qs,null);w(this,hl,null);w(this,qh,null);w(this,Vh,null);w(this,uc,null);w(this,Vs,!1);w(this,xn,null);w(this,Xs,null);w(this,Xh,null);w(this,Ys,null);w(this,Yh,null);w(this,dl,null);w(this,fl,!1);var y;S(this,me,e),S(this,Yh,r),S(this,qs,u),S(this,Ys,d),S(this,Vh,f),S(this,ul,i),S(this,Xh,p),S(this,uc,v),S(this,qh,s),S(this,hl,qE.toDateObject(o)),this.trigger=s.flatMap(_=>_.getElementsToTriggerPopup());for(const _ of this.trigger)_.addEventListener("click",c(this,cc)),_.addEventListener("mouseenter",c(this,Qp)),_.addEventListener("mouseleave",c(this,Kp)),_.classList.add("popupTriggerArea");for(const _ of s)(y=_.container)==null||y.addEventListener("keydown",c(this,oc));c(this,me).hidden=!0,b&&T(this,Jt,dp).call(this)}render(){if(c(this,xn))return;const e=S(this,xn,document.createElement("div"));if(e.className="popup",c(this,ul)){const o=e.style.outlineColor=ut.makeHexColor(...c(this,ul));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${o} 30%, white)`:e.style.backgroundColor=ut.makeHexColor(...c(this,ul).map(d=>Math.floor(.7*(255-d)+d)))}const i=document.createElement("span");i.className="header";const s=document.createElement("h1");if(i.append(s),{dir:s.dir,str:s.textContent}=c(this,Yh),e.append(i),c(this,hl)){const o=document.createElement("span");o.classList.add("popupDate"),o.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),o.setAttribute("data-l10n-args",JSON.stringify({date:c(this,hl).toLocaleDateString(),time:c(this,hl).toLocaleTimeString()})),i.append(o)}const r=c(this,Jt,hp);if(r)NS.render({xfaHtml:r,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const o=this._formatContents(c(this,qs));e.append(o)}c(this,me).append(e)}_formatContents({str:e,dir:i}){const s=document.createElement("p");s.classList.add("popupContent"),s.dir=i;const r=e.split(/(?:\r\n?|\n)/);for(let o=0,u=r.length;o<u;++o){const d=r[o];s.append(document.createTextNode(d)),o<u-1&&s.append(document.createElement("br"))}return s}updateEdited({rect:e,popupContent:i}){var s;c(this,dl)||S(this,dl,{contentsObj:c(this,qs),richText:c(this,Ys)}),e&&S(this,Xs,null),i&&(S(this,Ys,T(this,Jt,BS).call(this,i)),S(this,qs,null)),(s=c(this,xn))==null||s.remove(),S(this,xn,null)}resetEdited(){var e;c(this,dl)&&({contentsObj:Ni(this,qs)._,richText:Ni(this,Ys)._}=c(this,dl),S(this,dl,null),(e=c(this,xn))==null||e.remove(),S(this,xn,null),S(this,Xs,null))}forceHide(){S(this,fl,this.isVisible),c(this,fl)&&(c(this,me).hidden=!0)}maybeShow(){c(this,fl)&&(c(this,xn)||T(this,Jt,fp).call(this),S(this,fl,!1),c(this,me).hidden=!1)}get isVisible(){return c(this,me).hidden===!1}}oc=new WeakMap,Kp=new WeakMap,Qp=new WeakMap,cc=new WeakMap,ul=new WeakMap,me=new WeakMap,qs=new WeakMap,hl=new WeakMap,qh=new WeakMap,Vh=new WeakMap,uc=new WeakMap,Vs=new WeakMap,xn=new WeakMap,Xs=new WeakMap,Xh=new WeakMap,Ys=new WeakMap,Yh=new WeakMap,dl=new WeakMap,fl=new WeakMap,Jt=new WeakSet,hp=function(){const e=c(this,Ys),i=c(this,qs);return e!=null&&e.str&&(!(i!=null&&i.str)||i.str===e.str)&&c(this,Ys).html||null},y0=function(){var e,i,s;return((s=(i=(e=c(this,Jt,hp))==null?void 0:e.attributes)==null?void 0:i.style)==null?void 0:s.fontSize)||0},US=function(){var e,i,s;return((s=(i=(e=c(this,Jt,hp))==null?void 0:e.attributes)==null?void 0:i.style)==null?void 0:s.color)||null},BS=function(e){const i=[],s={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:i}]}},r={style:{color:c(this,Jt,US),fontSize:c(this,Jt,y0)?`calc(${c(this,Jt,y0)}px * var(--scale-factor))`:""}};for(const o of e.split(`
`))i.push({name:"span",value:o,attributes:r});return s},jS=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&c(this,Vs))&&T(this,Jt,dp).call(this)},IS=function(){if(c(this,Xs)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:i,pageHeight:s,pageX:r,pageY:o}}}=c(this,Vh);let u=!!c(this,uc),d=u?c(this,uc):c(this,Xh);for(const E of c(this,qh))if(!d||ut.intersect(E.data.rect,d)!==null){d=E.data.rect,u=!0;break}const f=ut.normalizeRect([d[0],e[3]-d[1]+e[1],d[2],e[3]-d[3]+e[1]]),v=u?d[2]-d[0]+5:0,b=f[0]+v,y=f[1];S(this,Xs,[100*(b-r)/i,100*(y-o)/s]);const{style:_}=c(this,me);_.left=`${c(this,Xs)[0]}%`,_.top=`${c(this,Xs)[1]}%`},dp=function(){S(this,Vs,!c(this,Vs)),c(this,Vs)?(T(this,Jt,fp).call(this),c(this,me).addEventListener("click",c(this,cc)),c(this,me).addEventListener("keydown",c(this,oc))):(T(this,Jt,A0).call(this),c(this,me).removeEventListener("click",c(this,cc)),c(this,me).removeEventListener("keydown",c(this,oc)))},fp=function(){c(this,xn)||this.render(),this.isVisible?c(this,Vs)&&c(this,me).classList.add("focused"):(T(this,Jt,IS).call(this),c(this,me).hidden=!1,c(this,me).style.zIndex=parseInt(c(this,me).style.zIndex)+1e3)},A0=function(){c(this,me).classList.remove("focused"),!(c(this,Vs)||!this.isVisible)&&(c(this,me).hidden=!0,c(this,me).style.zIndex=parseInt(c(this,me).style.zIndex)-1e3)};class GS extends Ae{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Bt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const i of this.textContent){const s=document.createElement("span");s.textContent=i,e.append(s)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}var Kh;class gR extends Ae{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0});w(this,Kh,null)}render(){this.container.classList.add("lineAnnotation");const i=this.data,{width:s,height:r}=sa(i.rect),o=this.svgFactory.create(s,r,!0),u=S(this,Kh,this.svgFactory.createElement("svg:line"));return u.setAttribute("x1",i.rect[2]-i.lineCoordinates[0]),u.setAttribute("y1",i.rect[3]-i.lineCoordinates[1]),u.setAttribute("x2",i.rect[2]-i.lineCoordinates[2]),u.setAttribute("y2",i.rect[3]-i.lineCoordinates[3]),u.setAttribute("stroke-width",i.borderStyle.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),o.append(u),this.container.append(o),!i.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,Kh)}addHighlightArea(){this.container.classList.add("highlightArea")}}Kh=new WeakMap;var Qh;class mR extends Ae{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0});w(this,Qh,null)}render(){this.container.classList.add("squareAnnotation");const i=this.data,{width:s,height:r}=sa(i.rect),o=this.svgFactory.create(s,r,!0),u=i.borderStyle.width,d=S(this,Qh,this.svgFactory.createElement("svg:rect"));return d.setAttribute("x",u/2),d.setAttribute("y",u/2),d.setAttribute("width",s-u),d.setAttribute("height",r-u),d.setAttribute("stroke-width",u||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),o.append(d),this.container.append(o),!i.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,Qh)}addHighlightArea(){this.container.classList.add("highlightArea")}}Qh=new WeakMap;var $h;class vR extends Ae{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0});w(this,$h,null)}render(){this.container.classList.add("circleAnnotation");const i=this.data,{width:s,height:r}=sa(i.rect),o=this.svgFactory.create(s,r,!0),u=i.borderStyle.width,d=S(this,$h,this.svgFactory.createElement("svg:ellipse"));return d.setAttribute("cx",s/2),d.setAttribute("cy",r/2),d.setAttribute("rx",s/2-u/2),d.setAttribute("ry",r/2-u/2),d.setAttribute("stroke-width",u||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),o.append(d),this.container.append(o),!i.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,$h)}addHighlightArea(){this.container.classList.add("highlightArea")}}$h=new WeakMap;var Wh;class qS extends Ae{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0});w(this,Wh,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:i,vertices:s,borderStyle:r,popupRef:o}}=this;if(!s)return this.container;const{width:u,height:d}=sa(i),f=this.svgFactory.create(u,d,!0);let p=[];for(let b=0,y=s.length;b<y;b+=2){const _=s[b]-i[0],E=i[3]-s[b+1];p.push(`${_},${E}`)}p=p.join(" ");const v=S(this,Wh,this.svgFactory.createElement(this.svgElementName));return v.setAttribute("points",p),v.setAttribute("stroke-width",r.width||1),v.setAttribute("stroke","transparent"),v.setAttribute("fill","transparent"),f.append(v),this.container.append(f),!o&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,Wh)}addHighlightArea(){this.container.classList.add("highlightArea")}}Wh=new WeakMap;class bR extends qS{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class yR extends Ae{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Zh;class VS extends Ae{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0});w(this,Zh,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=Bt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:i,inkLists:s,borderStyle:r,popupRef:o}}=this,{width:u,height:d}=sa(i),f=this.svgFactory.create(u,d,!0);for(const p of s){let v=[];for(let y=0,_=p.length;y<_;y+=2){const E=p[y]-i[0],x=i[3]-p[y+1];v.push(`${E},${x}`)}v=v.join(" ");const b=this.svgFactory.createElement(this.svgElementName);c(this,Zh).push(b),b.setAttribute("points",v),b.setAttribute("stroke-width",r.width||1),b.setAttribute("stroke","transparent"),b.setAttribute("fill","transparent"),!o&&this.hasPopupData&&this._createPopup(),f.append(b)}return this.container.append(f),this.container}getElementsToTriggerPopup(){return c(this,Zh)}addHighlightArea(){this.container.classList.add("highlightArea")}}Zh=new WeakMap;class AR extends Ae{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class _R extends Ae{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class ER extends Ae{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class SR extends Ae{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class XS extends Ae{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Jh,td,_0;class TR extends Ae{constructor(i){var r;super(i,{isRenderable:!0});w(this,td);w(this,Jh,null);const{file:s}=this.data;this.filename=s.filename,this.content=s.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...s})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:i,data:s}=this;let r;s.hasAppearance||s.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(s.name)?"paperclip":"pushpin"}.svg`,s.fillAlpha&&s.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(s.fillAlpha*100)}%);`)),r.addEventListener("dblclick",T(this,td,_0).bind(this)),S(this,Jh,r);const{isMac:o}=Ti.platform;return i.addEventListener("keydown",u=>{u.key==="Enter"&&(o?u.metaKey:u.ctrlKey)&&T(this,td,_0).call(this)}),!s.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),i.append(r),i}getElementsToTriggerPopup(){return c(this,Jh)}addHighlightArea(){this.container.classList.add("highlightArea")}}Jh=new WeakMap,td=new WeakSet,_0=function(){var i;(i=this.downloadManager)==null||i.openOrDownloadData(this.content,this.filename)};var ed,pl,hc,Pl,YS,E0,PE;let wR=(PE=class{constructor({div:e,accessibilityManager:i,annotationCanvasMap:s,annotationEditorUIManager:r,page:o,viewport:u}){w(this,Pl);w(this,ed,null);w(this,pl,null);w(this,hc,new Map);this.div=e,S(this,ed,i),S(this,pl,s),this.page=o,this.viewport=u,this.zIndex=0,this._annotationEditorUIManager=r}async render(e){var u;const{annotations:i}=e,s=this.div;Ll(s,this.viewport);const r=new Map,o={data:null,layer:s,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new ib,annotationStorage:e.annotationStorage||new lb,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const d of i){if(d.noHTML)continue;const f=d.annotationType===Re.POPUP;if(f){const b=r.get(d.id);if(!b)continue;o.elements=b}else{const{width:b,height:y}=sa(d.rect);if(b<=0||y<=0)continue}o.data=d;const p=lR.create(o);if(!p.isRenderable)continue;if(!f&&d.popupRef){const b=r.get(d.popupRef);b?b.push(p):r.set(d.popupRef,[p])}const v=p.render();d.hidden&&(v.style.visibility="hidden"),T(this,Pl,YS).call(this,v,d.id),p.annotationEditorType>0&&(c(this,hc).set(p.data.id,p),(u=this._annotationEditorUIManager)==null||u.renderAnnotationElement(p))}T(this,Pl,E0).call(this)}update({viewport:e}){const i=this.div;this.viewport=e,Ll(i,{rotation:e.rotation}),T(this,Pl,E0).call(this),i.hidden=!1}getEditableAnnotations(){return Array.from(c(this,hc).values())}getEditableAnnotation(e){return c(this,hc).get(e)}},ed=new WeakMap,pl=new WeakMap,hc=new WeakMap,Pl=new WeakSet,YS=function(e,i){var r;const s=e.firstChild||e;s.id=`${UE}${i}`,this.div.append(e),(r=c(this,ed))==null||r.moveElementInDOM(this.div,e,s,!1)},E0=function(){if(!c(this,pl))return;const e=this.div;for(const[i,s]of c(this,pl)){const r=e.querySelector(`[data-annotation-id="${i}"]`);if(!r)continue;s.className="annotationContent";const{firstChild:o}=r;o?o.nodeName==="CANVAS"?o.replaceWith(s):o.classList.contains("annotationContent")?o.after(s):o.before(s):r.append(s)}c(this,pl).clear()},PE);const Jf=/\r\n?|\n/g;var id,nd,sd,ad,rd,Rn,Bi,ld,ji,dc,we,KS,QS,$S,pp,ra,gp,mp,WS,T0,ZS;const re=class re extends Kt{constructor(i){super({...i,name:"freeTextEditor"});w(this,we);w(this,id,this.editorDivBlur.bind(this));w(this,nd,this.editorDivFocus.bind(this));w(this,sd,this.editorDivInput.bind(this));w(this,ad,this.editorDivKeydown.bind(this));w(this,rd,this.editorDivPaste.bind(this));w(this,Rn);w(this,Bi,"");w(this,ld,`${this.id}-editor`);w(this,ji);w(this,dc,null);S(this,Rn,i.color||re._defaultColor||Kt._defaultLineColor),S(this,ji,i.fontSize||re._defaultFontSize)}static get _keyboardManager(){const i=re.prototype,s=u=>u.isEmpty(),r=Ol.TRANSLATE_SMALL,o=Ol.TRANSLATE_BIG;return jt(this,"_keyboardManager",new Od([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],i.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],i.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],i._translateEmpty,{args:[-r,0],checker:s}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],i._translateEmpty,{args:[-o,0],checker:s}],[["ArrowRight","mac+ArrowRight"],i._translateEmpty,{args:[r,0],checker:s}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],i._translateEmpty,{args:[o,0],checker:s}],[["ArrowUp","mac+ArrowUp"],i._translateEmpty,{args:[0,-r],checker:s}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],i._translateEmpty,{args:[0,-o],checker:s}],[["ArrowDown","mac+ArrowDown"],i._translateEmpty,{args:[0,r],checker:s}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],i._translateEmpty,{args:[0,o],checker:s}]]))}static initialize(i,s){Kt.initialize(i,s,{strings:["pdfjs-free-text-default-content"]});const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(i,s){switch(i){case Et.FREETEXT_SIZE:re._defaultFontSize=s;break;case Et.FREETEXT_COLOR:re._defaultColor=s;break}}updateParams(i,s){switch(i){case Et.FREETEXT_SIZE:T(this,we,KS).call(this,s);break;case Et.FREETEXT_COLOR:T(this,we,QS).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[Et.FREETEXT_SIZE,re._defaultFontSize],[Et.FREETEXT_COLOR,re._defaultColor||Kt._defaultLineColor]]}get propertiesToUpdate(){return[[Et.FREETEXT_SIZE,c(this,ji)],[Et.FREETEXT_COLOR,c(this,Rn)]]}_translateEmpty(i,s){this._uiManager.translateSelectedEditors(i,s,!0)}getInitialTranslation(){const i=this.parentScale;return[-re._internalPadding*i,-(re._internalPadding+c(this,ji))*i]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Bt.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant");const i=this._uiManager._signal;this.editorDiv.addEventListener("keydown",c(this,ad),{signal:i}),this.editorDiv.addEventListener("focus",c(this,nd),{signal:i}),this.editorDiv.addEventListener("blur",c(this,id),{signal:i}),this.editorDiv.addEventListener("input",c(this,sd),{signal:i}),this.editorDiv.addEventListener("paste",c(this,rd),{signal:i})}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",c(this,ld)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",c(this,ad)),this.editorDiv.removeEventListener("focus",c(this,nd)),this.editorDiv.removeEventListener("blur",c(this,id)),this.editorDiv.removeEventListener("input",c(this,sd)),this.editorDiv.removeEventListener("paste",c(this,rd)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(i){this._focusEventsAllowed&&(super.focusin(i),i.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var i;this.width||(this.enableEditMode(),this.editorDiv.focus(),(i=this._initialOptions)!=null&&i.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const i=c(this,Bi),s=S(this,Bi,T(this,we,$S).call(this).trimEnd());if(i===s)return;const r=o=>{if(S(this,Bi,o),!o){this.remove();return}T(this,we,mp).call(this),this._uiManager.rebuild(this),T(this,we,pp).call(this)};this.addCommands({cmd:()=>{r(s)},undo:()=>{r(i)},mustExec:!1}),T(this,we,pp).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(i){this.enterInEditMode()}keydown(i){i.target===this.div&&i.key==="Enter"&&(this.enterInEditMode(),i.preventDefault())}editorDivKeydown(i){re._keyboardManager.exec(this,i)}editorDivFocus(i){this.isEditing=!0}editorDivBlur(i){this.isEditing=!1}editorDivInput(i){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let i,s;this.width&&(i=this.x,s=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",c(this,ld)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),Kt._l10nPromise.get("pdfjs-free-text-default-content").then(o=>{var u;return(u=this.editorDiv)==null?void 0:u.setAttribute("default-content",o)}),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${c(this,ji)}px * var(--scale-factor))`,r.color=c(this,Rn),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),xp(this,this.div,["dblclick","keydown"]),this.width){const[o,u]=this.parentDimensions;if(this.annotationElementId){const{position:d}=c(this,dc);let[f,p]=this.getInitialTranslation();[f,p]=this.pageTranslationToScreen(f,p);const[v,b]=this.pageDimensions,[y,_]=this.pageTranslation;let E,x;switch(this.rotation){case 0:E=i+(d[0]-y)/v,x=s+this.height-(d[1]-_)/b;break;case 90:E=i+(d[0]-y)/v,x=s-(d[1]-_)/b,[f,p]=[p,-f];break;case 180:E=i-this.width+(d[0]-y)/v,x=s-(d[1]-_)/b,[f,p]=[-f,-p];break;case 270:E=i+(d[0]-y-this.height*b)/v,x=s+(d[1]-_-this.width*v)/b,[f,p]=[-p,f];break}this.setAt(E*o,x*u,f,p)}else this.setAt(i*o,s*u,this.width*o,this.height*u);T(this,we,mp).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(i){var E,x,D;const s=i.clipboardData||window.clipboardData,{types:r}=s;if(r.length===1&&r[0]==="text/plain")return;i.preventDefault();const o=T(E=re,ra,T0).call(E,s.getData("text")||"").replaceAll(Jf,`
`);if(!o)return;const u=window.getSelection();if(!u.rangeCount)return;this.editorDiv.normalize(),u.deleteFromDocument();const d=u.getRangeAt(0);if(!o.includes(`
`)){d.insertNode(document.createTextNode(o)),this.editorDiv.normalize(),u.collapseToStart();return}const{startContainer:f,startOffset:p}=d,v=[],b=[];if(f.nodeType===Node.TEXT_NODE){const R=f.parentElement;if(b.push(f.nodeValue.slice(p).replaceAll(Jf,"")),R!==this.editorDiv){let N=v;for(const z of this.editorDiv.childNodes){if(z===R){N=b;continue}N.push(T(x=re,ra,gp).call(x,z))}}v.push(f.nodeValue.slice(0,p).replaceAll(Jf,""))}else if(f===this.editorDiv){let R=v,N=0;for(const z of this.editorDiv.childNodes)N++===p&&(R=b),R.push(T(D=re,ra,gp).call(D,z))}S(this,Bi,`${v.join(`
`)}${o}${b.join(`
`)}`),T(this,we,mp).call(this);const y=new Range;let _=v.reduce((R,N)=>R+N.length,0);for(const{firstChild:R}of this.editorDiv.childNodes)if(R.nodeType===Node.TEXT_NODE){const N=R.nodeValue.length;if(_<=N){y.setStart(R,_),y.setEnd(R,_);break}_-=N}u.removeAllRanges(),u.addRange(y)}get contentDiv(){return this.editorDiv}static deserialize(i,s,r){var d;let o=null;if(i instanceof GS){const{data:{defaultAppearanceData:{fontSize:f,fontColor:p},rect:v,rotation:b,id:y},textContent:_,textPosition:E,parent:{page:{pageNumber:x}}}=i;if(!_||_.length===0)return null;o=i={annotationType:Bt.FREETEXT,color:Array.from(p),fontSize:f,value:_.join(`
`),position:E,pageIndex:x-1,rect:v.slice(0),rotation:b,id:y,deleted:!1}}const u=super.deserialize(i,s,r);return S(u,ji,i.fontSize),S(u,Rn,ut.makeHexColor(...i.color)),S(u,Bi,T(d=re,ra,T0).call(d,i.value)),u.annotationElementId=i.id||null,S(u,dc,o),u}serialize(i=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const s=re._internalPadding*this.parentScale,r=this.getRect(s,s),o=Kt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:c(this,Rn)),u={annotationType:Bt.FREETEXT,color:o,fontSize:c(this,ji),value:T(this,we,WS).call(this),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return i?u:this.annotationElementId&&!T(this,we,ZS).call(this,u)?null:(u.id=this.annotationElementId,u)}renderAnnotationElement(i){const s=super.renderAnnotationElement(i);if(this.deleted)return s;const{style:r}=s;r.fontSize=`calc(${c(this,ji)}px * var(--scale-factor))`,r.color=c(this,Rn),s.replaceChildren();for(const u of c(this,Bi).split(`
`)){const d=document.createElement("div");d.append(u?document.createTextNode(u):document.createElement("br")),s.append(d)}const o=re._internalPadding*this.parentScale;return i.updateEdited({rect:this.getRect(o,o),popupContent:c(this,Bi)}),s}resetAnnotationElement(i){super.resetAnnotationElement(i),i.resetEdited()}};id=new WeakMap,nd=new WeakMap,sd=new WeakMap,ad=new WeakMap,rd=new WeakMap,Rn=new WeakMap,Bi=new WeakMap,ld=new WeakMap,ji=new WeakMap,dc=new WeakMap,we=new WeakSet,KS=function(i){const s=o=>{this.editorDiv.style.fontSize=`calc(${o}px * var(--scale-factor))`,this.translate(0,-(o-c(this,ji))*this.parentScale),S(this,ji,o),T(this,we,pp).call(this)},r=c(this,ji);this.addCommands({cmd:s.bind(this,i),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Et.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},QS=function(i){const s=o=>{S(this,Rn,this.editorDiv.style.color=o)},r=c(this,Rn);this.addCommands({cmd:s.bind(this,i),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Et.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},$S=function(){var s;const i=[];this.editorDiv.normalize();for(const r of this.editorDiv.childNodes)i.push(T(s=re,ra,gp).call(s,r));return i.join(`
`)},pp=function(){const[i,s]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:o,div:u}=this,d=u.style.display,f=u.classList.contains("hidden");u.classList.remove("hidden"),u.style.display="hidden",o.div.append(this.div),r=u.getBoundingClientRect(),u.remove(),u.style.display=d,u.classList.toggle("hidden",f)}this.rotation%180===this.parentRotation%180?(this.width=r.width/i,this.height=r.height/s):(this.width=r.height/i,this.height=r.width/s),this.fixAndSetPosition()},ra=new WeakSet,gp=function(i){return(i.nodeType===Node.TEXT_NODE?i.nodeValue:i.innerText).replaceAll(Jf,"")},mp=function(){if(this.editorDiv.replaceChildren(),!!c(this,Bi))for(const i of c(this,Bi).split(`
`)){const s=document.createElement("div");s.append(i?document.createTextNode(i):document.createElement("br")),this.editorDiv.append(s)}},WS=function(){return c(this,Bi).replaceAll(""," ")},T0=function(i){return i.replaceAll(" ","")},ZS=function(i){const{value:s,fontSize:r,color:o,pageIndex:u}=c(this,dc);return this._hasBeenMoved||i.value!==s||i.fontSize!==r||i.color.some((d,f)=>d!==o[f])||i.pageIndex!==u},w(re,ra),wt(re,"_freeTextDefaultContent",""),wt(re,"_internalPadding",0),wt(re,"_defaultColor",null),wt(re,"_defaultFontSize",10),wt(re,"_type","freetext"),wt(re,"_editorType",Bt.FREETEXT);let S0=re;var od,Qa,Mn,mi,JS,vp,t1,e1,C0;class w0{constructor(e,i=0,s=0,r=!0){w(this,mi);w(this,od);w(this,Qa,[]);w(this,Mn,[]);let o=1/0,u=-1/0,d=1/0,f=-1/0;const v=10**-4;for(const{x:R,y:N,width:z,height:B}of e){const U=Math.floor((R-i)/v)*v,j=Math.ceil((R+z+i)/v)*v,W=Math.floor((N-i)/v)*v,Z=Math.ceil((N+B+i)/v)*v,q=[U,W,Z,!0],J=[j,W,Z,!1];c(this,Qa).push(q,J),o=Math.min(o,U),u=Math.max(u,j),d=Math.min(d,W),f=Math.max(f,Z)}const b=u-o+2*s,y=f-d+2*s,_=o-s,E=d-s,x=c(this,Qa).at(r?-1:-2),D=[x[0],x[2]];for(const R of c(this,Qa)){const[N,z,B]=R;R[0]=(N-_)/b,R[1]=(z-E)/y,R[2]=(B-E)/y}S(this,od,{x:_,y:E,width:b,height:y,lastPoint:D})}getOutlines(){c(this,Qa).sort((i,s)=>i[0]-s[0]||i[1]-s[1]||i[2]-s[2]);const e=[];for(const i of c(this,Qa))i[3]?(e.push(...T(this,mi,C0).call(this,i)),T(this,mi,t1).call(this,i)):(T(this,mi,e1).call(this,i),e.push(...T(this,mi,C0).call(this,i)));return T(this,mi,JS).call(this,e)}}od=new WeakMap,Qa=new WeakMap,Mn=new WeakMap,mi=new WeakSet,JS=function(e){const i=[],s=new Set;for(const u of e){const[d,f,p]=u;i.push([d,f,u],[d,p,u])}i.sort((u,d)=>u[1]-d[1]||u[0]-d[0]);for(let u=0,d=i.length;u<d;u+=2){const f=i[u][2],p=i[u+1][2];f.push(p),p.push(f),s.add(f),s.add(p)}const r=[];let o;for(;s.size>0;){const u=s.values().next().value;let[d,f,p,v,b]=u;s.delete(u);let y=d,_=f;for(o=[d,p],r.push(o);;){let E;if(s.has(v))E=v;else if(s.has(b))E=b;else break;s.delete(E),[d,f,p,v,b]=E,y!==d&&(o.push(y,_,d,_===f?f:p),y=d),_=_===f?p:f}o.push(y,_)}return new CR(r,c(this,od))},vp=function(e){const i=c(this,Mn);let s=0,r=i.length-1;for(;s<=r;){const o=s+r>>1,u=i[o][0];if(u===e)return o;u<e?s=o+1:r=o-1}return r+1},t1=function([,e,i]){const s=T(this,mi,vp).call(this,e);c(this,Mn).splice(s,0,[e,i])},e1=function([,e,i]){const s=T(this,mi,vp).call(this,e);for(let r=s;r<c(this,Mn).length;r++){const[o,u]=c(this,Mn)[r];if(o!==e)break;if(o===e&&u===i){c(this,Mn).splice(r,1);return}}for(let r=s-1;r>=0;r--){const[o,u]=c(this,Mn)[r];if(o!==e)break;if(o===e&&u===i){c(this,Mn).splice(r,1);return}}},C0=function(e){const[i,s,r]=e,o=[[i,s,r]],u=T(this,mi,vp).call(this,r);for(let d=0;d<u;d++){const[f,p]=c(this,Mn)[d];for(let v=0,b=o.length;v<b;v++){const[,y,_]=o[v];if(!(p<=y||_<=f)){if(y>=f){if(_>p)o[v][1]=p;else{if(b===1)return[];o.splice(v,1),v--,b--}continue}o[v][2]=f,_>p&&o.push([i,p,_])}}}return o};class i1{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(e,i){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof R0}}var cd,fc;class CR extends i1{constructor(i,s){super();w(this,cd);w(this,fc);S(this,fc,i),S(this,cd,s)}toSVGPath(){const i=[];for(const s of c(this,fc)){let[r,o]=s;i.push(`M${r} ${o}`);for(let u=2;u<s.length;u+=2){const d=s[u],f=s[u+1];d===r?(i.push(`V${f}`),o=f):f===o&&(i.push(`H${d}`),r=d)}i.push("Z")}return i.join(" ")}serialize([i,s,r,o],u){const d=[],f=r-i,p=o-s;for(const v of c(this,fc)){const b=new Array(v.length);for(let y=0;y<v.length;y+=2)b[y]=i+v[y]*f,b[y+1]=o-v[y+1]*p;d.push(b)}return d}get box(){return c(this,cd)}}cd=new WeakMap,fc=new WeakMap;var $n,Ks,pc,gc,Wn,zt,gl,ml,ud,hd,mc,vc,$a,dd,$p,Wp,fd,x0;const Ds=class Ds{constructor({x:e,y:i},s,r,o,u,d=0){w(this,fd);w(this,$n);w(this,Ks,[]);w(this,pc);w(this,gc);w(this,Wn,[]);w(this,zt,new Float64Array(18));w(this,gl);w(this,ml);w(this,ud);w(this,hd);w(this,mc);w(this,vc);w(this,$a,[]);S(this,$n,s),S(this,vc,o*r),S(this,gc,u),c(this,zt).set([NaN,NaN,NaN,NaN,e,i],6),S(this,pc,d),S(this,hd,c(Ds,dd)*r),S(this,ud,c(Ds,Wp)*r),S(this,mc,r),c(this,$a).push(e,i)}get free(){return!0}isEmpty(){return isNaN(c(this,zt)[8])}add({x:e,y:i}){var q;S(this,gl,e),S(this,ml,i);const[s,r,o,u]=c(this,$n);let[d,f,p,v]=c(this,zt).subarray(8,12);const b=e-p,y=i-v,_=Math.hypot(b,y);if(_<c(this,ud))return!1;const E=_-c(this,hd),x=E/_,D=x*b,R=x*y;let N=d,z=f;d=p,f=v,p+=D,v+=R,(q=c(this,$a))==null||q.push(e,i);const B=-R/E,U=D/E,j=B*c(this,vc),W=U*c(this,vc);return c(this,zt).set(c(this,zt).subarray(2,8),0),c(this,zt).set([p+j,v+W],4),c(this,zt).set(c(this,zt).subarray(14,18),12),c(this,zt).set([p-j,v-W],16),isNaN(c(this,zt)[6])?(c(this,Wn).length===0&&(c(this,zt).set([d+j,f+W],2),c(this,Wn).push(NaN,NaN,NaN,NaN,(d+j-s)/o,(f+W-r)/u),c(this,zt).set([d-j,f-W],14),c(this,Ks).push(NaN,NaN,NaN,NaN,(d-j-s)/o,(f-W-r)/u)),c(this,zt).set([N,z,d,f,p,v],6),!this.isEmpty()):(c(this,zt).set([N,z,d,f,p,v],6),Math.abs(Math.atan2(z-f,N-d)-Math.atan2(R,D))<Math.PI/2?([d,f,p,v]=c(this,zt).subarray(2,6),c(this,Wn).push(NaN,NaN,NaN,NaN,((d+p)/2-s)/o,((f+v)/2-r)/u),[d,f,N,z]=c(this,zt).subarray(14,18),c(this,Ks).push(NaN,NaN,NaN,NaN,((N+d)/2-s)/o,((z+f)/2-r)/u),!0):([N,z,d,f,p,v]=c(this,zt).subarray(0,6),c(this,Wn).push(((N+5*d)/6-s)/o,((z+5*f)/6-r)/u,((5*d+p)/6-s)/o,((5*f+v)/6-r)/u,((d+p)/2-s)/o,((f+v)/2-r)/u),[p,v,d,f,N,z]=c(this,zt).subarray(12,18),c(this,Ks).push(((N+5*d)/6-s)/o,((z+5*f)/6-r)/u,((5*d+p)/6-s)/o,((5*f+v)/6-r)/u,((d+p)/2-s)/o,((f+v)/2-r)/u),!0))}toSVGPath(){if(this.isEmpty())return"";const e=c(this,Wn),i=c(this,Ks),s=c(this,zt).subarray(4,6),r=c(this,zt).subarray(16,18),[o,u,d,f]=c(this,$n),[p,v,b,y]=T(this,fd,x0).call(this);if(isNaN(c(this,zt)[6])&&!this.isEmpty())return`M${(c(this,zt)[2]-o)/d} ${(c(this,zt)[3]-u)/f} L${(c(this,zt)[4]-o)/d} ${(c(this,zt)[5]-u)/f} L${p} ${v} L${b} ${y} L${(c(this,zt)[16]-o)/d} ${(c(this,zt)[17]-u)/f} L${(c(this,zt)[14]-o)/d} ${(c(this,zt)[15]-u)/f} Z`;const _=[];_.push(`M${e[4]} ${e[5]}`);for(let E=6;E<e.length;E+=6)isNaN(e[E])?_.push(`L${e[E+4]} ${e[E+5]}`):_.push(`C${e[E]} ${e[E+1]} ${e[E+2]} ${e[E+3]} ${e[E+4]} ${e[E+5]}`);_.push(`L${(s[0]-o)/d} ${(s[1]-u)/f} L${p} ${v} L${b} ${y} L${(r[0]-o)/d} ${(r[1]-u)/f}`);for(let E=i.length-6;E>=6;E-=6)isNaN(i[E])?_.push(`L${i[E+4]} ${i[E+5]}`):_.push(`C${i[E]} ${i[E+1]} ${i[E+2]} ${i[E+3]} ${i[E+4]} ${i[E+5]}`);return _.push(`L${i[4]} ${i[5]} Z`),_.join(" ")}getOutlines(){var R;const e=c(this,Wn),i=c(this,Ks),s=c(this,zt),r=s.subarray(4,6),o=s.subarray(16,18),[u,d,f,p]=c(this,$n),v=new Float64Array((((R=c(this,$a))==null?void 0:R.length)??0)+2);for(let N=0,z=v.length-2;N<z;N+=2)v[N]=(c(this,$a)[N]-u)/f,v[N+1]=(c(this,$a)[N+1]-d)/p;v[v.length-2]=(c(this,gl)-u)/f,v[v.length-1]=(c(this,ml)-d)/p;const[b,y,_,E]=T(this,fd,x0).call(this);if(isNaN(s[6])&&!this.isEmpty()){const N=new Float64Array(36);return N.set([NaN,NaN,NaN,NaN,(s[2]-u)/f,(s[3]-d)/p,NaN,NaN,NaN,NaN,(s[4]-u)/f,(s[5]-d)/p,NaN,NaN,NaN,NaN,b,y,NaN,NaN,NaN,NaN,_,E,NaN,NaN,NaN,NaN,(s[16]-u)/f,(s[17]-d)/p,NaN,NaN,NaN,NaN,(s[14]-u)/f,(s[15]-d)/p],0),new R0(N,v,c(this,$n),c(this,mc),c(this,pc),c(this,gc))}const x=new Float64Array(c(this,Wn).length+24+c(this,Ks).length);let D=e.length;for(let N=0;N<D;N+=2){if(isNaN(e[N])){x[N]=x[N+1]=NaN;continue}x[N]=e[N],x[N+1]=e[N+1]}x.set([NaN,NaN,NaN,NaN,(r[0]-u)/f,(r[1]-d)/p,NaN,NaN,NaN,NaN,b,y,NaN,NaN,NaN,NaN,_,E,NaN,NaN,NaN,NaN,(o[0]-u)/f,(o[1]-d)/p],D),D+=24;for(let N=i.length-6;N>=6;N-=6)for(let z=0;z<6;z+=2){if(isNaN(i[N+z])){x[D]=x[D+1]=NaN,D+=2;continue}x[D]=i[N+z],x[D+1]=i[N+z+1],D+=2}return x.set([NaN,NaN,NaN,NaN,i[4],i[5]],D),new R0(x,v,c(this,$n),c(this,mc),c(this,pc),c(this,gc))}};$n=new WeakMap,Ks=new WeakMap,pc=new WeakMap,gc=new WeakMap,Wn=new WeakMap,zt=new WeakMap,gl=new WeakMap,ml=new WeakMap,ud=new WeakMap,hd=new WeakMap,mc=new WeakMap,vc=new WeakMap,$a=new WeakMap,dd=new WeakMap,$p=new WeakMap,Wp=new WeakMap,fd=new WeakSet,x0=function(){const e=c(this,zt).subarray(4,6),i=c(this,zt).subarray(16,18),[s,r,o,u]=c(this,$n);return[(c(this,gl)+(e[0]-i[0])/2-s)/o,(c(this,ml)+(e[1]-i[1])/2-r)/u,(c(this,gl)+(i[0]-e[0])/2-s)/o,(c(this,ml)+(i[1]-e[1])/2-r)/u]},w(Ds,dd,8),w(Ds,$p,2),w(Ds,Wp,c(Ds,dd)+c(Ds,$p));let Lp=Ds;var bc,vl,Qs,pd,Ii,gd,ye,wi,Iu,Gu,n1;class R0 extends i1{constructor(i,s,r,o,u,d){super();w(this,wi);w(this,bc);w(this,vl,null);w(this,Qs);w(this,pd);w(this,Ii);w(this,gd);w(this,ye);S(this,ye,i),S(this,Ii,s),S(this,bc,r),S(this,gd,o),S(this,Qs,u),S(this,pd,d),T(this,wi,n1).call(this,d);const{x:f,y:p,width:v,height:b}=c(this,vl);for(let y=0,_=i.length;y<_;y+=2)i[y]=(i[y]-f)/v,i[y+1]=(i[y+1]-p)/b;for(let y=0,_=s.length;y<_;y+=2)s[y]=(s[y]-f)/v,s[y+1]=(s[y+1]-p)/b}toSVGPath(){const i=[`M${c(this,ye)[4]} ${c(this,ye)[5]}`];for(let s=6,r=c(this,ye).length;s<r;s+=6){if(isNaN(c(this,ye)[s])){i.push(`L${c(this,ye)[s+4]} ${c(this,ye)[s+5]}`);continue}i.push(`C${c(this,ye)[s]} ${c(this,ye)[s+1]} ${c(this,ye)[s+2]} ${c(this,ye)[s+3]} ${c(this,ye)[s+4]} ${c(this,ye)[s+5]}`)}return i.push("Z"),i.join(" ")}serialize([i,s,r,o],u){const d=r-i,f=o-s;let p,v;switch(u){case 0:p=T(this,wi,Iu).call(this,c(this,ye),i,o,d,-f),v=T(this,wi,Iu).call(this,c(this,Ii),i,o,d,-f);break;case 90:p=T(this,wi,Gu).call(this,c(this,ye),i,s,d,f),v=T(this,wi,Gu).call(this,c(this,Ii),i,s,d,f);break;case 180:p=T(this,wi,Iu).call(this,c(this,ye),r,s,-d,f),v=T(this,wi,Iu).call(this,c(this,Ii),r,s,-d,f);break;case 270:p=T(this,wi,Gu).call(this,c(this,ye),r,o,-d,-f),v=T(this,wi,Gu).call(this,c(this,Ii),r,o,-d,-f);break}return{outline:Array.from(p),points:[Array.from(v)]}}get box(){return c(this,vl)}getNewOutline(i,s){const{x:r,y:o,width:u,height:d}=c(this,vl),[f,p,v,b]=c(this,bc),y=u*v,_=d*b,E=r*v+f,x=o*b+p,D=new Lp({x:c(this,Ii)[0]*y+E,y:c(this,Ii)[1]*_+x},c(this,bc),c(this,gd),i,c(this,pd),s??c(this,Qs));for(let R=2;R<c(this,Ii).length;R+=2)D.add({x:c(this,Ii)[R]*y+E,y:c(this,Ii)[R+1]*_+x});return D.getOutlines()}}bc=new WeakMap,vl=new WeakMap,Qs=new WeakMap,pd=new WeakMap,Ii=new WeakMap,gd=new WeakMap,ye=new WeakMap,wi=new WeakSet,Iu=function(i,s,r,o,u){const d=new Float64Array(i.length);for(let f=0,p=i.length;f<p;f+=2)d[f]=s+i[f]*o,d[f+1]=r+i[f+1]*u;return d},Gu=function(i,s,r,o,u){const d=new Float64Array(i.length);for(let f=0,p=i.length;f<p;f+=2)d[f]=s+i[f+1]*o,d[f+1]=r+i[f]*u;return d},n1=function(i){const s=c(this,ye);let r=s[4],o=s[5],u=r,d=o,f=r,p=o,v=r,b=o;const y=i?Math.max:Math.min;for(let R=6,N=s.length;R<N;R+=6){if(isNaN(s[R]))u=Math.min(u,s[R+4]),d=Math.min(d,s[R+5]),f=Math.max(f,s[R+4]),p=Math.max(p,s[R+5]),b<s[R+5]?(v=s[R+4],b=s[R+5]):b===s[R+5]&&(v=y(v,s[R+4]));else{const z=ut.bezierBoundingBox(r,o,...s.slice(R,R+6));u=Math.min(u,z[0]),d=Math.min(d,z[1]),f=Math.max(f,z[2]),p=Math.max(p,z[3]),b<z[3]?(v=z[2],b=z[3]):b===z[3]&&(v=y(v,z[2]))}r=s[R+4],o=s[R+5]}const _=u-c(this,Qs),E=d-c(this,Qs),x=f-u+2*c(this,Qs),D=p-d+2*c(this,Qs);S(this,vl,{x:_,y:E,width:x,height:D,lastPoint:[v,b]})};var md,vd,Dn,bl,yc,De,bd,Ac,yd,Ad,Ln,_c,ne,M0,D0,s1,Or,a1,Pa;const Ls=class Ls{constructor({editor:e=null,uiManager:i=null}){w(this,ne);w(this,md,T(this,ne,s1).bind(this));w(this,vd,T(this,ne,a1).bind(this));w(this,Dn,null);w(this,bl,null);w(this,yc);w(this,De,null);w(this,bd,!1);w(this,Ac,!1);w(this,yd,null);w(this,Ad);w(this,Ln,null);w(this,_c);var s;e?(S(this,Ac,!1),S(this,_c,Et.HIGHLIGHT_COLOR),S(this,yd,e)):(S(this,Ac,!0),S(this,_c,Et.HIGHLIGHT_DEFAULT_COLOR)),S(this,Ln,(e==null?void 0:e._uiManager)||i),S(this,Ad,c(this,Ln)._eventBus),S(this,yc,(e==null?void 0:e.color)||((s=c(this,Ln))==null?void 0:s.highlightColors.values().next().value)||"#FFFF98")}static get _keyboardManager(){return jt(this,"_keyboardManager",new Od([[["Escape","mac+Escape"],Ls.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Ls.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Ls.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Ls.prototype._moveToPrevious],[["Home","mac+Home"],Ls.prototype._moveToBeginning],[["End","mac+End"],Ls.prototype._moveToEnd]]))}renderButton(){const e=S(this,Dn,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const i=c(this,Ln)._signal;e.addEventListener("click",T(this,ne,Or).bind(this),{signal:i}),e.addEventListener("keydown",c(this,md),{signal:i});const s=S(this,bl,document.createElement("span"));return s.className="swatch",s.setAttribute("aria-hidden",!0),s.style.backgroundColor=c(this,yc),e.append(s),e}renderMainDropdown(){const e=S(this,De,T(this,ne,M0).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===c(this,Dn)){T(this,ne,Or).call(this,e);return}const i=e.target.getAttribute("data-color");i&&T(this,ne,D0).call(this,i,e)}_moveToNext(e){var i,s;if(!c(this,ne,Pa)){T(this,ne,Or).call(this,e);return}if(e.target===c(this,Dn)){(i=c(this,De).firstChild)==null||i.focus();return}(s=e.target.nextSibling)==null||s.focus()}_moveToPrevious(e){var i,s;if(e.target===((i=c(this,De))==null?void 0:i.firstChild)||e.target===c(this,Dn)){c(this,ne,Pa)&&this._hideDropdownFromKeyboard();return}c(this,ne,Pa)||T(this,ne,Or).call(this,e),(s=e.target.previousSibling)==null||s.focus()}_moveToBeginning(e){var i;if(!c(this,ne,Pa)){T(this,ne,Or).call(this,e);return}(i=c(this,De).firstChild)==null||i.focus()}_moveToEnd(e){var i;if(!c(this,ne,Pa)){T(this,ne,Or).call(this,e);return}(i=c(this,De).lastChild)==null||i.focus()}hideDropdown(){var e;(e=c(this,De))==null||e.classList.add("hidden"),window.removeEventListener("pointerdown",c(this,vd))}_hideDropdownFromKeyboard(){var e;if(!c(this,Ac)){if(!c(this,ne,Pa)){(e=c(this,yd))==null||e.unselect();return}this.hideDropdown(),c(this,Dn).focus({preventScroll:!0,focusVisible:c(this,bd)})}}updateColor(e){if(c(this,bl)&&(c(this,bl).style.backgroundColor=e),!c(this,De))return;const i=c(this,Ln).highlightColors.values();for(const s of c(this,De).children)s.setAttribute("aria-selected",i.next().value===e)}destroy(){var e,i;(e=c(this,Dn))==null||e.remove(),S(this,Dn,null),S(this,bl,null),(i=c(this,De))==null||i.remove(),S(this,De,null)}};md=new WeakMap,vd=new WeakMap,Dn=new WeakMap,bl=new WeakMap,yc=new WeakMap,De=new WeakMap,bd=new WeakMap,Ac=new WeakMap,yd=new WeakMap,Ad=new WeakMap,Ln=new WeakMap,_c=new WeakMap,ne=new WeakSet,M0=function(){const e=document.createElement("div"),i=c(this,Ln)._signal;e.addEventListener("contextmenu",Ci,{signal:i}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[s,r]of c(this,Ln).highlightColors){const o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",r),o.title=s,o.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${s}`);const u=document.createElement("span");o.append(u),u.className="swatch",u.style.backgroundColor=r,o.setAttribute("aria-selected",r===c(this,yc)),o.addEventListener("click",T(this,ne,D0).bind(this,r),{signal:i}),e.append(o)}return e.addEventListener("keydown",c(this,md),{signal:i}),e},D0=function(e,i){i.stopPropagation(),c(this,Ad).dispatch("switchannotationeditorparams",{source:this,type:c(this,_c),value:e})},s1=function(e){Ls._keyboardManager.exec(this,e)},Or=function(e){if(c(this,ne,Pa)){this.hideDropdown();return}if(S(this,bd,e.detail===0),window.addEventListener("pointerdown",c(this,vd),{signal:c(this,Ln)._signal}),c(this,De)){c(this,De).classList.remove("hidden");return}const i=S(this,De,T(this,ne,M0).call(this));c(this,Dn).append(i)},a1=function(e){var i;(i=c(this,De))!=null&&i.contains(e.target)||this.hideDropdown()},Pa=function(){return c(this,De)&&!c(this,De).classList.contains("hidden")};let Op=Ls;var Ec,_d,Wa,yl,Sc,cn,Ed,Sd,Al,On,di,Gi,Zp,Tc,_l,Le,wc,Zn,Td,Nt,L0,O0,r1,l1,o1,k0,qu,fn,Ro,c1,bp,Vu,u1,h1,d1,f1;const Xt=class Xt extends Kt{constructor(i){super({...i,name:"highlightEditor"});w(this,Nt);w(this,Ec,null);w(this,_d,0);w(this,Wa);w(this,yl,null);w(this,Sc,null);w(this,cn,null);w(this,Ed,null);w(this,Sd,0);w(this,Al,null);w(this,On,null);w(this,di,null);w(this,Gi,!1);w(this,Zp,T(this,Nt,c1).bind(this));w(this,Tc,null);w(this,_l);w(this,Le,null);w(this,wc,"");w(this,Zn);w(this,Td,"");this.color=i.color||Xt._defaultColor,S(this,Zn,i.thickness||Xt._defaultThickness),S(this,_l,i.opacity||Xt._defaultOpacity),S(this,Wa,i.boxes||null),S(this,Td,i.methodOfCreation||""),S(this,wc,i.text||""),this._isDraggable=!1,i.highlightId>-1?(S(this,Gi,!0),T(this,Nt,O0).call(this,i),T(this,Nt,qu).call(this)):(S(this,Ec,i.anchorNode),S(this,_d,i.anchorOffset),S(this,Ed,i.focusNode),S(this,Sd,i.focusOffset),T(this,Nt,L0).call(this),T(this,Nt,qu).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const i=Xt.prototype;return jt(this,"_keyboardManager",new Od([[["ArrowLeft","mac+ArrowLeft"],i._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],i._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],i._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],i._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:c(this,Gi)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:c(this,Zn),methodOfCreation:c(this,Td)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(i){return{numberOfColors:i.get("color").size}}static initialize(i,s){var r;Kt.initialize(i,s),Xt._defaultColor||(Xt._defaultColor=((r=s.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(i,s){switch(i){case Et.HIGHLIGHT_DEFAULT_COLOR:Xt._defaultColor=s;break;case Et.HIGHLIGHT_THICKNESS:Xt._defaultThickness=s;break}}translateInPage(i,s){}get toolbarPosition(){return c(this,Tc)}updateParams(i,s){switch(i){case Et.HIGHLIGHT_COLOR:T(this,Nt,r1).call(this,s);break;case Et.HIGHLIGHT_THICKNESS:T(this,Nt,l1).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[Et.HIGHLIGHT_DEFAULT_COLOR,Xt._defaultColor],[Et.HIGHLIGHT_THICKNESS,Xt._defaultThickness]]}get propertiesToUpdate(){return[[Et.HIGHLIGHT_COLOR,this.color||Xt._defaultColor],[Et.HIGHLIGHT_THICKNESS,c(this,Zn)||Xt._defaultThickness],[Et.HIGHLIGHT_FREE,c(this,Gi)]]}async addEditToolbar(){const i=await super.addEditToolbar();return i?(this._uiManager.highlightColors&&(S(this,Sc,new Op({editor:this})),i.addColorPicker(c(this,Sc))),i):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(T(this,Nt,Vu).call(this))}getBaseTranslation(){return[0,0]}getRect(i,s){return super.getRect(i,s,T(this,Nt,Vu).call(this))}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){T(this,Nt,k0).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(T(this,Nt,qu).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(i){var r;let s=!1;this.parent&&!i?T(this,Nt,k0).call(this):i&&(T(this,Nt,qu).call(this,i),s=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(i),this.show(this._isVisible),s&&this.select()}rotate(i){var o,u,d;const{drawLayer:s}=this.parent;let r;c(this,Gi)?(i=(i-this.rotation+360)%360,r=T(o=Xt,fn,Ro).call(o,c(this,On).box,i)):r=T(u=Xt,fn,Ro).call(u,this,i),s.rotate(c(this,di),i),s.rotate(c(this,Le),i),s.updateBox(c(this,di),r),s.updateBox(c(this,Le),T(d=Xt,fn,Ro).call(d,c(this,cn).box,i))}render(){if(this.div)return this.div;const i=super.render();c(this,wc)&&(i.setAttribute("aria-label",c(this,wc)),i.setAttribute("role","mark")),c(this,Gi)?i.classList.add("free"):this.div.addEventListener("keydown",c(this,Zp),{signal:this._uiManager._signal});const s=S(this,Al,document.createElement("div"));i.append(s),s.setAttribute("aria-hidden","true"),s.className="internal",s.style.clipPath=c(this,yl);const[r,o]=this.parentDimensions;return this.setDims(this.width*r,this.height*o),xp(this,c(this,Al),["pointerover","pointerleave"]),this.enableEditing(),i}pointerover(){this.parent.drawLayer.addClass(c(this,Le),"hovered")}pointerleave(){this.parent.drawLayer.removeClass(c(this,Le),"hovered")}_moveCaret(i){switch(this.parent.unselect(this),i){case 0:case 2:T(this,Nt,bp).call(this,!0);break;case 1:case 3:T(this,Nt,bp).call(this,!1);break}}select(){var i,s;super.select(),c(this,Le)&&((i=this.parent)==null||i.drawLayer.removeClass(c(this,Le),"hovered"),(s=this.parent)==null||s.drawLayer.addClass(c(this,Le),"selected"))}unselect(){var i;super.unselect(),c(this,Le)&&((i=this.parent)==null||i.drawLayer.removeClass(c(this,Le),"selected"),c(this,Gi)||T(this,Nt,bp).call(this,!1))}get _mustFixPosition(){return!c(this,Gi)}show(i=this._isVisible){super.show(i),this.parent&&(this.parent.drawLayer.show(c(this,di),i),this.parent.drawLayer.show(c(this,Le),i))}static startHighlighting(i,s,{target:r,x:o,y:u}){const{x:d,y:f,width:p,height:v}=r.getBoundingClientRect(),b=D=>{T(this,fn,d1).call(this,i,D)},y=i._signal,_={capture:!0,passive:!1,signal:y},E=D=>{D.preventDefault(),D.stopPropagation()},x=D=>{r.removeEventListener("pointermove",b),window.removeEventListener("blur",x),window.removeEventListener("pointerup",x),window.removeEventListener("pointerdown",E,_),window.removeEventListener("contextmenu",Ci),T(this,fn,f1).call(this,i,D)};window.addEventListener("blur",x,{signal:y}),window.addEventListener("pointerup",x,{signal:y}),window.addEventListener("pointerdown",E,_),window.addEventListener("contextmenu",Ci,{signal:y}),r.addEventListener("pointermove",b,{signal:y}),this._freeHighlight=new Lp({x:o,y:u},[d,f,p,v],i.scale,this._defaultThickness/2,s,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=i.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static deserialize(i,s,r){var x;const o=super.deserialize(i,s,r),{rect:[u,d,f,p],color:v,quadPoints:b}=i;o.color=ut.makeHexColor(...v),S(o,_l,i.opacity);const[y,_]=o.pageDimensions;o.width=(f-u)/y,o.height=(p-d)/_;const E=S(o,Wa,[]);for(let D=0;D<b.length;D+=8)E.push({x:(b[4]-f)/y,y:(p-(1-b[D+5]))/_,width:(b[D+2]-b[D])/y,height:(b[D+5]-b[D+1])/_});return T(x=o,Nt,L0).call(x),o}serialize(i=!1){if(this.isEmpty()||i)return null;const s=this.getRect(0,0),r=Kt._colorManager.convert(this.color);return{annotationType:Bt.HIGHLIGHT,color:r,opacity:c(this,_l),thickness:c(this,Zn),quadPoints:T(this,Nt,u1).call(this),outlines:T(this,Nt,h1).call(this,s),pageIndex:this.pageIndex,rect:s,rotation:T(this,Nt,Vu).call(this),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}};Ec=new WeakMap,_d=new WeakMap,Wa=new WeakMap,yl=new WeakMap,Sc=new WeakMap,cn=new WeakMap,Ed=new WeakMap,Sd=new WeakMap,Al=new WeakMap,On=new WeakMap,di=new WeakMap,Gi=new WeakMap,Zp=new WeakMap,Tc=new WeakMap,_l=new WeakMap,Le=new WeakMap,wc=new WeakMap,Zn=new WeakMap,Td=new WeakMap,Nt=new WeakSet,L0=function(){const i=new w0(c(this,Wa),.001);S(this,On,i.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=c(this,On).box;const s=new w0(c(this,Wa),.0025,.001,this._uiManager.direction==="ltr");S(this,cn,s.getOutlines());const{lastPoint:r}=c(this,cn).box;S(this,Tc,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])},O0=function({highlightOutlines:i,highlightId:s,clipPathId:r}){var b,y;if(S(this,On,i),S(this,cn,i.getNewOutline(c(this,Zn)/2+1.5,.0025)),s>=0)S(this,di,s),S(this,yl,r),this.parent.drawLayer.finalizeLine(s,i),S(this,Le,this.parent.drawLayer.highlightOutline(c(this,cn)));else if(this.parent){const _=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(c(this,di),i),this.parent.drawLayer.updateBox(c(this,di),T(b=Xt,fn,Ro).call(b,c(this,On).box,(_-this.rotation+360)%360)),this.parent.drawLayer.updateLine(c(this,Le),c(this,cn)),this.parent.drawLayer.updateBox(c(this,Le),T(y=Xt,fn,Ro).call(y,c(this,cn).box,_))}const{x:u,y:d,width:f,height:p}=i.box;switch(this.rotation){case 0:this.x=u,this.y=d,this.width=f,this.height=p;break;case 90:{const[_,E]=this.parentDimensions;this.x=d,this.y=1-u,this.width=f*E/_,this.height=p*_/E;break}case 180:this.x=1-u,this.y=1-d,this.width=f,this.height=p;break;case 270:{const[_,E]=this.parentDimensions;this.x=1-d,this.y=u,this.width=f*E/_,this.height=p*_/E;break}}const{lastPoint:v}=c(this,cn).box;S(this,Tc,[(v[0]-u)/f,(v[1]-d)/p])},r1=function(i){const s=o=>{var u,d;this.color=o,(u=this.parent)==null||u.drawLayer.changeColor(c(this,di),o),(d=c(this,Sc))==null||d.updateColor(o)},r=this.color;this.addCommands({cmd:s.bind(this,i),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Et.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(i)},!0)},l1=function(i){const s=c(this,Zn),r=o=>{S(this,Zn,o),T(this,Nt,o1).call(this,o)};this.addCommands({cmd:r.bind(this,i),undo:r.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Et.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:i},!0)},o1=function(i){if(!c(this,Gi))return;T(this,Nt,O0).call(this,{highlightOutlines:c(this,On).getNewOutline(i/2)}),this.fixAndSetPosition();const[s,r]=this.parentDimensions;this.setDims(this.width*s,this.height*r)},k0=function(){c(this,di)===null||!this.parent||(this.parent.drawLayer.remove(c(this,di)),S(this,di,null),this.parent.drawLayer.remove(c(this,Le)),S(this,Le,null))},qu=function(i=this.parent){c(this,di)===null&&({id:Ni(this,di)._,clipPathId:Ni(this,yl)._}=i.drawLayer.highlight(c(this,On),this.color,c(this,_l)),S(this,Le,i.drawLayer.highlightOutline(c(this,cn))),c(this,Al)&&(c(this,Al).style.clipPath=c(this,yl)))},fn=new WeakSet,Ro=function({x:i,y:s,width:r,height:o},u){switch(u){case 90:return{x:1-s-o,y:i,width:o,height:r};case 180:return{x:1-i-r,y:1-s-o,width:r,height:o};case 270:return{x:s,y:1-i-r,width:o,height:r}}return{x:i,y:s,width:r,height:o}},c1=function(i){Xt._keyboardManager.exec(this,i)},bp=function(i){if(!c(this,Ec))return;const s=window.getSelection();i?s.setPosition(c(this,Ec),c(this,_d)):s.setPosition(c(this,Ed),c(this,Sd))},Vu=function(){return c(this,Gi)?this.rotation:0},u1=function(){if(c(this,Gi))return null;const[i,s]=this.pageDimensions,r=c(this,Wa),o=new Float32Array(r.length*8);let u=0;for(const{x:d,y:f,width:p,height:v}of r){const b=d*i,y=(1-f-v)*s;o[u]=o[u+4]=b,o[u+1]=o[u+3]=y,o[u+2]=o[u+6]=b+p*i,o[u+5]=o[u+7]=y+v*s,u+=8}return o},h1=function(i){return c(this,On).serialize(i,T(this,Nt,Vu).call(this))},d1=function(i,s){this._freeHighlight.add(s)&&i.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},f1=function(i,s){this._freeHighlight.isEmpty()?i.drawLayer.removeFreeHighlight(this._freeHighlightId):i.createAndAddNewEditor(s,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},w(Xt,fn),wt(Xt,"_defaultColor",null),wt(Xt,"_defaultOpacity",1),wt(Xt,"_defaultThickness",12),wt(Xt,"_l10nPromise"),wt(Xt,"_type","highlight"),wt(Xt,"_editorType",Bt.HIGHLIGHT),wt(Xt,"_freeHighlightId",-1),wt(Xt,"_freeHighlight",null),wt(Xt,"_freeHighlightClipId","");let kp=Xt;var El,Sl,wd,Cd,xd,Tl,Jn,$s,un,wl,Cl,Ws,xl,Rl,Za,st,p1,g1,m1,v1,P0,b1,H0,y1,A1,_1,E1,S1,kr,z0,yp,Ap,Mo,F0,_p,oa,T1,U0,w1,C1,B0,Ep,Xu;const he=class he extends Kt{constructor(i){super({...i,name:"inkEditor"});w(this,st);w(this,El,0);w(this,Sl,0);w(this,wd,this.canvasPointermove.bind(this));w(this,Cd,this.canvasPointerleave.bind(this));w(this,xd,this.canvasPointerup.bind(this));w(this,Tl,this.canvasPointerdown.bind(this));w(this,Jn,null);w(this,$s,new Path2D);w(this,un,!1);w(this,wl,!1);w(this,Cl,!1);w(this,Ws,null);w(this,xl,0);w(this,Rl,0);w(this,Za,null);this.color=i.color||null,this.thickness=i.thickness||null,this.opacity=i.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(i,s){Kt.initialize(i,s)}static updateDefaultParams(i,s){switch(i){case Et.INK_THICKNESS:he._defaultThickness=s;break;case Et.INK_COLOR:he._defaultColor=s;break;case Et.INK_OPACITY:he._defaultOpacity=s/100;break}}updateParams(i,s){switch(i){case Et.INK_THICKNESS:T(this,st,p1).call(this,s);break;case Et.INK_COLOR:T(this,st,g1).call(this,s);break;case Et.INK_OPACITY:T(this,st,m1).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[Et.INK_THICKNESS,he._defaultThickness],[Et.INK_COLOR,he._defaultColor||Kt._defaultLineColor],[Et.INK_OPACITY,Math.round(he._defaultOpacity*100)]]}get propertiesToUpdate(){return[[Et.INK_THICKNESS,this.thickness||he._defaultThickness],[Et.INK_COLOR,this.color||he._defaultColor||Kt._defaultLineColor],[Et.INK_OPACITY,Math.round(100*(this.opacity??he._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(T(this,st,yp).call(this),T(this,st,Ap).call(this)),this.isAttachedToDOM||(this.parent.add(this),T(this,st,Mo).call(this)),T(this,st,Xu).call(this)))}remove(){var i;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,c(this,Jn)&&(clearTimeout(c(this,Jn)),S(this,Jn,null)),(i=c(this,Ws))==null||i.disconnect(),S(this,Ws,null),super.remove())}setParent(i){!this.parent&&i?this._uiManager.removeShouldRescale(this):this.parent&&i===null&&this._uiManager.addShouldRescale(this),super.setParent(i)}onScaleChanging(){const[i,s]=this.parentDimensions,r=this.width*i,o=this.height*s;this.setDimensions(r,o)}enableEditMode(){c(this,un)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",c(this,Tl),{signal:this._uiManager._signal}))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",c(this,Tl)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){c(this,un)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),S(this,un,!0),this.div.classList.add("disabled"),T(this,st,Xu).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(i){this._focusEventsAllowed&&(super.focusin(i),this.enableEditMode())}canvasPointerdown(i){i.button!==0||!this.isInEditMode()||c(this,un)||(this.setInForeground(),i.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),T(this,st,b1).call(this,i.offsetX,i.offsetY))}canvasPointermove(i){i.preventDefault(),T(this,st,H0).call(this,i.offsetX,i.offsetY)}canvasPointerup(i){i.preventDefault(),T(this,st,z0).call(this,i)}canvasPointerleave(i){T(this,st,z0).call(this,i)}get isResizable(){return!this.isEmpty()&&c(this,un)}render(){if(this.div)return this.div;let i,s;this.width&&(i=this.x,s=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[r,o,u,d]=T(this,st,v1).call(this);if(this.setAt(r,o,0,0),this.setDims(u,d),T(this,st,yp).call(this),this.width){const[f,p]=this.parentDimensions;this.setAspectRatio(this.width*f,this.height*p),this.setAt(i*f,s*p,this.width*f,this.height*p),S(this,Cl,!0),T(this,st,Mo).call(this),this.setDims(this.width*f,this.height*p),T(this,st,kr).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return T(this,st,Ap).call(this),this.div}setDimensions(i,s){const r=Math.round(i),o=Math.round(s);if(c(this,xl)===r&&c(this,Rl)===o)return;S(this,xl,r),S(this,Rl,o),this.canvas.style.visibility="hidden";const[u,d]=this.parentDimensions;this.width=i/u,this.height=s/d,this.fixAndSetPosition(),c(this,un)&&T(this,st,F0).call(this,i,s),T(this,st,Mo).call(this),T(this,st,kr).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(i,s,r){var D,R,N;if(i instanceof VS)return null;const o=super.deserialize(i,s,r);o.thickness=i.thickness,o.color=ut.makeHexColor(...i.color),o.opacity=i.opacity;const[u,d]=o.pageDimensions,f=o.width*u,p=o.height*d,v=o.parentScale,b=i.thickness/2;S(o,un,!0),S(o,xl,Math.round(f)),S(o,Rl,Math.round(p));const{paths:y,rect:_,rotation:E}=i;for(let{bezier:z}of y){z=T(D=he,oa,w1).call(D,z,_,E);const B=[];o.paths.push(B);let U=v*(z[0]-b),j=v*(z[1]-b);for(let Z=2,q=z.length;Z<q;Z+=6){const J=v*(z[Z]-b),et=v*(z[Z+1]-b),Tt=v*(z[Z+2]-b),gt=v*(z[Z+3]-b),ht=v*(z[Z+4]-b),mt=v*(z[Z+5]-b);B.push([[U,j],[J,et],[Tt,gt],[ht,mt]]),U=ht,j=mt}const W=T(this,oa,T1).call(this,B);o.bezierPath2D.push(W)}const x=T(R=o,st,B0).call(R);return S(o,Sl,Math.max(Kt.MIN_SIZE,x[2]-x[0])),S(o,El,Math.max(Kt.MIN_SIZE,x[3]-x[1])),T(N=o,st,F0).call(N,f,p),o}serialize(){if(this.isEmpty())return null;const i=this.getRect(0,0),s=Kt._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Bt.INK,color:s,thickness:this.thickness,opacity:this.opacity,paths:T(this,st,C1).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,i),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};El=new WeakMap,Sl=new WeakMap,wd=new WeakMap,Cd=new WeakMap,xd=new WeakMap,Tl=new WeakMap,Jn=new WeakMap,$s=new WeakMap,un=new WeakMap,wl=new WeakMap,Cl=new WeakMap,Ws=new WeakMap,xl=new WeakMap,Rl=new WeakMap,Za=new WeakMap,st=new WeakSet,p1=function(i){const s=o=>{this.thickness=o,T(this,st,Xu).call(this)},r=this.thickness;this.addCommands({cmd:s.bind(this,i),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Et.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},g1=function(i){const s=o=>{this.color=o,T(this,st,kr).call(this)},r=this.color;this.addCommands({cmd:s.bind(this,i),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Et.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},m1=function(i){const s=o=>{this.opacity=o,T(this,st,kr).call(this)};i/=100;const r=this.opacity;this.addCommands({cmd:s.bind(this,i),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Et.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},v1=function(){const{parentRotation:i,parentDimensions:[s,r]}=this;switch(i){case 90:return[0,r,r,s];case 180:return[s,r,s,r];case 270:return[s,0,r,s];default:return[0,0,s,r]}},P0=function(){const{ctx:i,color:s,opacity:r,thickness:o,parentScale:u,scaleFactor:d}=this;i.lineWidth=o*u/d,i.lineCap="round",i.lineJoin="round",i.miterLimit=10,i.strokeStyle=`${s}${$C(r)}`},b1=function(i,s){const r=this._uiManager._signal;this.canvas.addEventListener("contextmenu",Ci,{signal:r}),this.canvas.addEventListener("pointerleave",c(this,Cd),{signal:r}),this.canvas.addEventListener("pointermove",c(this,wd),{signal:r}),this.canvas.addEventListener("pointerup",c(this,xd),{signal:r}),this.canvas.removeEventListener("pointerdown",c(this,Tl)),this.isEditing=!0,c(this,Cl)||(S(this,Cl,!0),T(this,st,Mo).call(this),this.thickness||(this.thickness=he._defaultThickness),this.color||(this.color=he._defaultColor||Kt._defaultLineColor),this.opacity??(this.opacity=he._defaultOpacity)),this.currentPath.push([i,s]),S(this,wl,!1),T(this,st,P0).call(this),S(this,Za,()=>{T(this,st,_1).call(this),c(this,Za)&&window.requestAnimationFrame(c(this,Za))}),window.requestAnimationFrame(c(this,Za))},H0=function(i,s){const[r,o]=this.currentPath.at(-1);if(this.currentPath.length>1&&i===r&&s===o)return;const u=this.currentPath;let d=c(this,$s);if(u.push([i,s]),S(this,wl,!0),u.length<=2){d.moveTo(...u[0]),d.lineTo(i,s);return}u.length===3&&(S(this,$s,d=new Path2D),d.moveTo(...u[0])),T(this,st,E1).call(this,d,...u.at(-3),...u.at(-2),i,s)},y1=function(){if(this.currentPath.length===0)return;const i=this.currentPath.at(-1);c(this,$s).lineTo(...i)},A1=function(i,s){S(this,Za,null),i=Math.min(Math.max(i,0),this.canvas.width),s=Math.min(Math.max(s,0),this.canvas.height),T(this,st,H0).call(this,i,s),T(this,st,y1).call(this);let r;if(this.currentPath.length!==1)r=T(this,st,S1).call(this);else{const p=[i,s];r=[[p,p.slice(),p.slice(),p]]}const o=c(this,$s),u=this.currentPath;this.currentPath=[],S(this,$s,new Path2D);const d=()=>{this.allRawPaths.push(u),this.paths.push(r),this.bezierPath2D.push(o),this._uiManager.rebuild(this)},f=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(T(this,st,yp).call(this),T(this,st,Ap).call(this)),T(this,st,Xu).call(this))};this.addCommands({cmd:d,undo:f,mustExec:!0})},_1=function(){if(!c(this,wl))return;S(this,wl,!1);const i=Math.ceil(this.thickness*this.parentScale),s=this.currentPath.slice(-3),r=s.map(d=>d[0]),o=s.map(d=>d[1]);Math.min(...r)-i,Math.max(...r)+i,Math.min(...o)-i,Math.max(...o)+i;const{ctx:u}=this;u.save(),u.clearRect(0,0,this.canvas.width,this.canvas.height);for(const d of this.bezierPath2D)u.stroke(d);u.stroke(c(this,$s)),u.restore()},E1=function(i,s,r,o,u,d,f){const p=(s+o)/2,v=(r+u)/2,b=(o+d)/2,y=(u+f)/2;i.bezierCurveTo(p+2*(o-p)/3,v+2*(u-v)/3,b+2*(o-b)/3,y+2*(u-y)/3,b,y)},S1=function(){const i=this.currentPath;if(i.length<=2)return[[i[0],i[0],i.at(-1),i.at(-1)]];const s=[];let r,[o,u]=i[0];for(r=1;r<i.length-2;r++){const[_,E]=i[r],[x,D]=i[r+1],R=(_+x)/2,N=(E+D)/2,z=[o+2*(_-o)/3,u+2*(E-u)/3],B=[R+2*(_-R)/3,N+2*(E-N)/3];s.push([[o,u],z,B,[R,N]]),[o,u]=[R,N]}const[d,f]=i[r],[p,v]=i[r+1],b=[o+2*(d-o)/3,u+2*(f-u)/3],y=[p+2*(d-p)/3,v+2*(f-v)/3];return s.push([[o,u],b,y,[p,v]]),s},kr=function(){if(this.isEmpty()){T(this,st,_p).call(this);return}T(this,st,P0).call(this);const{canvas:i,ctx:s}=this;s.setTransform(1,0,0,1,0,0),s.clearRect(0,0,i.width,i.height),T(this,st,_p).call(this);for(const r of this.bezierPath2D)s.stroke(r)},z0=function(i){this.canvas.removeEventListener("pointerleave",c(this,Cd)),this.canvas.removeEventListener("pointermove",c(this,wd)),this.canvas.removeEventListener("pointerup",c(this,xd)),this.canvas.addEventListener("pointerdown",c(this,Tl),{signal:this._uiManager._signal}),c(this,Jn)&&clearTimeout(c(this,Jn)),S(this,Jn,setTimeout(()=>{S(this,Jn,null),this.canvas.removeEventListener("contextmenu",Ci)},10)),T(this,st,A1).call(this,i.offsetX,i.offsetY),this.addToAnnotationStorage(),this.setInBackground()},yp=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Ap=function(){S(this,Ws,new ResizeObserver(i=>{const s=i[0].contentRect;s.width&&s.height&&this.setDimensions(s.width,s.height)})),c(this,Ws).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var i;(i=c(this,Ws))==null||i.disconnect(),S(this,Ws,null)},{once:!0})},Mo=function(){if(!c(this,Cl))return;const[i,s]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*i),this.canvas.height=Math.ceil(this.height*s),T(this,st,_p).call(this)},F0=function(i,s){const r=T(this,st,Ep).call(this),o=(i-r)/c(this,Sl),u=(s-r)/c(this,El);this.scaleFactor=Math.min(o,u)},_p=function(){const i=T(this,st,Ep).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+i,this.translationY*this.scaleFactor+i)},oa=new WeakSet,T1=function(i){const s=new Path2D;for(let r=0,o=i.length;r<o;r++){const[u,d,f,p]=i[r];r===0&&s.moveTo(...u),s.bezierCurveTo(d[0],d[1],f[0],f[1],p[0],p[1])}return s},U0=function(i,s,r){const[o,u,d,f]=s;switch(r){case 0:for(let p=0,v=i.length;p<v;p+=2)i[p]+=o,i[p+1]=f-i[p+1];break;case 90:for(let p=0,v=i.length;p<v;p+=2){const b=i[p];i[p]=i[p+1]+o,i[p+1]=b+u}break;case 180:for(let p=0,v=i.length;p<v;p+=2)i[p]=d-i[p],i[p+1]+=u;break;case 270:for(let p=0,v=i.length;p<v;p+=2){const b=i[p];i[p]=d-i[p+1],i[p+1]=f-b}break;default:throw new Error("Invalid rotation")}return i},w1=function(i,s,r){const[o,u,d,f]=s;switch(r){case 0:for(let p=0,v=i.length;p<v;p+=2)i[p]-=o,i[p+1]=f-i[p+1];break;case 90:for(let p=0,v=i.length;p<v;p+=2){const b=i[p];i[p]=i[p+1]-u,i[p+1]=b-o}break;case 180:for(let p=0,v=i.length;p<v;p+=2)i[p]=d-i[p],i[p+1]-=u;break;case 270:for(let p=0,v=i.length;p<v;p+=2){const b=i[p];i[p]=f-i[p+1],i[p+1]=d-b}break;default:throw new Error("Invalid rotation")}return i},C1=function(i,s,r,o){var v,b;const u=[],d=this.thickness/2,f=i*s+d,p=i*r+d;for(const y of this.paths){const _=[],E=[];for(let x=0,D=y.length;x<D;x++){const[R,N,z,B]=y[x];if(R[0]===B[0]&&R[1]===B[1]&&D===1){const gt=i*R[0]+f,ht=i*R[1]+p;_.push(gt,ht),E.push(gt,ht);break}const U=i*R[0]+f,j=i*R[1]+p,W=i*N[0]+f,Z=i*N[1]+p,q=i*z[0]+f,J=i*z[1]+p,et=i*B[0]+f,Tt=i*B[1]+p;x===0&&(_.push(U,j),E.push(U,j)),_.push(W,Z,q,J,et,Tt),E.push(W,Z),x===D-1&&E.push(et,Tt)}u.push({bezier:T(v=he,oa,U0).call(v,_,o,this.rotation),points:T(b=he,oa,U0).call(b,E,o,this.rotation)})}return u},B0=function(){let i=1/0,s=-1/0,r=1/0,o=-1/0;for(const u of this.paths)for(const[d,f,p,v]of u){const b=ut.bezierBoundingBox(...d,...f,...p,...v);i=Math.min(i,b[0]),r=Math.min(r,b[1]),s=Math.max(s,b[2]),o=Math.max(o,b[3])}return[i,r,s,o]},Ep=function(){return c(this,un)?Math.ceil(this.thickness*this.parentScale):0},Xu=function(i=!1){if(this.isEmpty())return;if(!c(this,un)){T(this,st,kr).call(this);return}const s=T(this,st,B0).call(this),r=T(this,st,Ep).call(this);S(this,Sl,Math.max(Kt.MIN_SIZE,s[2]-s[0])),S(this,El,Math.max(Kt.MIN_SIZE,s[3]-s[1]));const o=Math.ceil(r+c(this,Sl)*this.scaleFactor),u=Math.ceil(r+c(this,El)*this.scaleFactor),[d,f]=this.parentDimensions;this.width=o/d,this.height=u/f,this.setAspectRatio(o,u);const p=this.translationX,v=this.translationY;this.translationX=-s[0],this.translationY=-s[1],T(this,st,Mo).call(this),T(this,st,kr).call(this),S(this,xl,o),S(this,Rl,u),this.setDims(o,u);const b=i?r/this.scaleFactor/2:0;this.translate(p-this.translationX-b,v-this.translationY-b)},w(he,oa),wt(he,"_defaultColor",null),wt(he,"_defaultOpacity",1),wt(he,"_defaultThickness",1),wt(he,"_type","ink"),wt(he,"_editorType",Bt.INK);let N0=he;var $e,We,Ja,Zs,tr,Cc,ts,Js,es,kn,Rd,qt,Yu,Ku,Sp,I0,x1,R1,G0,Tp,M1;const Wu=class Wu extends Kt{constructor(i){super({...i,name:"stampEditor"});w(this,qt);w(this,$e,null);w(this,We,null);w(this,Ja,null);w(this,Zs,null);w(this,tr,null);w(this,Cc,"");w(this,ts,null);w(this,Js,null);w(this,es,null);w(this,kn,!1);w(this,Rd,!1);S(this,Zs,i.bitmapUrl),S(this,tr,i.bitmapFile)}static initialize(i,s){Kt.initialize(i,s)}static get supportedTypes(){return jt(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(s=>`image/${s}`))}static get supportedTypesStr(){return jt(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(i){return this.supportedTypes.includes(i)}static paste(i,s){s.pasteEditor(Bt.STAMP,{bitmapFile:i.getAsFile()})}remove(){var i,s;c(this,We)&&(S(this,$e,null),this._uiManager.imageManager.deleteId(c(this,We)),(i=c(this,ts))==null||i.remove(),S(this,ts,null),(s=c(this,Js))==null||s.disconnect(),S(this,Js,null),c(this,es)&&(clearTimeout(c(this,es)),S(this,es,null))),super.remove()}rebuild(){if(!this.parent){c(this,We)&&T(this,qt,Sp).call(this);return}super.rebuild(),this.div!==null&&(c(this,We)&&c(this,ts)===null&&T(this,qt,Sp).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(c(this,Ja)||c(this,$e)||c(this,Zs)||c(this,tr)||c(this,We))}get isResizable(){return!0}render(){if(this.div)return this.div;let i,s;if(this.width&&(i=this.x,s=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),c(this,$e)?T(this,qt,I0).call(this):T(this,qt,Sp).call(this),this.width){const[r,o]=this.parentDimensions;this.setAt(i*r,s*o,this.width*r,this.height*o)}return this.div}getImageForAltText(){return c(this,ts)}static deserialize(i,s,r){if(i instanceof XS)return null;const o=super.deserialize(i,s,r),{rect:u,bitmapUrl:d,bitmapId:f,isSvg:p,accessibilityData:v}=i;f&&r.imageManager.isValidId(f)?S(o,We,f):S(o,Zs,d),S(o,kn,p);const[b,y]=o.pageDimensions;return o.width=(u[2]-u[0])/b,o.height=(u[3]-u[1])/y,v&&(o.altTextData=v),o}serialize(i=!1,s=null){if(this.isEmpty())return null;const r={annotationType:Bt.STAMP,bitmapId:c(this,We),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:c(this,kn),structTreeParentId:this._structTreeParentId};if(i)return r.bitmapUrl=T(this,qt,Tp).call(this,!0),r.accessibilityData=this.altTextData,r;const{decorative:o,altText:u}=this.altTextData;if(!o&&u&&(r.accessibilityData={type:"Figure",alt:u}),s===null)return r;s.stamps||(s.stamps=new Map);const d=c(this,kn)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!s.stamps.has(c(this,We)))s.stamps.set(c(this,We),{area:d,serialized:r}),r.bitmap=T(this,qt,Tp).call(this,!1);else if(c(this,kn)){const f=s.stamps.get(c(this,We));d>f.area&&(f.area=d,f.serialized.bitmap.close(),f.serialized.bitmap=T(this,qt,Tp).call(this,!1))}return r}};$e=new WeakMap,We=new WeakMap,Ja=new WeakMap,Zs=new WeakMap,tr=new WeakMap,Cc=new WeakMap,ts=new WeakMap,Js=new WeakMap,es=new WeakMap,kn=new WeakMap,Rd=new WeakMap,qt=new WeakSet,Yu=function(i,s=!1){if(!i){this.remove();return}S(this,$e,i.bitmap),s||(S(this,We,i.id),S(this,kn,i.isSvg)),i.file&&S(this,Cc,i.file.name),T(this,qt,I0).call(this)},Ku=function(){S(this,Ja,null),this._uiManager.enableWaiting(!1),c(this,ts)&&this.div.focus()},Sp=function(){if(c(this,We)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(c(this,We)).then(r=>T(this,qt,Yu).call(this,r,!0)).finally(()=>T(this,qt,Ku).call(this));return}if(c(this,Zs)){const r=c(this,Zs);S(this,Zs,null),this._uiManager.enableWaiting(!0),S(this,Ja,this._uiManager.imageManager.getFromUrl(r).then(o=>T(this,qt,Yu).call(this,o)).finally(()=>T(this,qt,Ku).call(this)));return}if(c(this,tr)){const r=c(this,tr);S(this,tr,null),this._uiManager.enableWaiting(!0),S(this,Ja,this._uiManager.imageManager.getFromFile(r).then(o=>T(this,qt,Yu).call(this,o)).finally(()=>T(this,qt,Ku).call(this)));return}const i=document.createElement("input");i.type="file",i.accept=Wu.supportedTypesStr;const s=this._uiManager._signal;S(this,Ja,new Promise(r=>{i.addEventListener("change",async()=>{if(!i.files||i.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const o=await this._uiManager.imageManager.getFromFile(i.files[0]);T(this,qt,Yu).call(this,o)}r()},{signal:s}),i.addEventListener("cancel",()=>{this.remove(),r()},{signal:s})}).finally(()=>T(this,qt,Ku).call(this))),i.click()},I0=function(){const{div:i}=this;let{width:s,height:r}=c(this,$e);const[o,u]=this.pageDimensions,d=.75;if(this.width)s=this.width*o,r=this.height*u;else if(s>d*o||r>d*u){const b=Math.min(d*o/s,d*u/r);s*=b,r*=b}const[f,p]=this.parentDimensions;this.setDims(s*f/o,r*p/u),this._uiManager.enableWaiting(!1);const v=S(this,ts,document.createElement("canvas"));i.append(v),i.hidden=!1,T(this,qt,G0).call(this,s,r),T(this,qt,M1).call(this),c(this,Rd)||(this.parent.addUndoableEditor(this),S(this,Rd,!0)),this._reportTelemetry({action:"inserted_image"}),c(this,Cc)&&v.setAttribute("aria-label",c(this,Cc))},x1=function(i,s){var d;const[r,o]=this.parentDimensions;this.width=i/r,this.height=s/o,this.setDims(i,s),(d=this._initialOptions)!=null&&d.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,c(this,es)!==null&&clearTimeout(c(this,es)),S(this,es,setTimeout(()=>{S(this,es,null),T(this,qt,G0).call(this,i,s)},200))},R1=function(i,s){const{width:r,height:o}=c(this,$e);let u=r,d=o,f=c(this,$e);for(;u>2*i||d>2*s;){const p=u,v=d;u>2*i&&(u=u>=16384?Math.floor(u/2)-1:Math.ceil(u/2)),d>2*s&&(d=d>=16384?Math.floor(d/2)-1:Math.ceil(d/2));const b=new OffscreenCanvas(u,d);b.getContext("2d").drawImage(f,0,0,p,v,0,0,u,d),f=b.transferToImageBitmap()}return f},G0=function(i,s){i=Math.ceil(i),s=Math.ceil(s);const r=c(this,ts);if(!r||r.width===i&&r.height===s)return;r.width=i,r.height=s;const o=c(this,kn)?c(this,$e):T(this,qt,R1).call(this,i,s);if(this._uiManager.hasMLManager&&!this.hasAltText()){const f=new OffscreenCanvas(i,s).getContext("2d");f.drawImage(o,0,0,o.width,o.height,0,0,i,s),this._uiManager.mlGuess({service:"image-to-text",request:{data:f.getImageData(0,0,i,s).data,width:i,height:s,channels:4}}).then(p=>{const v=(p==null?void 0:p.output)||"";this.parent&&v&&!this.hasAltText()&&(this.altTextData={altText:v,decorative:!1})})}const u=r.getContext("2d");u.filter=this._uiManager.hcmFilter,u.drawImage(o,0,0,o.width,o.height,0,0,i,s)},Tp=function(i){if(i){if(c(this,kn)){const o=this._uiManager.imageManager.getSvgUrl(c(this,We));if(o)return o}const s=document.createElement("canvas");return{width:s.width,height:s.height}=c(this,$e),s.getContext("2d").drawImage(c(this,$e),0,0),s.toDataURL()}if(c(this,kn)){const[s,r]=this.pageDimensions,o=Math.round(this.width*s*sr.PDF_TO_CSS_UNITS),u=Math.round(this.height*r*sr.PDF_TO_CSS_UNITS),d=new OffscreenCanvas(o,u);return d.getContext("2d").drawImage(c(this,$e),0,0,c(this,$e).width,c(this,$e).height,0,0,o,u),d.transferToImageBitmap()}return structuredClone(c(this,$e))},M1=function(){this._uiManager._signal&&(S(this,Js,new ResizeObserver(i=>{const s=i[0].contentRect;s.width&&s.height&&T(this,qt,x1).call(this,s.width,s.height)})),c(this,Js).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var i;(i=c(this,Js))==null||i.disconnect(),S(this,Js,null)},{once:!0}))},wt(Wu,"_type","stamp"),wt(Wu,"_editorType",Bt.STAMP);let j0=Wu;var Ml,xc,is,Dl,ta,ea,ia,qi,er,Rc,Mc,fi,pt,ir,Ze,D1,V0,X0,Y0,wp;const yn=class yn{constructor({uiManager:e,pageIndex:i,div:s,accessibilityManager:r,annotationLayer:o,drawLayer:u,textLayer:d,viewport:f,l10n:p}){w(this,Ze);w(this,Ml);w(this,xc,!1);w(this,is,null);w(this,Dl,null);w(this,ta,null);w(this,ea,null);w(this,ia,null);w(this,qi,new Map);w(this,er,!1);w(this,Rc,!1);w(this,Mc,!1);w(this,fi,null);w(this,pt);const v=[...c(yn,ir).values()];if(!yn._initialized){yn._initialized=!0;for(const b of v)b.initialize(p,e)}e.registerEditorTypes(v),S(this,pt,e),this.pageIndex=i,this.div=s,S(this,Ml,r),S(this,is,o),this.viewport=f,S(this,fi,d),this.drawLayer=u,c(this,pt).addLayer(this)}get isEmpty(){return c(this,qi).size===0}get isInvisible(){return this.isEmpty&&c(this,pt).getMode()===Bt.NONE}updateToolbar(e){c(this,pt).updateToolbar(e)}updateMode(e=c(this,pt).getMode()){switch(T(this,Ze,wp).call(this),e){case Bt.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Bt.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Bt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:i}=this.div;for(const s of c(yn,ir).values())i.toggle(`${s._type}Editing`,e===s._editorType);this.div.hidden=!1}hasTextLayer(e){var i;return e===((i=c(this,fi))==null?void 0:i.div)}addInkEditorIfNeeded(e){if(c(this,pt).getMode()!==Bt.INK)return;if(!e){for(const s of c(this,qi).values())if(s.isEmpty()){s.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){c(this,pt).setEditingState(e)}addCommands(e){c(this,pt).addCommands(e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var i;(i=c(this,is))==null||i.div.classList.toggle("disabled",!e)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const s of c(this,qi).values())s.enableEditing(),s.show(!0),s.annotationElementId&&(c(this,pt).removeChangedExistingAnnotation(s),e.add(s.annotationElementId));if(!c(this,is))return;const i=c(this,is).getEditableAnnotations();for(const s of i){if(s.hide(),c(this,pt).isDeletedAnnotationElement(s.data.id)||e.has(s.data.id))continue;const r=this.deserialize(s);r&&(this.addOrRebuild(r),r.enableEditing())}}disable(){var r;S(this,Mc,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,i=new Map;for(const o of c(this,qi).values())if(o.disableEditing(),!!o.annotationElementId){if(o.serialize()!==null){e.set(o.annotationElementId,o);continue}else i.set(o.annotationElementId,o);(r=this.getEditableAnnotation(o.annotationElementId))==null||r.show(),o.remove()}if(c(this,is)){const o=c(this,is).getEditableAnnotations();for(const u of o){const{id:d}=u.data;if(c(this,pt).isDeletedAnnotationElement(d))continue;let f=i.get(d);if(f){f.resetAnnotationElement(u),f.show(!1),u.show();continue}f=e.get(d),f&&(c(this,pt).addChangedExistingAnnotation(f),f.renderAnnotationElement(u),f.show(!1)),u.show()}}T(this,Ze,wp).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:s}=this.div;for(const o of c(yn,ir).values())s.remove(`${o._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),S(this,Mc,!1)}getEditableAnnotation(e){var i;return((i=c(this,is))==null?void 0:i.getEditableAnnotation(e))||null}setActiveEditor(e){c(this,pt).getActive()!==e&&c(this,pt).setActiveEditor(e)}enableTextSelection(){var e;this.div.tabIndex=-1,(e=c(this,fi))!=null&&e.div&&!c(this,ea)&&(S(this,ea,T(this,Ze,D1).bind(this)),c(this,fi).div.addEventListener("pointerdown",c(this,ea),{signal:c(this,pt)._signal}),c(this,fi).div.classList.add("highlighting"))}disableTextSelection(){var e;this.div.tabIndex=0,(e=c(this,fi))!=null&&e.div&&c(this,ea)&&(c(this,fi).div.removeEventListener("pointerdown",c(this,ea)),S(this,ea,null),c(this,fi).div.classList.remove("highlighting"))}enableClick(){if(c(this,ta))return;const e=c(this,pt)._signal;S(this,ta,this.pointerdown.bind(this)),S(this,Dl,this.pointerup.bind(this)),this.div.addEventListener("pointerdown",c(this,ta),{signal:e}),this.div.addEventListener("pointerup",c(this,Dl),{signal:e})}disableClick(){c(this,ta)&&(this.div.removeEventListener("pointerdown",c(this,ta)),this.div.removeEventListener("pointerup",c(this,Dl)),S(this,ta,null),S(this,Dl,null))}attach(e){c(this,qi).set(e.id,e);const{annotationElementId:i}=e;i&&c(this,pt).isDeletedAnnotationElement(i)&&c(this,pt).removeDeletedAnnotationElement(e)}detach(e){var i;c(this,qi).delete(e.id),(i=c(this,Ml))==null||i.removePointerInTextLayer(e.contentDiv),!c(this,Mc)&&e.annotationElementId&&c(this,pt).addDeletedAnnotationElement(e)}remove(e){this.detach(e),c(this,pt).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,c(this,Rc)||this.addInkEditorIfNeeded(!1)}changeParent(e){var i;e.parent!==this&&(e.parent&&e.annotationElementId&&(c(this,pt).addDeletedAnnotationElement(e.annotationElementId),Kt.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(i=e.parent)==null||i.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),c(this,pt).addEditor(e),this.attach(e),!e.isAttachedToDOM){const i=e.render();this.div.append(i),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),c(this,pt).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var s;if(!e.isAttachedToDOM)return;const{activeElement:i}=document;e.div.contains(i)&&!c(this,ia)&&(e._focusEventsAllowed=!1,S(this,ia,setTimeout(()=>{S(this,ia,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:c(this,pt)._signal}),i.focus())},0))),e._structTreeParentId=(s=c(this,Ml))==null?void 0:s.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const i=()=>e._uiManager.rebuild(e),s=()=>{e.remove()};this.addCommands({cmd:i,undo:s,mustExec:!1})}getNextId(){return c(this,pt).getId()}get _signal(){return c(this,pt)._signal}canCreateNewEmptyEditor(){var e;return(e=c(this,Ze,V0))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,i){c(this,pt).updateToolbar(e),c(this,pt).updateMode(e);const{offsetX:s,offsetY:r}=T(this,Ze,Y0).call(this),o=this.getNextId(),u=T(this,Ze,X0).call(this,{parent:this,id:o,x:s,y:r,uiManager:c(this,pt),isCentered:!0,...i});u&&this.add(u)}deserialize(e){var i;return((i=c(yn,ir).get(e.annotationType??e.annotationEditorType))==null?void 0:i.deserialize(e,this,c(this,pt)))||null}createAndAddNewEditor(e,i,s={}){const r=this.getNextId(),o=T(this,Ze,X0).call(this,{parent:this,id:r,x:e.offsetX,y:e.offsetY,uiManager:c(this,pt),isCentered:i,...s});return o&&this.add(o),o}addNewEditor(){this.createAndAddNewEditor(T(this,Ze,Y0).call(this),!0)}setSelected(e){c(this,pt).setSelected(e)}toggleSelected(e){c(this,pt).toggleSelected(e)}isSelected(e){return c(this,pt).isSelected(e)}unselect(e){c(this,pt).unselect(e)}pointerup(e){const{isMac:i}=Ti.platform;if(!(e.button!==0||e.ctrlKey&&i)&&e.target===this.div&&c(this,er)){if(S(this,er,!1),!c(this,xc)){S(this,xc,!0);return}if(c(this,pt).getMode()===Bt.STAMP){c(this,pt).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(c(this,pt).getMode()===Bt.HIGHLIGHT&&this.enableTextSelection(),c(this,er)){S(this,er,!1);return}const{isMac:i}=Ti.platform;if(e.button!==0||e.ctrlKey&&i||e.target!==this.div)return;S(this,er,!0);const s=c(this,pt).getActive();S(this,xc,!s||s.isEmpty())}findNewParent(e,i,s){const r=c(this,pt).findParent(i,s);return r===null||r===this?!1:(r.changeParent(e),!0)}destroy(){var e,i;((e=c(this,pt).getActive())==null?void 0:e.parent)===this&&(c(this,pt).commitOrRemove(),c(this,pt).setActiveEditor(null)),c(this,ia)&&(clearTimeout(c(this,ia)),S(this,ia,null));for(const s of c(this,qi).values())(i=c(this,Ml))==null||i.removePointerInTextLayer(s.contentDiv),s.setParent(null),s.isAttachedToDOM=!1,s.div.remove();this.div=null,c(this,qi).clear(),c(this,pt).removeLayer(this)}render({viewport:e}){this.viewport=e,Ll(this.div,e);for(const i of c(this,pt).getEditors(this.pageIndex))this.add(i),i.rebuild();this.updateMode()}update({viewport:e}){c(this,pt).commitOrRemove(),T(this,Ze,wp).call(this);const i=this.viewport.rotation,s=e.rotation;if(this.viewport=e,Ll(this.div,{rotation:s}),i!==s)for(const r of c(this,qi).values())r.rotate(s);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:i}=this.viewport.rawDims;return[e,i]}get scale(){return c(this,pt).viewParameters.realScale}};Ml=new WeakMap,xc=new WeakMap,is=new WeakMap,Dl=new WeakMap,ta=new WeakMap,ea=new WeakMap,ia=new WeakMap,qi=new WeakMap,er=new WeakMap,Rc=new WeakMap,Mc=new WeakMap,fi=new WeakMap,pt=new WeakMap,ir=new WeakMap,Ze=new WeakSet,D1=function(e){if(c(this,pt).unselectAll(),e.target===c(this,fi).div){const{isMac:i}=Ti.platform;if(e.button!==0||e.ctrlKey&&i)return;c(this,pt).showAllEditors("highlight",!0,!0),c(this,fi).div.classList.add("free"),kp.startHighlighting(this,c(this,pt).direction==="ltr",e),c(this,fi).div.addEventListener("pointerup",()=>{c(this,fi).div.classList.remove("free")},{once:!0,signal:c(this,pt)._signal}),e.preventDefault()}},V0=function(){return c(yn,ir).get(c(this,pt).getMode())},X0=function(e){const i=c(this,Ze,V0);return i?new i.prototype.constructor(e):null},Y0=function(){const{x:e,y:i,width:s,height:r}=this.div.getBoundingClientRect(),o=Math.max(0,e),u=Math.max(0,i),d=Math.min(window.innerWidth,e+s),f=Math.min(window.innerHeight,i+r),p=(o+d)/2-e,v=(u+f)/2-i,[b,y]=this.viewport.rotation%180===0?[p,v]:[v,p];return{offsetX:b,offsetY:y}},wp=function(){S(this,Rc,!0);for(const e of c(this,qi).values())e.isEmpty()&&e.remove();S(this,Rc,!1)},wt(yn,"_initialized",!1),w(yn,ir,new Map([S0,N0,j0,kp].map(e=>[e._editorType,e])));let q0=yn;var ns,Md,Oe,nr,Dd,Q0,Hl,$0,L1;const Ve=class Ve{constructor({pageIndex:e}){w(this,Hl);w(this,ns,null);w(this,Md,0);w(this,Oe,new Map);w(this,nr,new Map);this.pageIndex=e}setParent(e){if(!c(this,ns)){S(this,ns,e);return}if(c(this,ns)!==e){if(c(this,Oe).size>0)for(const i of c(this,Oe).values())i.remove(),e.append(i);S(this,ns,e)}}static get _svgFactory(){return jt(this,"_svgFactory",new ib)}highlight(e,i,s,r=!1){const o=Ni(this,Md)._++,u=T(this,Hl,$0).call(this,e.box);u.classList.add("highlight"),e.free&&u.classList.add("free");const d=Ve._svgFactory.createElement("defs");u.append(d);const f=Ve._svgFactory.createElement("path");d.append(f);const p=`path_p${this.pageIndex}_${o}`;f.setAttribute("id",p),f.setAttribute("d",e.toSVGPath()),r&&c(this,nr).set(o,f);const v=T(this,Hl,L1).call(this,d,p),b=Ve._svgFactory.createElement("use");return u.append(b),u.setAttribute("fill",i),u.setAttribute("fill-opacity",s),b.setAttribute("href",`#${p}`),c(this,Oe).set(o,u),{id:o,clipPathId:`url(#${v})`}}highlightOutline(e){const i=Ni(this,Md)._++,s=T(this,Hl,$0).call(this,e.box);s.classList.add("highlightOutline");const r=Ve._svgFactory.createElement("defs");s.append(r);const o=Ve._svgFactory.createElement("path");r.append(o);const u=`path_p${this.pageIndex}_${i}`;o.setAttribute("id",u),o.setAttribute("d",e.toSVGPath()),o.setAttribute("vector-effect","non-scaling-stroke");let d;if(e.free){s.classList.add("free");const v=Ve._svgFactory.createElement("mask");r.append(v),d=`mask_p${this.pageIndex}_${i}`,v.setAttribute("id",d),v.setAttribute("maskUnits","objectBoundingBox");const b=Ve._svgFactory.createElement("rect");v.append(b),b.setAttribute("width","1"),b.setAttribute("height","1"),b.setAttribute("fill","white");const y=Ve._svgFactory.createElement("use");v.append(y),y.setAttribute("href",`#${u}`),y.setAttribute("stroke","none"),y.setAttribute("fill","black"),y.setAttribute("fill-rule","nonzero"),y.classList.add("mask")}const f=Ve._svgFactory.createElement("use");s.append(f),f.setAttribute("href",`#${u}`),d&&f.setAttribute("mask",`url(#${d})`);const p=f.cloneNode();return s.append(p),f.classList.add("mainOutline"),p.classList.add("secondaryOutline"),c(this,Oe).set(i,s),i}finalizeLine(e,i){const s=c(this,nr).get(e);c(this,nr).delete(e),this.updateBox(e,i.box),s.setAttribute("d",i.toSVGPath())}updateLine(e,i){c(this,Oe).get(e).firstChild.firstChild.setAttribute("d",i.toSVGPath())}removeFreeHighlight(e){this.remove(e),c(this,nr).delete(e)}updatePath(e,i){c(this,nr).get(e).setAttribute("d",i.toSVGPath())}updateBox(e,i){var s;T(s=Ve,Dd,Q0).call(s,c(this,Oe).get(e),i)}show(e,i){c(this,Oe).get(e).classList.toggle("hidden",!i)}rotate(e,i){c(this,Oe).get(e).setAttribute("data-main-rotation",i)}changeColor(e,i){c(this,Oe).get(e).setAttribute("fill",i)}changeOpacity(e,i){c(this,Oe).get(e).setAttribute("fill-opacity",i)}addClass(e,i){c(this,Oe).get(e).classList.add(i)}removeClass(e,i){c(this,Oe).get(e).classList.remove(i)}remove(e){c(this,ns)!==null&&(c(this,Oe).get(e).remove(),c(this,Oe).delete(e))}destroy(){S(this,ns,null);for(const e of c(this,Oe).values())e.remove();c(this,Oe).clear()}};ns=new WeakMap,Md=new WeakMap,Oe=new WeakMap,nr=new WeakMap,Dd=new WeakSet,Q0=function(e,{x:i=0,y:s=0,width:r=1,height:o=1}={}){const{style:u}=e;u.top=`${100*s}%`,u.left=`${100*i}%`,u.width=`${100*r}%`,u.height=`${100*o}%`},Hl=new WeakSet,$0=function(e){var s;const i=Ve._svgFactory.create(1,1,!0);return c(this,ns).append(i),i.setAttribute("aria-hidden",!0),T(s=Ve,Dd,Q0).call(s,i,e),i},L1=function(e,i){const s=Ve._svgFactory.createElement("clipPath");e.append(s);const r=`clip_${i}`;s.setAttribute("id",r),s.setAttribute("clipPathUnits","objectBoundingBox");const o=Ve._svgFactory.createElement("use");return s.append(o),o.setAttribute("href",`#${i}`),o.classList.add("clip"),r},w(Ve,Dd);let K0=Ve;var xR=At.AbortException,RR=At.AnnotationEditorLayer,MR=At.AnnotationEditorParamsType,DR=At.AnnotationEditorType,LR=At.AnnotationEditorUIManager,O1=At.AnnotationLayer,k1=At.AnnotationMode,OR=At.CMapCompressionType,kR=At.ColorPicker,NR=At.DOMSVGFactory,PR=At.DrawLayer,HR=At.FeatureTest,ub=At.GlobalWorkerOptions,zR=At.ImageKind,FR=At.InvalidPDFException,UR=At.MissingPDFException,BR=At.OPS,jR=At.Outliner,IR=At.PDFDataRangeTransport,GR=At.PDFDateString,qR=At.PDFWorker,VR=At.PasswordResponses,XR=At.PermissionFlag,YR=At.PixelsPerInch,KR=At.RenderingCancelledException,N1=At.TextLayer,QR=At.UnexpectedResponseException,$R=At.Util,WR=At.VerbosityLevel,ZR=At.XfaLayer,JR=At.build,tM=At.createValidAbsoluteUrl,eM=At.fetchData,P1=At.getDocument,iM=At.getFilenameFromUrl,nM=At.getPdfFilenameFromUrl,sM=At.getXfaPageViewport,aM=At.isDataScheme,rM=At.isPdfFile,lM=At.noContextMenu,oM=At.normalizeUnicode,cM=At.renderTextLayer,uM=At.setLayerDimensions,hM=At.shadow,dM=At.updateTextLayer,H1=At.version;const fM=Object.freeze(Object.defineProperty({__proto__:null,AbortException:xR,AnnotationEditorLayer:RR,AnnotationEditorParamsType:MR,AnnotationEditorType:DR,AnnotationEditorUIManager:LR,AnnotationLayer:O1,AnnotationMode:k1,CMapCompressionType:OR,ColorPicker:kR,DOMSVGFactory:NR,DrawLayer:PR,FeatureTest:HR,GlobalWorkerOptions:ub,ImageKind:zR,InvalidPDFException:FR,MissingPDFException:UR,OPS:BR,Outliner:jR,PDFDataRangeTransport:IR,PDFDateString:GR,PDFWorker:qR,PasswordResponses:VR,PermissionFlag:XR,PixelsPerInch:YR,RenderingCancelledException:KR,TextLayer:N1,UnexpectedResponseException:QR,Util:$R,VerbosityLevel:WR,XfaLayer:ZR,build:JR,createValidAbsoluteUrl:tM,fetchData:eM,getDocument:P1,getFilenameFromUrl:iM,getPdfFilenameFromUrl:nM,getXfaPageViewport:sM,isDataScheme:aM,isPdfFile:rM,noContextMenu:lM,normalizeUnicode:oM,renderTextLayer:cM,setLayerDimensions:uM,shadow:hM,updateTextLayer:dM,version:H1},Symbol.toStringTag,{value:"Module"}));var Ue=function(m,e,i){if(i||arguments.length===2)for(var s=0,r=e.length,o;s<r;s++)(o||!(s in e))&&(o||(o=Array.prototype.slice.call(e,0,s)),o[s]=e[s]);return m.concat(o||Array.prototype.slice.call(e))},pM=["onCopy","onCut","onPaste"],gM=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],mM=["onFocus","onBlur"],vM=["onInput","onInvalid","onReset","onSubmit"],bM=["onLoad","onError"],yM=["onKeyDown","onKeyPress","onKeyUp"],AM=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],_M=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],EM=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],SM=["onSelect"],TM=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],wM=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],CM=["onScroll"],xM=["onWheel"],RM=["onAnimationStart","onAnimationEnd","onAnimationIteration"],MM=["onTransitionEnd"],DM=["onToggle"],LM=["onChange"],OM=Ue(Ue(Ue(Ue(Ue(Ue(Ue(Ue(Ue(Ue(Ue(Ue(Ue(Ue(Ue(Ue(Ue(Ue([],pM,!0),gM,!0),mM,!0),vM,!0),bM,!0),yM,!0),AM,!0),_M,!0),EM,!0),SM,!0),TM,!0),wM,!0),CM,!0),xM,!0),RM,!0),MM,!0),LM,!0),DM,!0);function z1(m,e){var i={};return OM.forEach(function(s){var r=m[s];r&&(e?i[s]=function(o){return r(o,e(s))}:i[s]=r)}),i}function Pd(m){var e=!1,i=new Promise(function(s,r){m.then(function(o){return!e&&s(o)}).catch(function(o){return!e&&r(o)})});return{promise:i,cancel:function(){e=!0}}}function F1(m){var e,i,s="";if(typeof m=="string"||typeof m=="number")s+=m;else if(typeof m=="object")if(Array.isArray(m)){var r=m.length;for(e=0;e<r;e++)m[e]&&(i=F1(m[e]))&&(s&&(s+=" "),s+=i)}else for(i in m)m[i]&&(s&&(s+=" "),s+=i);return s}function cg(){for(var m,e,i=0,s="",r=arguments.length;i<r;i++)(m=arguments[i])&&(e=F1(m))&&(s&&(s+=" "),s+=e);return s}var kM="Invariant failed";function ie(m,e){if(!m)throw new Error(kM)}var Nv,TE;function NM(){if(TE)return Nv;TE=1;var m=function(){};return Nv=m,Nv}var PM=NM();const li=gC(PM);var wE=Object.prototype.hasOwnProperty;function CE(m,e,i){for(i of m.keys())if(ko(i,e))return i}function ko(m,e){var i,s,r;if(m===e)return!0;if(m&&e&&(i=m.constructor)===e.constructor){if(i===Date)return m.getTime()===e.getTime();if(i===RegExp)return m.toString()===e.toString();if(i===Array){if((s=m.length)===e.length)for(;s--&&ko(m[s],e[s]););return s===-1}if(i===Set){if(m.size!==e.size)return!1;for(s of m)if(r=s,r&&typeof r=="object"&&(r=CE(e,r),!r)||!e.has(r))return!1;return!0}if(i===Map){if(m.size!==e.size)return!1;for(s of m)if(r=s[0],r&&typeof r=="object"&&(r=CE(e,r),!r)||!ko(s[1],e.get(r)))return!1;return!0}if(i===ArrayBuffer)m=new Uint8Array(m),e=new Uint8Array(e);else if(i===DataView){if((s=m.byteLength)===e.byteLength)for(;s--&&m.getInt8(s)===e.getInt8(s););return s===-1}if(ArrayBuffer.isView(m)){if((s=m.byteLength)===e.byteLength)for(;s--&&m[s]===e[s];);return s===-1}if(!i||typeof m=="object"){s=0;for(i in m)if(wE.call(m,i)&&++s&&!wE.call(e,i)||!(i in e)||!ko(m[i],e[i]))return!1;return Object.keys(e).length===s}}return m!==m&&e!==e}const U1=ot.createContext(null);function No({children:m,type:e}){return Ft.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:m})}const HM="noopener noreferrer nofollow";class zM{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return ie(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){ie(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(i=>{ie(this.pdfDocument),ie(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(i):Array.isArray(e)?i(e):e.then(i)}).then(i=>{ie(Array.isArray(i));const s=i[0];new Promise(r=>{ie(this.pdfDocument),s instanceof Object?this.pdfDocument.getPageIndex(s).then(o=>{r(o)}).catch(()=>{ie(!1)}):typeof s=="number"?r(s):ie(!1)}).then(r=>{const o=r+1;ie(this.pdfViewer),ie(o>=1&&o<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:i,pageIndex:r,pageNumber:o})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const i=e-1;ie(this.pdfViewer),ie(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:i,pageNumber:e})}addLinkAttributes(e,i,s){e.href=i,e.rel=this.externalLinkRel||HM,e.target=s?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const xE={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},ug=typeof window<"u",B1=ug&&window.location.protocol==="file:";function FM(m){return typeof m<"u"}function Dr(m){return FM(m)&&m!==null}function UM(m){return typeof m=="string"}function BM(m){return m instanceof ArrayBuffer}function jM(m){return ie(ug),m instanceof Blob}function W0(m){return UM(m)&&/^data:/.test(m)}function RE(m){ie(W0(m));const[e="",i=""]=m.split(",");return e.split(";").indexOf("base64")!==-1?atob(i):unescape(i)}function IM(){return ug&&window.devicePixelRatio||1}const j1="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function ME(){li(!B1,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${j1}`)}function GM(){li(!B1,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${j1}`)}function Nl(m){m!=null&&m.cancel&&m.cancel()}function Z0(m,e){return Object.defineProperty(m,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(m,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(m,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(m,"originalHeight",{get(){return this.view[3]},configurable:!0}),m}function qM(m){return m.name==="RenderingCancelledException"}function VM(m){return new Promise((e,i)=>{const s=new FileReader;s.onload=()=>{if(!s.result)return i(new Error("Error while reading a file."));e(s.result)},s.onerror=r=>{if(!r.target)return i(new Error("Error while reading a file."));const{error:o}=r.target;if(!o)return i(new Error("Error while reading a file."));switch(o.code){case o.NOT_FOUND_ERR:return i(new Error("Error while reading a file: File not found."));case o.SECURITY_ERR:return i(new Error("Error while reading a file: Security error."));case o.ABORT_ERR:return i(new Error("Error while reading a file: Aborted."));default:return i(new Error("Error while reading a file."))}},s.readAsArrayBuffer(m)})}function XM(m,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return m}}function Dc(){return ot.useReducer(XM,{value:void 0,error:void 0})}var YM=function(m,e,i,s){function r(o){return o instanceof i?o:new i(function(u){u(o)})}return new(i||(i=Promise))(function(o,u){function d(v){try{p(s.next(v))}catch(b){u(b)}}function f(v){try{p(s.throw(v))}catch(b){u(b)}}function p(v){v.done?o(v.value):r(v.value).then(d,f)}p((s=s.apply(m,e||[])).next())})},DE=function(m,e){var i={};for(var s in m)Object.prototype.hasOwnProperty.call(m,s)&&e.indexOf(s)<0&&(i[s]=m[s]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(m);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(m,s[r])&&(i[s[r]]=m[s[r]]);return i};const{PDFDataRangeTransport:KM}=fM,QM=(m,e)=>{switch(e){case xE.NEED_PASSWORD:{const i=prompt("Enter the password to open this PDF file.");m(i);break}case xE.INCORRECT_PASSWORD:{const i=prompt("Invalid password. Please try again.");m(i);break}}};function LE(m){return typeof m=="object"&&m!==null&&("data"in m||"range"in m||"url"in m)}const $M=ot.forwardRef(function(e,i){var{children:s,className:r,error:o="Failed to load PDF file.",externalLinkRel:u,externalLinkTarget:d,file:f,inputRef:p,imageResourcesPath:v,loading:b="Loading PDF",noData:y="No PDF file specified.",onItemClick:_,onLoadError:E,onLoadProgress:x,onLoadSuccess:D,onPassword:R=QM,onSourceError:N,onSourceSuccess:z,options:B,renderMode:U,rotate:j}=e,W=DE(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[Z,q]=Dc(),{value:J,error:et}=Z,[Tt,gt]=Dc(),{value:ht,error:mt}=Tt,Y=ot.useRef(new zM),X=ot.useRef([]),$=ot.useRef(void 0),Rt=ot.useRef(void 0);f&&f!==$.current&&LE(f)&&(li(!ko(f,$.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),$.current=f),B&&B!==Rt.current&&(li(!ko(B,Rt.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),Rt.current=B);const L=ot.useRef({scrollPageIntoView:Pt=>{const{dest:le,pageNumber:ve,pageIndex:oe=ve-1}=Pt;if(_){_({dest:le,pageIndex:oe,pageNumber:ve});return}const Nn=X.current[oe];if(Nn){Nn.scrollIntoView();return}li(!1,`An internal link leading to page ${ve} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});ot.useImperativeHandle(i,()=>({linkService:Y,pages:X,viewer:L}),[]);function Q(){z&&z()}function at(){et&&(li(!1,et.toString()),N&&N(et))}function it(){q({type:"RESET"})}ot.useEffect(it,[f,q]);const tt=ot.useCallback(()=>YM(this,void 0,void 0,function*(){if(!f)return null;if(typeof f=="string")return W0(f)?{data:RE(f)}:(ME(),{url:f});if(f instanceof KM)return{range:f};if(BM(f))return{data:f};if(ug&&jM(f))return{data:yield VM(f)};if(ie(typeof f=="object"),ie(LE(f)),"url"in f&&typeof f.url=="string"){if(W0(f.url)){const{url:Pt}=f,le=DE(f,["url"]),ve=RE(Pt);return Object.assign({data:ve},le)}ME()}return f}),[f]);ot.useEffect(()=>{const Pt=Pd(tt());return Pt.promise.then(le=>{q({type:"RESOLVE",value:le})}).catch(le=>{q({type:"REJECT",error:le})}),()=>{Nl(Pt)}},[tt,q]),ot.useEffect(()=>{if(!(typeof J>"u")){if(J===!1){at();return}Q()}},[J]);function bt(){ht&&(D&&D(ht),X.current=new Array(ht.numPages),Y.current.setDocument(ht))}function ft(){mt&&(li(!1,mt.toString()),E&&E(mt))}ot.useEffect(function(){gt({type:"RESET"})},[gt,J]),ot.useEffect(function(){if(!J)return;const le=B?Object.assign(Object.assign({},J),B):J,ve=P1(le);x&&(ve.onProgress=x),R&&(ve.onPassword=R);const oe=ve,Nn=oe.promise.then(Pn=>{gt({type:"RESOLVE",value:Pn})}).catch(Pn=>{oe.destroyed||gt({type:"REJECT",error:Pn})});return()=>{Nn.finally(()=>oe.destroy())}},[B,gt,J]),ot.useEffect(()=>{if(!(typeof ht>"u")){if(ht===!1){ft();return}bt()}},[ht]),ot.useEffect(function(){Y.current.setViewer(L.current),Y.current.setExternalLinkRel(u),Y.current.setExternalLinkTarget(d)},[u,d]);const Ct=ot.useCallback((Pt,le)=>{X.current[Pt]=le},[]),_t=ot.useCallback(Pt=>{delete X.current[Pt]},[]),Vt=ot.useMemo(()=>({imageResourcesPath:v,linkService:Y.current,onItemClick:_,pdf:ht,registerPage:Ct,renderMode:U,rotate:j,unregisterPage:_t}),[v,_,ht,Ct,U,j,_t]),yt=ot.useMemo(()=>z1(W,()=>ht),[W,ht]);function Je(){return Ft.jsx(U1.Provider,{value:Vt,children:s})}function pn(){return f?ht==null?Ft.jsx(No,{type:"loading",children:typeof b=="function"?b():b}):ht===!1?Ft.jsx(No,{type:"error",children:typeof o=="function"?o():o}):Je():Ft.jsx(No,{type:"no-data",children:typeof y=="function"?y():y})}return Ft.jsx("div",Object.assign({className:cg("react-pdf__Document",r),ref:p,style:{"--scale-factor":"1"}},yt,{children:pn()}))});function I1(){return ot.useContext(U1)}function G1(){for(var m=[],e=0;e<arguments.length;e++)m[e]=arguments[e];var i=m.filter(Boolean);if(i.length<=1){var s=i[0];return s||null}return function(o){i.forEach(function(u){typeof u=="function"?u(o):u&&(u.current=o)})}}const q1=ot.createContext(null),V1={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},WM=/^H(\d+)$/;function ZM(m){return m in V1}function hg(m){return"children"in m}function X1(m){return hg(m)?m.children.length===1&&0 in m.children&&"id"in m.children[0]:!1}function JM(m){const e={};if(hg(m)){const{role:i}=m,s=i.match(WM);if(s)e.role="heading",e["aria-level"]=Number(s[1]);else if(ZM(i)){const r=V1[i];r&&(e.role=r)}}return e}function Y1(m){const e={};if(hg(m)){if(m.alt!==void 0&&(e["aria-label"]=m.alt),m.lang!==void 0&&(e.lang=m.lang),X1(m)){const[i]=m.children;if(i){const s=Y1(i);return Object.assign(Object.assign({},e),s)}}}else"id"in m&&(e["aria-owns"]=m.id);return e}function tD(m){return m?Object.assign(Object.assign({},JM(m)),Y1(m)):null}function K1({className:m,node:e}){const i=ot.useMemo(()=>tD(e),[e]),s=ot.useMemo(()=>!hg(e)||X1(e)?null:e.children.map((r,o)=>Ft.jsx(K1,{node:r},o)),[e]);return Ft.jsx("span",Object.assign({className:m},i,{children:s}))}function dg(){return ot.useContext(q1)}function eD(){const m=dg();ie(m);const{onGetStructTreeError:e,onGetStructTreeSuccess:i}=m,[s,r]=Dc(),{value:o,error:u}=s,{customTextRenderer:d,page:f}=m;function p(){o&&i&&i(o)}function v(){u&&(li(!1,u.toString()),e&&e(u))}return ot.useEffect(function(){r({type:"RESET"})},[r,f]),ot.useEffect(function(){if(d||!f)return;const y=Pd(f.getStructTree()),_=y;return y.promise.then(E=>{r({type:"RESOLVE",value:E})}).catch(E=>{r({type:"REJECT",error:E})}),()=>Nl(_)},[d,f,r]),ot.useEffect(()=>{if(o!==void 0){if(o===!1){v();return}p()}},[o]),o?Ft.jsx(K1,{className:"react-pdf__Page__structTree structTree",node:o}):null}const OE=k1;function iD(m){const e=dg();ie(e);const i=Object.assign(Object.assign({},e),m),{_className:s,canvasBackground:r,devicePixelRatio:o=IM(),onRenderError:u,onRenderSuccess:d,page:f,renderForms:p,renderTextLayer:v,rotate:b,scale:y}=i,{canvasRef:_}=m;ie(f);const E=ot.useRef(null);function x(){f&&d&&d(Z0(f,y))}function D(B){qM(B)||(li(!1,B.toString()),u&&u(B))}const R=ot.useMemo(()=>f.getViewport({scale:y*o,rotation:b}),[o,f,b,y]),N=ot.useMemo(()=>f.getViewport({scale:y,rotation:b}),[f,b,y]);ot.useEffect(function(){if(!f)return;f.cleanup();const{current:U}=E;if(!U)return;U.width=R.width,U.height=R.height,U.style.width=`${Math.floor(N.width)}px`,U.style.height=`${Math.floor(N.height)}px`,U.style.visibility="hidden";const j={annotationMode:p?OE.ENABLE_FORMS:OE.ENABLE,canvasContext:U.getContext("2d",{alpha:!1}),viewport:R};r&&(j.background=r);const W=f.render(j),Z=W;return W.promise.then(()=>{U.style.visibility="",x()}).catch(D),()=>Nl(Z)},[r,f,p,R,N]);const z=ot.useCallback(()=>{const{current:B}=E;B&&(B.width=0,B.height=0)},[]);return ot.useEffect(()=>z,[z]),Ft.jsx("canvas",{className:`${s}__canvas`,dir:"ltr",ref:G1(_,E),style:{display:"block",userSelect:"none"},children:v?Ft.jsx(eD,{}):null})}function nD(m){return"str"in m}function sD(){const m=dg();ie(m);const{customTextRenderer:e,onGetTextError:i,onGetTextSuccess:s,onRenderTextLayerError:r,onRenderTextLayerSuccess:o,page:u,pageIndex:d,pageNumber:f,rotate:p,scale:v}=m;ie(u);const[b,y]=Dc(),{value:_,error:E}=b,x=ot.useRef(null),D=ot.useRef(void 0);li(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function R(){_&&s&&s(_)}function N(){E&&(li(!1,E.toString()),i&&i(E))}ot.useEffect(function(){y({type:"RESET"})},[u,y]),ot.useEffect(function(){if(!u)return;const q=Pd(u.getTextContent()),J=q;return q.promise.then(et=>{y({type:"RESOLVE",value:et})}).catch(et=>{y({type:"REJECT",error:et})}),()=>Nl(J)},[u,y]),ot.useEffect(()=>{if(_!==void 0){if(_===!1){N();return}R()}},[_]);const z=ot.useCallback(()=>{o&&o()},[o]),B=ot.useCallback(Z=>{li(!1,Z.toString()),r&&r(Z)},[r]);function U(){const Z=D.current;Z&&Z.classList.add("active")}function j(){const Z=D.current;Z&&Z.classList.remove("active")}const W=ot.useMemo(()=>u.getViewport({scale:v,rotation:p}),[u,p,v]);return ot.useLayoutEffect(function(){if(!u||!_)return;const{current:q}=x;if(!q)return;q.innerHTML="";const J=u.streamTextContent({includeMarkedContent:!0}),et={container:q,textContentSource:J,viewport:W},Tt=new N1(et),gt=Tt;return Tt.render().then(()=>{const ht=document.createElement("div");ht.className="endOfContent",q.append(ht),D.current=ht;const mt=q.querySelectorAll('[role="presentation"]');if(e){let Y=0;_.items.forEach((X,$)=>{if(!nD(X))return;const Rt=mt[Y];if(!Rt)return;const L=e(Object.assign({pageIndex:d,pageNumber:f,itemIndex:$},X));Rt.innerHTML=L,Y+=X.str&&X.hasEOL?2:1})}z()}).catch(B),()=>Nl(gt)},[e,B,z,u,d,f,_,W]),Ft.jsx("div",{className:cg("react-pdf__Page__textContent","textLayer"),onMouseUp:j,onMouseDown:U,ref:x})}function aD(){const m=I1(),e=dg();ie(e);const i=Object.assign(Object.assign({},m),e),{imageResourcesPath:s,linkService:r,onGetAnnotationsError:o,onGetAnnotationsSuccess:u,onRenderAnnotationLayerError:d,onRenderAnnotationLayerSuccess:f,page:p,pdf:v,renderForms:b,rotate:y,scale:_=1}=i;ie(v),ie(p),ie(r);const[E,x]=Dc(),{value:D,error:R}=E,N=ot.useRef(null);li(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function z(){D&&u&&u(D)}function B(){R&&(li(!1,R.toString()),o&&o(R))}ot.useEffect(function(){x({type:"RESET"})},[x,p]),ot.useEffect(function(){if(!p)return;const q=Pd(p.getAnnotations()),J=q;return q.promise.then(et=>{x({type:"RESOLVE",value:et})}).catch(et=>{x({type:"REJECT",error:et})}),()=>{Nl(J)}},[x,p]),ot.useEffect(()=>{if(D!==void 0){if(D===!1){B();return}z()}},[D]);function U(){f&&f()}function j(Z){li(!1,`${Z}`),d&&d(Z)}const W=ot.useMemo(()=>p.getViewport({scale:_,rotation:y}),[p,y,_]);return ot.useEffect(function(){if(!v||!p||!r||!D)return;const{current:q}=N;if(!q)return;const J=W.clone({dontFlip:!0}),et={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:q,l10n:null,page:p,viewport:J},Tt={annotations:D,annotationStorage:v.annotationStorage,div:q,imageResourcesPath:s,linkService:r,page:p,renderForms:b,viewport:J};q.innerHTML="";try{new O1(et).render(Tt),U()}catch(gt){j(gt)}return()=>{}},[D,s,r,p,v,b,W]),Ft.jsx("div",{className:cg("react-pdf__Page__annotations","annotationLayer"),ref:N})}var rD=function(m,e){var i={};for(var s in m)Object.prototype.hasOwnProperty.call(m,s)&&e.indexOf(s)<0&&(i[s]=m[s]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(m);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(m,s[r])&&(i[s[r]]=m[s[r]]);return i};const kE=1;function lD(m){const e=I1(),i=Object.assign(Object.assign({},e),m),{_className:s="react-pdf__Page",_enableRegisterUnregisterPage:r=!0,canvasBackground:o,canvasRef:u,children:d,className:f,customRenderer:p,customTextRenderer:v,devicePixelRatio:b,error:y="Failed to load the page.",height:_,inputRef:E,loading:x="Loading page",noData:D="No page specified.",onGetAnnotationsError:R,onGetAnnotationsSuccess:N,onGetStructTreeError:z,onGetStructTreeSuccess:B,onGetTextError:U,onGetTextSuccess:j,onLoadError:W,onLoadSuccess:Z,onRenderAnnotationLayerError:q,onRenderAnnotationLayerSuccess:J,onRenderError:et,onRenderSuccess:Tt,onRenderTextLayerError:gt,onRenderTextLayerSuccess:ht,pageIndex:mt,pageNumber:Y,pdf:X,registerPage:$,renderAnnotationLayer:Rt=!0,renderForms:L=!1,renderMode:Q="canvas",renderTextLayer:at=!0,rotate:it,scale:tt=kE,unregisterPage:bt,width:ft}=i,Ct=rD(i,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[_t,Vt]=Dc(),{value:yt,error:Je}=_t,pn=ot.useRef(null);ie(X);const Pt=Dr(Y)?Y-1:mt??null,le=Y??(Dr(mt)?mt+1:null),ve=it??(yt?yt.rotate:null),oe=ot.useMemo(()=>{if(!yt)return null;let ls=1;const os=tt??kE;if(ft||_){const Bl=yt.getViewport({scale:1,rotation:ve});ft?ls=ft/Bl.width:_&&(ls=_/Bl.height)}return os*ls},[_,yt,ve,tt,ft]);ot.useEffect(function(){return()=>{Dr(Pt)&&r&&bt&&bt(Pt)}},[r,X,Pt,bt]);function Nn(){if(Z){if(!yt||!oe)return;Z(Z0(yt,oe))}if(r&&$){if(!Dr(Pt)||!pn.current)return;$(Pt,pn.current)}}function Pn(){Je&&(li(!1,Je.toString()),W&&W(Je))}ot.useEffect(function(){Vt({type:"RESET"})},[Vt,X,Pt]),ot.useEffect(function(){if(!X||!le)return;const os=Pd(X.getPage(le)),Bl=os;return os.promise.then(jl=>{Vt({type:"RESOLVE",value:jl})}).catch(jl=>{Vt({type:"REJECT",error:jl})}),()=>Nl(Bl)},[Vt,X,le]),ot.useEffect(()=>{if(yt!==void 0){if(yt===!1){Pn();return}Nn()}},[yt,oe]);const Lc=ot.useMemo(()=>yt&&Dr(Pt)&&le&&Dr(ve)&&Dr(oe)?{_className:s,canvasBackground:o,customTextRenderer:v,devicePixelRatio:b,onGetAnnotationsError:R,onGetAnnotationsSuccess:N,onGetStructTreeError:z,onGetStructTreeSuccess:B,onGetTextError:U,onGetTextSuccess:j,onRenderAnnotationLayerError:q,onRenderAnnotationLayerSuccess:J,onRenderError:et,onRenderSuccess:Tt,onRenderTextLayerError:gt,onRenderTextLayerSuccess:ht,page:yt,pageIndex:Pt,pageNumber:le,renderForms:L,renderTextLayer:at,rotate:ve,scale:oe}:null,[s,o,v,b,R,N,z,B,U,j,q,J,et,Tt,gt,ht,yt,Pt,le,L,at,ve,oe]),Oc=ot.useMemo(()=>z1(Ct,()=>yt&&(oe?Z0(yt,oe):void 0)),[Ct,yt,oe]),ca=`${Pt}@${oe}/${ve}`;function fg(){switch(Q){case"custom":return ie(p),Ft.jsx(p,{},`${ca}_custom`);case"none":return null;case"canvas":default:return Ft.jsx(iD,{canvasRef:u},`${ca}_canvas`)}}function pg(){return at?Ft.jsx(sD,{},`${ca}_text`):null}function Xi(){return Rt?Ft.jsx(aD,{},`${ca}_annotations`):null}function gg(){return Ft.jsxs(q1.Provider,{value:Lc,children:[fg(),pg(),Xi(),d]})}function Hd(){return le?X===null||yt===void 0||yt===null?Ft.jsx(No,{type:"loading",children:typeof x=="function"?x():x}):X===!1||yt===!1?Ft.jsx(No,{type:"error",children:typeof y=="function"?y():y}):gg():Ft.jsx(No,{type:"no-data",children:typeof D=="function"?D():D})}return Ft.jsx("div",Object.assign({className:cg(s,f),"data-page-number":le,ref:G1(E,pn),style:{"--scale-factor":`${oe}`,backgroundColor:o||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},Oc,{children:Hd()}))}GM();ub.workerSrc="pdf.worker.mjs";ub.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${H1}/pdf.worker.min.js`;function oD(){const[m,e]=ot.useState(""),[i,s]=ot.useState([]);ot.useEffect(()=>{(async()=>{try{const f=await(await fetch("/api/classes")).json();s(f)}catch(d){console.error("Errore nel caricamento delle classi:",d),s(["1A","1B","2A","2B"])}})()},[]);const r=u=>{e(u.target.value)},o=()=>m?`/pdf/${m}.pdf`:null;return Ft.jsxs("div",{className:"app-container",children:[Ft.jsx("h1",{className:"app-title",children:"Visualizzatore Orario Scolastico"}),Ft.jsxs("div",{className:"form-container",children:[Ft.jsxs("div",{className:"form-section",children:[Ft.jsx("label",{htmlFor:"class-select",children:"Seleziona la classe:"}),Ft.jsxs("select",{id:"class-select",className:"input-select",value:m,onChange:r,children:[Ft.jsx("option",{value:"",children:"Scegli una classe"}),i.map(u=>Ft.jsx("option",{value:u,children:u},u))]})]}),m&&Ft.jsx("div",{className:"pdf-container",children:Ft.jsx($M,{file:o(),error:"Si  verificato un errore nel caricamento del PDF",loading:"Caricamento del PDF in corso...",children:Ft.jsx(lD,{pageNumber:1})})})]})]})}wC.createRoot(document.getElementById("root")).render(Ft.jsx(ot.StrictMode,{children:Ft.jsx(oD,{})}));
